(async function(){window.DIGIOH_LOADER=window.DIGIOH_LOADER||{},window.DIGIOH_LOADER.loads=window.DIGIOH_LOADER.loads||{};let customjsLoader=DIGIOH_LOADER?.loads?DIGIOH_LOADER.loads.custom:null;function createDigiohLogModule(t){let r={notify:function(){}},o=!1,i=[],n=!1,s=[],a=[],l=[],c=!1,u=!1;function _(e){window&&window.sessionStorage&&(e?window.sessionStorage.setItem("printAllCalled","true"):window.sessionStorage.removeItem("printAllCalled"))}function d(e,t){try{return"string"==typeof t&&t.length>0?t+=" -- ":t="","string"==typeof e&&0!==e.indexOf("DIGIOH:")&&-1===e.indexOf("POST")?"DIGIOH: "+t+e:"object"==typeof e&&null!==e?t+JSON.stringify(e,void 0,2):null!=e?t+e:""}catch(t){return DAPI.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),e}}function g(e){try{return void 0!==e&&null!=e||(e={}),o}catch(e){console.log("ERROR_LOG",e)}}function f(e,t){try{"string"!=typeof t&&(t=""),o&&"undefined"!=typeof console?console.log(d(e,t)):i.push(d(e,t))}catch(e){g(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e))}}function p(e){try{n&&"undefined"!=typeof console?"string"==typeof e&&0!==e.indexOf("ERROR::::")?console.log("ERROR:::: "+e):"object"==typeof e&&null!==e?console.log("ERROR:::: "+JSON.stringify(e,void 0,2)):null!=e&&console.log(e):"string"==typeof e&&0!==e.indexOf("ERROR::::")?(s.push("ERROR:::: "+e),i.push("ERROR:::: "+e)):"object"==typeof e&&null!==e?(s.push("ERROR:::: "+JSON.stringify(e,void 0,2)),i.push("ERROR:::: "+JSON.stringify(e,void 0,2))):null!=e&&(s.push(e),i.push(e))}catch(e){g(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e))}}function I(e,t,o){try{void 0!==o&&null!=o||(o=""),p(t&&"logger"!==t?o+"."+t+"() - "+e.message:o+" - "+e.message),u?(O(),r.notify(e,(function(e){e.context=o+" - "+t}))):a.push({ex:e,fcn:o+" - "+t,processed:!1})}catch(e){g(e)&&(e.message="DIGIOH_ERROR: "+o+" -- "+e.message,console.error(e))}}function h(e){if("string"==typeof e&&""!==e||(e="CUSTOM_JS_"),"undefined"!=typeof console)if(o=!0,"string"==typeof e&&""!==e&&"all"!==e){for(var t=0,r=0;r<i.length;r++)"string"==typeof i[r]&&i[r].indexOf(e)>=0&&(console.log(i[r]),t++);0===e.indexOf("CUSTOM_JS")&&console.log(t+' Total Messages Printed.  New messages will now stream automatically to the console.  Use the "printAll()" function to see more runtime details.')}else{for(r=0;r<i.length;r++)console.log(i[r]);console.log(i.length+" Total Messages Printed.  New messages will now stream automatically to the console...")}}function O(){if(a.length>0)for(var t=0;t<a.length;t++)a[t].processed||(r.notify(e,(function(e){e.context=a[t].fcn})),a[t].processed=!0)}function m(){_(!0),h("all")}return{tryShowError:g,log:f,logError:I,logErrorExternal:p,logErrorFromBox:function(e,t){I(e,t,"BOX")},logErrorFromAnalytics:function(e,t){I(e,t,"ANALYTICS")},logErrorFromCustomJsParent:function(e,t){I(e,t,"PARENT_JS")},printErrors:function(){if("undefined"!=typeof console){n=!0;for(var e=0;e<s.length;e++)console.log(s[e]);console.log(s.length+" Total Errors Printed")}},print:h,printAll:m,init:function(e,t){try{e&&m(),c=!!t}catch(e){g(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),I(e,"trySessionPrint")}},logErrorText:function(e,t){u?(function(){if(l.length>0)for(var e=0;e<l.length;e++)l[e].processed||(r.notify({name:"DIGIOH ERROR: "+l[e].fcn+" - ",message:l[e].msg}),l[e].processed=!0)}(),r.notify({name:"DIGIOH ERROR: "+e+" - ",message:t})):l.push({msg:t,fcn:e,processed:!1}),e&&"logger"!=e&&f("ERROR:::: "+e+"() - "+t)},isStickyShowLogs:function(){return window&&window.sessionStorage&&window.sessionStorage.getItem("printAllCalled")},setStickyShowLogs:_,initBugsnag:function(e){if(!u&&"undefined"==typeof Bugsnag){var t=document.createElement("script");t.onload=function(){Bugsnag.start({apiKey:"deca01b8bd440682edea216865c466d6",autoDetectErrors:!1,autoTrackSessions:!1,maxEvents:3,appVersion:DIGIOH_API?.CONFIG?.BUILD_VERSION_NUMBER??"unset",metadata:{storage_type:DIGIOH_STORAGE_TYPE,cache_version:DIGIOH_CACHE_VERSION,embed_type:DIGIOH_EMBED_TYPE,vendor_guid:DIGIOH_VENDOR_GUID,user_id:DIGIOH_VENDOR_SHORT_ID}}),Bugsnag.notifyOrig=Bugsnag.notify,r=Bugsnag,u=!0,O()},t.src="//"+e+"/static/bugsnag-7.min.js",document.head.appendChild(t)}},setBugsnagStatus:function(e){r.notify=!0===e?r.notifyOrig:function(){}}}}function createUtilModule(e){const t=e.document;function r(e,t){return null!=e&&("string"==typeof e?e.indexOf(t)>=0:!!Array.isArray(e)&&e.includes(t))}function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function i(e){if("boolean"==typeof e)return e;if("string"==typeof e){const t=/^\s*(true|false)\s*$/i,r=e.match(t);if(r)return"true"==r[1].toLowerCase()}}function n(e,t){return-1!==e.indexOf(t,e.length-t.length)}function s(e,t,r){const o=r||JQUERY_DIGIOH;try{var i="#"+e;if("body"==e&&(i="body"),void 0===t.k||null===t.k||""===t.k)return;"class"===t.k?o(i).addClass(t.v):o(i).attr(t.k,t.v)}catch(e){}}function a(e){return e&&"string"==typeof e?e.replace(/[^a-zA-Z0-9\-_&=]/g,""):""}return{decodeHtml:function(e){var r=t.createElement("div");return r.innerHTML=e,r.textContent||r.innerText||""},stringOrArrayContains:r,trySetAttribute:s,removeFromStringOrArray:function(e,t){return null==e||("string"==typeof e&&e.indexOf(t)>=0?e=e.split(t).join(""):Array.isArray(e)&&(e=e.filter((function(e){return t!==e})))),e},generateGuidWithTimestamp:function(){var e=(new Date).getTime();return o()+"-"+e},generateGuid:o,mergeObjectData:function(e,t){var r={};for(var o in e)r[o]=e[o];for(var o in t)r[o]=t[o];return r},cloneObj:function e(t){var r;if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(r=new Date).setTime(t.getTime()),r;if(t instanceof Array){r=[];for(var o=0,i=t.length;o<i;o++)r[o]=e(t[o]);return r}if(t instanceof Object){for(var n in r={},t)t.hasOwnProperty(n)&&"__proto__"!==n&&(r[n]=e(t[n]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")},getRandomInt:function(e,t){if(e>t)throw new RangeError("Min should be less than max");const r=t-e+1,o=Math.pow(2,32)-1;let i=0,n=o%r;do{const e=new Uint32Array(1);window.crypto.getRandomValues(e),i=e[0]}while(i>=o-n);return e+i%r},isStringAnInteger:function(e){return!(!e||0==e.length||isNaN(e))},stringEndsWith:n,stringStartsWith:function(e,t){return 0===e.indexOf(t)},compareUrlEqualityWithAndWithoutTrailingSlash:function(e,t){try{return e.toLowerCase()==t.toLowerCase()||(e.length>1&&n(e,"/")&&(e=e.substr(0,e.length-1)),t.length>1&&n(t,"/")&&(t=t.substr(0,t.length-1)),e.toLowerCase()==t.toLowerCase())}catch(e){return!1}},compareUrlEndingWithAndWithoutTrailingSlash:function(e,t){try{return!!n(e.toLowerCase(),t.toLowerCase())||(e.length>1&&n(e,"/")&&(e=e.substr(0,e.length-1)),n(e.toLowerCase(),t.toLowerCase()))}catch(e){return!1}},getIntFromStringOrIntOrDecimal:function e(t){try{if(null==t||0===t||""===t)return 0;if("string"==typeof t){if(0===(t=t.trim()).indexOf("."))return 0;if(t.indexOf(".")>0)return e(t.split(".")[0].trim());var r=parseInt(t.trim());return isNaN(r)?0:Math.round(r)}if("number"==typeof t)return Math.round(t)}catch(e){}return t},getUrlParam:function(e,t){try{if(!e)return null;var o=parent.location.href;if("string"==typeof t&&0===t.indexOf("http")&&(o=t),!o||!r(o,"?"))return null;var i=o.split("?")[1],n="";if(i&&i.indexOf("#")>-1){var s=i.split("#");i=s[0];var l=s[1];l&&(n=a(l))}if(!i||!r(i,e+"=")){if(n&&r(n,e+"=")){var c="",u=!1;if(r(n,"&")){for(var _=n.split("&"),d=0;d<_.length;d++)if(0===_[d].indexOf(e+"=")){c=_[d].split(e+"=")[1],u=!0;break}}else 0===n.indexOf(e+"=")&&(c=n.split(e+"=")[1],u=!0);if(u)return r(c,"%")?decodeURIComponent(c):c}return null}var g="",f=!1;if(r(i,"&")){for(s=i.split("&"),d=0;d<s.length;d++)if(0===s[d].indexOf(e+"=")){g=s[d].split(e+"=")[1],f=!0;break}}else 0===i.indexOf(e+"=")&&(g=i.split(e+"=")[1],f=!0);return f?r(g,"%")?decodeURIComponent(g):g:null}catch(e){return null}},extractTextFromHTML:function(e,r){try{var o=t.createElement("span");if(o.innerHTML=e,r)for(var i=o.querySelectorAll("*"),n=0;n<i.length;n++)i[n].textContent?i[n].textContent+=" ":i[n].innerText+=" ";return[o.textContent||o.innerText].toString().replace(/ +/g," ")}catch(e){}return e},isNumeric:function(e){return"string"==typeof e&&!isNaN(e)&&!isNaN(parseFloat(e))},isNullOrWhitespace:function(e){return void 0===e||null==e||e.replace(/\s/g,"").length<1},getCleanQueryStringValue:function(e){return"string"==typeof e?e.split("=").join("[*#*!]").split("&").join("[*#*$]").split("|").join("[*#*%]")+"&":"object"==typeof e&&null!==e&&"function"==typeof e.join?e.join(",").split("=").join("[*#*!]").split("&").join("[*#*$]").split("|").join("[*#*%]")+"&":"object"==typeof e&&null!==e?JSON.stringify(e).split("=").join("[*#*!]").split("&").join("[*#*$]").split("|").join("[*#*%]")+"&":"boolean"==typeof e||"number"==typeof e?e.toString()+"&":"&"},copyToClipboard:function(e,t){const r=t||r,o=r.createElement("textarea");o.value=e,o.style.position="absolute",o.style.left="-9999px",r.body.appendChild(o),o.select(),r.execCommand("copy"),r.body.removeChild(o)},trySetAttribute:s,isBooleanTrue:function(e){return!0===i(e)},asBoolean:i,isBoolean:function(e){return void 0!==i(e)},isObj:function(e){return"object"==typeof e&&null!==e},isNullish:function(e){return null==e},isNumber:function(e){return"number"==typeof e},isCss:function(e){return"string"==typeof e&&e.indexOf(":")>0},arrRm:function(e,t){const r=e.indexOf(t);return r>-1&&e.splice(r,1),r>-1},stringifyVal:function(e,t=0){if("object"==typeof e)try{e=JSON.stringify(e)}catch(t){e="{...object...}"}const r=String(e);return t>0&&r.length>t?r.slice(0,t)+"...":r},escapeHtml:function(e){if("string"!=typeof e)return"";var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return e.replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},sanitizeQaParam:a}}function createDigiohUtilModule(e){function t(e){var t="";if(0===e.indexOf("ep"))for(var r=2;r<e.length&&"1234567890".indexOf(e.substr(r,1))>=0;r++)t+=e.substr(r,1);return t}return{getExtraPageNumberFromEPString:t,getFriendlyPagePrefix:function(e){var r="main";return"string"!=typeof e||e.length<3||e.length>7?r="main":"thx_"===e||"thx"===e?r="thx":"ep1_"===e||"ep1"===e?r="ep1":"ep2_"===e||"ep2"===e?r="ep2":"ep3_"===e||"ep3"===e?r="ep3":"ep4_"===e||"ep4"===e?r="ep4":0===e.indexOf("ep")&&(r="ep"+t(e)),r},getUnfriendlyPagePrefix:function(e){var r="";return"string"!=typeof e||e.length<3||e.length>7?r="":"thx_"===e||"thx"===e?r="thx_":"ep1_"===e||"ep1"===e?r="ep1_":"ep2_"===e||"ep2"===e?r="ep2_":"ep3_"===e||"ep3"===e?r="ep3_":"ep4_"===e||"ep4"===e?r="ep4_":0===e.indexOf("ep")&&(r="ep"+t(e)+"_"),r},getPlainPref:function(e){return e.replace("main_page","").replace("main","").replace("extra_page_","ep").replace("thank_you_page","thx").replace("_","")}}}var c,b;customjsLoader&&await customjsLoader.promise,window.DIGIOH_LIGHTBOX_ANALYTICS={},"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={createDigiohLogModule:createDigiohLogModule}),window.DIGIOH_LOG=createDigiohLogModule({}),DIGIOH_CONFIG.DIGIOH_USE_BUGSNAG&&DIGIOH_LOG.initBugsnag(DIGIOH_CONFIG.CDN_DOMAIN),window.DLOG=DIGIOH_LOG,DIGIOH_API.DLOG=DIGIOH_LOG,DIGIOH_API.log=DIGIOH_LOG.log,DIGIOH_API.logError=DIGIOH_LOG.logErrorExternal,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={createUtilModule:createUtilModule}),window.DIGIOH_GUTIL=createUtilModule({document:window.document}),DIGIOH_API.UTIL=DIGIOH_GUTIL,"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={createDigiohUtilModule:createDigiohUtilModule}),window.DIGIOH_DUTIL=createDigiohUtilModule({}),DIGIOH_API.DUTIL=DIGIOH_DUTIL,c=this,b=function(Keen){function Keen(e){this.configure(e||{})}Keen.version="3.1.0",Keen.utils={},Keen.canXHR=!1,"object"!=typeof XMLHttpRequest&&"function"!=typeof XMLHttpRequest||"withCredentials"in new XMLHttpRequest&&(Keen.canXHR=!0),Keen.urlMaxLength=16e3,(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&(Keen.urlMaxLength=2e3),Keen.enabled=!0,Keen.loaded=!0,Keen.ready=function(e){Keen.loaded?e():Keen.on("ready",e)},Keen.debug=!1,Keen.log=function(e){Keen.debug&&"object"==typeof console&&console.log("[Keen IO]",e)};var Events=Keen.Events={on:function(e,t){return this.listeners||(this.listeners={}),(this.listeners[e]||(this.listeners[e]=[])).push({callback:t}),this},once:function(e,t,r){var o=this,i=_once((function(){o.off(e,i),t.apply(this,arguments)}));return i._callback=t,o.on(e,i,r)},off:function(e,t,r){if(!this.listeners)return this;if(!e&&!t&&!r)return this.listeners=void 0,this;var o=[];e?o.push(e):_each(this.listeners,(function(e,t){o.push(t)}));for(var i=0,n=o.length;i<n;i++){e=o[i];var s=this.listeners[e];if(s)if(t||r){for(var a=[],l=0,c=s.length;l<c;l++){var u=s[l];(t&&t!==u.callback&&t!==u.callback._callback||r&&r!==u.context)&&a.push(u)}a.length?this.listeners[e]=a:delete this.listeners[e]}else delete this.listeners[e]}return this},trigger:function(e){if(!this.listeners)return this;for(var t=Array.prototype.slice.call(arguments,1),r=this.listeners[e]||[],o=0;o<r.length;o++)r[o].callback.apply(this,t);return this}},root;function _once(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(this,arguments),e=null),t}}function _loadAsync(){var e,t,r=window.Keen,o=window._Keen||{};if(r&&o){for(var i in e=o.clients||{},t=o.ready||[],e)if(e.hasOwnProperty(i)){var n=e[i];for(var s in Keen.prototype)Keen.prototype.hasOwnProperty(s)&&(r.prototype[s]=Keen.prototype[s]);if(r.Query=Keen.Query?Keen.Query:function(){},r.Visualization=Keen.Visualization?Keen.Visualization:function(){},n._config){n.configure.call(n,n._config),n._config=void 0;try{delete n._config}catch(e){}}if(n._setGlobalProperties){for(var a=n._setGlobalProperties,l=0;l<a.length;l++)n.setGlobalProperties.apply(n,a[l]);n._setGlobalProperties=void 0;try{delete n._setGlobalProperties}catch(e){}}if(n._addEvent){var c=n._addEvent||[];for(l=0;l<c.length;l++)n.addEvent.apply(n,c[l]);n._addEvent=void 0;try{delete n._addEvent}catch(e){}}var u=n._on||[];if(n._on){for(l=0;l<u.length;l++)n.on.apply(n,u[l]);n.trigger("ready"),n._on=void 0;try{delete n._on}catch(e){}}}for(l=0;l<t.length;l++)u=t[l],Keen.once("ready",(function(){u()}))}}function _clone(e){return JSON.parse(JSON.stringify(e))}function _each(e,t,r){var o;if(!e)return 0;if(r=r||e,e instanceof Array){for(o=0;o<e.length;o++)if(!1===t.call(r,e[o],o,e))return 0}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(r,e[o],o,e))return 0;return 1}function _extend(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])e[r]=arguments[t][r];return e}function _parseParams(e){for(var t,r={},o=/\+/g,i=/([^&=]+)=?([^&]*)/g,n=function(e){return decodeURIComponent(e.replace(o," "))},s=e.split("?")[1];t=i.exec(s);)r[n(t[1])]=n(t[2]);return r}function _sendBeacon(e,t,r,o){var i=r,n=o,s=document.createElement("img");r=null,o=null,s.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();i&&(i({created:!0}),i=n=null)},s.onerror=function(){n&&(n(),i=n=null)},s.src=e+"&c=clv1"}function _sendJsonp(e,t,r,o){var i=(new Date).getTime(),n=r,s=o,a=document.createElement("script"),l=document.getElementsByTagName("head")[0],c="keenJSONPCallback",u=!1;for(r=null,o=null,c+=i;c in window;)c+="a";function _(){window[c]=void 0;try{delete window[c]}catch(e){}n=s=null,l.removeChild(a)}window[c]=function(e){!0!==u&&(u=!0,n&&e&&n(e),_())},a.src=e+"&jsonp="+c,l.appendChild(a),a.onreadystatechange=function(){!1===u&&"loaded"===this.readyState&&(u=!0,s&&s())},a.onerror=function(){!1===u&&(u=!0,s&&s(),_())}}function _sendXhr(e,t,r,o,i,n){var s,a,l=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=i,u=n;if(i=null,n=null,window.XMLHttpRequest)a=new XMLHttpRequest;else for(var _=0;_<l.length;_++)try{a=new ActiveXObject(l[_]);break}catch(e){}a.onreadystatechange=function(){var e;if(4==a.readyState)if(a.status>=200&&a.status<300){try{e=JSON.parse(a.responseText)}catch(e){Keen.log("Could not parse HTTP response: "+a.responseText),u&&(u(a,e),c=u=null)}c&&e&&(c(e),c=u=null)}else Keen.log("HTTP request failed."),u&&(u(a,null),c=u=null)},a.open(e,t,!0),_each(r,(function(e,t){a.setRequestHeader(t,e)})),o&&(s=JSON.stringify(o)),e&&"GET"===e.toUpperCase()?a.send():e&&"POST"===e.toUpperCase()&&a.send(s)}function _uploadEvent(e,t,r,o){var i,n,s,a;Keen.enabled?this.projectId()?this.writeKey()?(i=this.url("/projects/"+this.projectId()+"/events/"+e),n="",s=this.config.requestType,a={},this.config.globalProperties&&(a=this.config.globalProperties(e)),_each(t,(function(e,t){a[t]=e})),"xhr"!==s&&(n+="?api_key="+encodeURIComponent(this.writeKey()),n+="&data="+encodeURIComponent(Keen.Base64.encode(JSON.stringify(a))),n+="&modified="+encodeURIComponent((new Date).getTime()),String(i+n).length<Keen.urlMaxLength)?"jsonp"===s?_sendJsonp(i+n,null,r,o):_sendBeacon(i+n,null,r,o):Keen.canXHR?_sendXhr("POST",i,{Authorization:this.writeKey(),"Content-Type":"application/json"},a,r,o):Keen.log("Event not sent: URL length exceeds current browser limit, and XHR (POST) is not supported.")):Keen.log("Event not recorded: Missing writeKey property"):Keen.log("Event not recorded: Missing projectId property"):Keen.log("Event not recorded: Keen.enabled = false")}return _extend(Keen.prototype,Events),_extend(Keen,Events),Keen.prototype.addEvent=function(e,t,r,o){var i;if(!e||"string"!=typeof e)return i="Event not recorded: Collection name must be a string",Keen.log(i),void(o&&o.call(this,i));_uploadEvent.apply(this,arguments)},Keen.prototype.configure=function(e){var t=e||{};Keen.canXHR||"xhr"!==t.requestType||(t.requestType="jsonp"),t.host&&t.host.replace(/.*?:\/\//g,""),t.protocol&&"auto"===t.protocol&&(t.protocol=location.protocol.replace(/:/g,"")),this.config={projectId:t.projectId,writeKey:t.writeKey,readKey:t.readKey,masterKey:t.masterKey,requestType:t.requestType||"jsonp",host:t.host||"api.keen.io/3.0",protocol:t.protocol||"https",globalProperties:null},this.trigger("ready"),Keen.trigger("client",this,t)},Keen.prototype.masterKey=function(e){return arguments.length?(this.config.masterKey=e?String(e):null,this):this.config.masterKey},Keen.prototype.projectId=function(e){return arguments.length?(this.config.projectId=e?String(e):null,this):this.config.projectId},Keen.prototype.readKey=function(e){return arguments.length?(this.config.readKey=e?String(e):null,this):this.config.readKey},Keen.prototype.setGlobalProperties=function(e){e&&"function"==typeof e?this.config.globalProperties=e:Keen.log("Invalid value for global properties: "+e)},Keen.prototype.trackExternalLink=function(e,t,r,o,i){var n,s=e,a=s.currentTarget?s.currentTarget:s.srcElement||s.target,l=o||500,c=!1,u="";if(void 0!==a.getAttribute?u=a.getAttribute("target"):a.target&&(u=a.target),"_blank"!=u&&"blank"!=u||s.metaKey||(window.open("about:blank").document.location=a.href),"A"===a.nodeName?n=function(){c||s.metaKey||"_blank"===u||"blank"===u||(c=!0,window.location=a.href)}:"FORM"===a.nodeName?n=function(){c||(c=!0,a.submit())}:Keen.log("#trackExternalLink method not attached to an <a> or <form> DOM element"),i&&(n=function(){c||(c=!0,i())}),_uploadEvent.call(this,t,r,n,n),setTimeout(n,l),!s.metaKey)return!1},Keen.prototype.url=function(e){return this.config.protocol+"://"+this.config.host+e},Keen.prototype.writeKey=function(e){return arguments.length?(this.config.writeKey=e?String(e):null,this):this.config.writeKey},_extend(Keen.utils,{each:_each}),_extend(Keen.utils,{extend:_extend}),_extend(Keen.utils,{parseParams:_parseParams}),Keen.Base64={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,o,i,n,s,a,l="",c=0,u=this.map;for(e=this.utf8.encode(e);c<e.length;)t=e.charCodeAt(c++),r=e.charCodeAt(c++),o=e.charCodeAt(c++),i=t>>2,n=(3&t)<<4|r>>4,s=isNaN(r)?64:(15&r)<<2|o>>6,a=isNaN(r)||isNaN(o)?64:63&o,l=l+u.charAt(i)+u.charAt(n)+u.charAt(s)+u.charAt(a);return l},decode:function(e){var t,r,o,i,n,s,a="",l=0,c=this.map,u=String.fromCharCode;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=c.indexOf(e.charAt(l++)),n=(15&(r=c.indexOf(e.charAt(l++))))<<4|(o=c.indexOf(e.charAt(l++)))>>2,s=(3&o)<<6|(i=c.indexOf(e.charAt(l++))),a=a+(u(t<<2|r>>4)+(64!=o?u(n):""))+(64!=i?u(s):"");return this.utf8.decode(a)},utf8:{encode:function(e){for(var t,r="",o=0,i=String.fromCharCode;o<e.length;)r+=(t=e.charCodeAt(o++))<128?i(t):t>127&&t<2048?i(t>>6|192)+i(63&t|128):i(t>>12|224)+i(t>>6&63|128)+i(63&t|128);return r},decode:function(e){for(var t,r="",o=0,i=String.fromCharCode;o<e.length;)r+=(t=e.charCodeAt(o))<128?[i(t),o++][0]:t>191&&t<224?[i((31&t)<<6|63&e.charCodeAt(o+1)),o+=2][0]:[i((15&t)<<12|(63&e.charCodeAt(o+1))<<6|63&(c3=e.charCodeAt(o+2))),o+=3][0];return r}}},"object"!=typeof JSON&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var r,o,i,n,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(n=l.length,r=0;r<n;r+=1)s[r]=str(r,l)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(n=rep.length,r=0;r<n;r+=1)"string"==typeof rep[r]&&(i=str(o=rep[r],l))&&s.push(quote(o)+(gap?": ":":")+i);else for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i=str(o,l))&&s.push(quote(o)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var o;if(gap="",indent="","number"==typeof r)for(o=0;o<r;o+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var r,o,i=e[t];if(i&&"object"==typeof i)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(o=walk(i,r))?i[r]=o:delete i[r]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),root=Keen,root.utils.domready=function(e){var t,r=[],o=!1,i=document,n=i.documentElement,s=n.doScroll,a="DOMContentLoaded",l="addEventListener",c="onreadystatechange",u="readyState",_=(s?/^loaded|^c/:/^loaded|c/).test(i[u]);function d(e){for(_=1;e=r.shift();)e()}return i[l]&&i[l](a,t=function(){i.removeEventListener(a,t,o),d()},o),s&&i.attachEvent(c,t=function(){/^c/.test(i[u])&&(i.detachEvent(c,t),d())}),e=s?function(t){self!=top?_?t():r.push(t):function(){try{n.doScroll("left")}catch(r){return setTimeout((function(){e(t)}),50)}t()}()}:function(e){_?e():r.push(e)}}(),Keen.loaded&&setTimeout((function(){Keen.utils.domready((function(){Keen.trigger("ready")}))}),0),_loadAsync(),Keen},"function"==typeof define&&define.amd&&define("keen",[],(function(e){return b()})),"object"==typeof module&&"object"==typeof module.exports?module.exports=b():c.Keen=b();var LZString=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={};var o={compressToBase64:function(e){if(null==e)return"";var r=o._compress(e,6,(function(e){return t.charAt(e)})),i=r.length%4;return 1==i&&(r+="==="),2==i&&(r+="=="),3==i&&(r+="="),r=r.split("+").join("-").split("/").join(".").split("=").join("_")},decompressFromBase64:function(e){return null==e?"":""==e?null:(e=e.split("-").join("+").split(".").join("/").split("_").join("="),o._decompress(e.length,32,(function(o){return function(e,t){if(!r[e]){r[e]={};for(var o=0;o<e.length;o++)r[e][e.charAt(o)]=o}return r[e][t]}(t,e.charAt(o))})))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),r=new Uint8Array(2*t.length),i=0,n=t.length;i<n;i++){var s=t.charCodeAt(i);r[2*i]=s>>>8,r[2*i+1]=s%256}return r},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var r=new Array(t.length/2),i=0,n=r.length;i<n;i++)r[i]=256*t[2*i]+t[2*i+1];var s=[];return r.forEach((function(t){s.push(e(t))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return o.compressToBase64(e)},decompressFromEncodedURIComponent:function(e){return o.decompressFromBase64(e)},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var o,i,n,s={},a={},l="",c="",u="",_=2,d=3,g=2,f=[],p=0,I=0;for(n=0;n<e.length;n+=1)if(l=e.charAt(n),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=d++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(o=0;o<g;o++)p<<=1,I==t-1?(I=0,f.push(r(p)),p=0):I++;for(i=u.charCodeAt(0),o=0;o<8;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1}else{for(i=1,o=0;o<g;o++)p=p<<1|i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i=0;for(i=u.charCodeAt(0),o=0;o<16;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1}0==--_&&(_=Math.pow(2,g),g++),delete a[u]}else for(i=s[u],o=0;o<g;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1;0==--_&&(_=Math.pow(2,g),g++),s[c]=d++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(o=0;o<g;o++)p<<=1,I==t-1?(I=0,f.push(r(p)),p=0):I++;for(i=u.charCodeAt(0),o=0;o<8;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1}else{for(i=1,o=0;o<g;o++)p=p<<1|i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i=0;for(i=u.charCodeAt(0),o=0;o<16;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1}0==--_&&(_=Math.pow(2,g),g++),delete a[u]}else for(i=s[u],o=0;o<g;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1;0==--_&&(_=Math.pow(2,g),g++)}for(i=2,o=0;o<g;o++)p=p<<1|1&i,I==t-1?(I=0,f.push(r(p)),p=0):I++,i>>=1;for(;;){if(p<<=1,I==t-1){f.push(r(p));break}I++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,o){var i,n,s,a,l,c,u,_=[],d=4,g=4,f=3,p="",I=[],h={val:o(0),position:r,index:1};for(i=0;i<3;i+=1)_[i]=i;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 2:return""}for(_[3]=u,n=u,I.push(u);;){if(h.index>t)return"";for(s=0,l=Math.pow(2,f),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;_[g++]=e(s),u=g-1,d--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=h.val&h.position,h.position>>=1,0==h.position&&(h.position=r,h.val=o(h.index++)),s|=(a>0?1:0)*c,c<<=1;_[g++]=e(s),u=g-1,d--;break;case 2:return I.join("")}if(0==d&&(d=Math.pow(2,f),f++),_[u])p=_[u];else{if(u!==g)return null;p=n+n.charAt(0)}I.push(p),_[g++]=n+p.charAt(0),n=p,0==--d&&(d=Math.pow(2,f),f++)}}};return o}();function createDigiohAnalyticsModule(e){const t=e.DLOG,r=e.VENDOR_GUID,o=e.IS_PREVIEW;let i=!0,n=!0,s=(new Date).getTime(),a=0,l=18e5,c=!1,u=0;const _={};function d(){try{var e={ea:"bjs.webGl",eb:"bjs.geoLocation",ec:"bjs.webSqlDatabase",ed:"bjs.indexedDB",ef:"bjs.webSockets",eg:"bjs.localStorage",eh:"bjs.sessionStorage",ei:"bjs.webWorkers",ej:"bjs.applicationCache",ek:"bjs.supportBasicJavaScript",el:"bjs.modifyDom",em:"bjs.modifyCss",en:"bjs.supportEvents",eo:"bjs.touchEvents",ep:"bjs.supportEventListener",eq:"bjs.xhr",er:"bjs.supportConsoleLog",es:"bjs.json",et:"bjs.deviceOrientation",eu:"bjs.deviceMotion",ev:"bjs.querySelector",ew:"bjs.battery",ex:"bjs.accessDom",fa:"bhtml.canvas",fb:"bhtml.video",fc:"bhtml.audio",fd:"bhtml.svg",fe:"bhtml.inlinesvg",ga:"bcss.animations",gb:"bcss.columns",gc:"bcss.transforms",ge:"bcss.transitions",ba:"js.webSockets",bb:"js.deviceMotion",bd:"js.applicationCache",bg:"js.xhr",bi:"js.deviceOrientation",bl:"js.webWorkers",bm:"js.querySelector",bp:"js.json",bs:"js.supportEventListener",bz:"js.localStorage",cd:"js.supportEvents",cl:"js.touchEvents",ci:"js.geoLocation",cr:"js.webGl",cx:"js.indexedDB",db:"js.modifyCss",dc:"js.webSqlDatabase",dg:"js.sessionStorage",dh:"js.supportConsoleLog",dq:"js.modifyDom",ds:"js.supportBasicJavaScript",dt:"js.battery",du:"js.accessDom",ck:"html.svg",cn:"html.inlinesvg",ch:"html.video",bt:"html.audio",df:"html.canvas",dd:"css.transforms",de:"css.columns",bc:"css.animations",bq:"css.transitions",bu:"image.Jpg",cc:"image.Gif87",ce:"image.Png",cu:"image.Gif89a",ca:"markup.xhtmlMp10",bw:"markup.wml1",cm:"markup.xhtmlBasic10",cy:"markup.xhtmlMp12",cz:"markup.xhtmlMp11",ha:"iorientation",hb:"idisplayColorDepth",hc:"idevicePixelRatio",ia:"bcookieSupport",ib:"bflashCapable",ic:"baccessDom",ie:"buserMedia",ja:"sdeviceAspectRatio",jb:"sdevicePixelRatio",aa:"touchScreen",ab:"isBrowser",ac:"isMobilePhone",ad:"primaryHardwareType",ae:"isFilter",af:"mobileDevice",ag:"isSpam",ah:"isGamesConsole",ai:"isMasqueradingAsDesktop",aj:"botName",ak:"marketingName",al:"manufacturer",am:"yearReleased",an:"displayWidth",ao:"displayHeight",ap:"diagonalScreenSize",aq:"displayPpi",ar:"devicePixelRatio",as:"displayColorDepth",at:"nfc",au:"camera",av:"osProprietary",aw:"developerPlatform",ax:"developerPlatformVersion",ay:"language",az:"languageLocale",be:"jsr139",bf:"jqm",bh:"uriSchemeSms",bj:"id",bk:"https",bn:"umts",bo:"usableDisplayWidth",br:"supportsClientSide",bv:"isSpam",bx:"jsr118",by:"hspaEvolved",cb:"uriSchemeTel",cf:"jsr37",cg:"jsr30",cj:"flashCapable",co:"hsdpa",cp:"memoryLimitMarkup",cq:"memoryLimitDownload",cs:"edge",ct:"vCardDownload",cv:"drmOmaCombinedDelivery",cw:"usableDisplayHeight",da:"drmOmaSeparateDelivery",di:"gprs",dj:"lteAdvanced",dk:"lte",dl:"memoryLimitEmbeddedMedia",dm:"hscsd",dn:"cookieSupport",do:"uriSchemeSmsTo",dp:"csd",dr:"drmOmaForwardLock",dv:"accessDom",dw:"userMedia",dx:"orientation",a:"isRobot",b:"osRim",c:"isDownloader",d:"osWindowsRt",e:"isEReader",f:"osWindowsMobile",g:"isTablet",h:"osVersion",i:"osWindowsPhone",j:"isFeedReader",k:"vendor",l:"osSymbian",m:"browserVersion",n:"browserName",o:"model",p:"isChecker",q:"osiOs",r:"osBada",s:"isTV",t:"osWebOs",u:"isMediaPlayer",v:"osAndroid",w:"isSetTopBox",x:"isApp",y:"osName",z:"browserRenderingEngine"};return e}catch(e){t.logErrorFromAnalytics(e,"getDeviceAtlasServerPropsMap")}}function g(){try{return["ea","eb","ec","ed","ef","eg","eh","ei","ej","ek","el","em","en","eo","ep","eq","er","es","et","eu","ev","ew","ex","fa","fb","fc","fd","fe","ga","gb","gc","ge","ba","bb","bd","bg","bi","bl","bm","bp","bs","bz","cd","cl","ci","cr","cx","db","dc","dg","dh","dq","ds","dt","du","ck","cn","ch","bt","df","dd","de","bc","bq","bu","cc","ce","cu","ca","bw","cm","cy","cz","ha","hb","hc","ia","ib","ic","ie","ja","jb","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","be","bf","bh","bj","bk","bn","bo","br","bv","bx","by","cb","cf","cg","cj","co","cp","cq","cs","ct","cv","cw","da","di","dj","dk","dl","dm","dn","do","dp","dr","dv","dw","dx","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]}catch(e){t.logErrorFromAnalytics(e,"getDeviceAtlasServerPropsArr")}}function f(e){try{if(e.getMonth&&e.getDate&&e.getFullYear){var r=1+e.getMonth()+"/"+e.getDate()+"/"+e.getFullYear()+" ",o=e.getHours(),i=p(e.getMinutes());return r+=o>12?o-12+":"+i+" PM":12==o?"12:"+i+" PM":0==o?"12:"+i+" AM":o+":"+i+" AM"}return""}catch(e){t.logErrorFromAnalytics(e,"formatDate")}}function p(e){try{return e<10?"0"+e:""+e}catch(e){t.logErrorFromAnalytics(e,"padStr")}}function I(e){try{if(!e)return"";var r=e.toLowerCase();return 0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8)),r.indexOf("?")>0&&(r=r.split("?")[0]),r.indexOf("/")>0&&(r=r.split("/")[0]),r.indexOf("#")>0&&(r=r.split("#")[0]),r.indexOf(":")>0&&(r=r.split(":")[0]),r.indexOf(".google.")>=0||0===r.indexOf("google.")?"google":r.indexOf(".bing.")>=0||0===r.indexOf("bing.")?"bing":r.indexOf(".yahoo.")>=0||0===r.indexOf("yahoo.")?"yahoo":r.indexOf(".ask.")>=0||0===r.indexOf("ask.")?"ask":r.indexOf(".aol.")>=0||0===r.indexOf("aol.")?"aol":r.indexOf(".myway.")>=0||0===r.indexOf("myway.")?"myway":r.indexOf(".baidu.")>=0||0===r.indexOf("baidu.")?"baidu":r.indexOf(".yandex.")>=0||0===r.indexOf("yandex.")?"yandex":r.indexOf(".excite.")>=0?"excite":r.indexOf(".duckduckgo.")>=0||0===r.indexOf("duckduckgo.")?"duckduckgo":r.indexOf(".lycos.")>=0?"lycos":r.indexOf(".wolframalpha.")>=0||0===r.indexOf("wolframalpha.")?"wolframalpha":r.indexOf(".wow.com")>=0?"wow":r.indexOf(".webcrawler.")>=0||0===r.indexOf("webcrawler.")?"webcrawler":r.indexOf(".mywebsearch.")>=0||0===r.indexOf("mywebsearch.")?"mywebsearch":r.indexOf(".infospace.")>=0||0===r.indexOf("infospace.")?"infospace":r.indexOf(".info.com")>=0?"info":r.indexOf(".contenko.")>=0?"contenko":r.indexOf(".dogpile.")>=0?"dogpile":r.indexOf(".alhea.")>=0?"alhea":r.indexOf(".ixquick.")>=0||0===r.indexOf("ixquick.")?"ixquick":""}catch(e){return t.logErrorFromAnalytics(e,"getSearchEngine"),""}}function h(e,r,o){try{return!(!e||!(e.toLowerCase().indexOf("gclid=")>0||e.toLowerCase().indexOf("wbraid=")>0||e.toLowerCase().indexOf("gbraid=")>0))||!!(r&&r.toLowerCase().indexOf("/aclk?")>0)}catch(e){return t.logErrorFromAnalytics(e,"isGoogleAdWordsUrl"),!1}}function O(e){try{if(!e)return!1;var r=e.toLowerCase();return 0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8)),r.indexOf("?")>0&&(r=r.split("?")[0]),r.indexOf("/")>0&&(r=r.split("/")[0]),r.indexOf("#")>0&&(r=r.split("#")[0]),r.indexOf(":")>0&&(r=r.split(":")[0]),r.indexOf(".facebook.com")>=0||0===r.indexOf("facebook.com")}catch(e){return t.logErrorFromAnalytics(e,"isFacebookUrl"),!1}}function m(e){try{return 0==e.length?"":function(e){try{return 0==e.length?"":0==e.toLowerCase().indexOf("https://www.")?e.substring(12):0==e.toLowerCase().indexOf("http://www.")?e.substring(11):0==e.toLowerCase().indexOf("https://")?e.substring(8):0==e.toLowerCase().indexOf("http://")?e.substring(7):e}catch(e){return t.logErrorFromAnalytics(e,"removeUrlBeginning"),""}}(e).split(/[:\/?#]/)[0]}catch(e){t.logErrorFromAnalytics(e,"getUrlSubdomain")}}function v(e,r){try{return e.length>0&&r.length>0&&m(e).toLowerCase()==m(r).toLowerCase()}catch(e){t.logErrorFromAnalytics(e,"doSubdomainsMatch")}}function y(e){var r={v:{c:0,t:[]},s:{c:0,t:[]},r:{c:0,t:[]},d:{c:0,t:[]},c:{c:0,t:[]}};try{for(var o,i=e.split("*"),n=1;n<i.length;n++)if(i[n].indexOf(":")>0){var s=(o=i[n].split(":"))[0];if("view"==s?s="v":"submit"==s?s="s":"redirect"==s?s="r":"download"==s?s="d":"close"==s&&(s="c"),3==o.length&&r.hasOwnProperty(s))if(DIGIOH_API.UTIL.isStringAnInteger(o[1])&&(r[s].c=parseInt(o[1])),o[2].indexOf(",")>0)for(var a=o[2].split(","),l=0;l<a.length;l++)DIGIOH_API.UTIL.isStringAnInteger(a[l])&&r[s].t.push(parseInt(a[l]));else DIGIOH_API.UTIL.isStringAnInteger(o[2])&&r[s].t.push(parseInt(o[2]))}}catch(e){t.logErrorFromAnalytics(e,"parseLightboxEvents")}return r}function b(e,r,o,i){var n=0;try{var s=_.lightbox_events,a="";DIGIOH_LIGHTBOX_IDS.hasOwnProperty(r)&&DIGIOH_LIGHTBOX_IDS[r]&&(a=DIGIOH_LIGHTBOX_IDS[r]);var l="";i&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(i)&&DIGIOH_LIGHTBOX_IDS[i]&&(l=DIGIOH_LIGHTBOX_IDS[i]);var c=e;for(lbid in"view"==c?c="v":"submit"==c?c="s":"redirect"==c?c="r":"download"==c?c="d":"close"==c&&(c="c"),s)(lbid==a||o)&&s.hasOwnProperty(lbid)&&s[lbid].hasOwnProperty(c)&&(o||lbid!=a?(o&&""==l||o&&""!=l&&l!=lbid)&&(n+=s[lbid][c].c):n+=s[lbid][c].c);return n}catch(e){t.logErrorFromAnalytics(e,"getLightboxEventCount")}return n}return _.VendorGuid=r,_.IsLoaded=!1,_.IsPreview=o,_.current_page_url="",_.referring_website_url="",_.landing_page="",_.landing_page_ip="",_.date_of_visit=0,_.web_source="Direct Traffic",_.past_visits=0,_.page_visits=0,_.page_visits_session=0,_.pages_navigated="",_.search_engine="",_.device="",_.device_apple="",_.browser_type="",_.browser_version="",_.operating_system="",_.utm_campaign_source="",_.utm_campaign_medium="",_.utm_campaign_term="",_.utm_campaign_content="",_.utm_campaign_name="",_.total_time_seconds=0,_.active_time_seconds=0,_.idle_time_seconds=0,_.continent="",_.continent_name="",_.country="",_.country_name="",_.region_name="",_.state="",_.city="",_.ip_address="",_.zipcode="",_.latitude=0,_.longitude=0,_.metro_code="",_.time_zone="",_.area_code="",_.segments=[],_.scroll_percent=0,_.scroll_pixels=0,_.scroll_speed=0,_.scroll_speed_category="",_.last_scroll_top=0,_.last_scroll_time=Date.now(),_.exit_intent="",_.click_jquery_selector={},_.hover_jquery_selector={},_.exists_jquery_selector={},_.lightbox_activity={},_.master_rules={},_.lightbox_events={},_.DeviceAtlas={},_.DeviceAtlas.primaryHardwareType="",_.DeviceAtlas.mobileDevice="",_.DeviceAtlas.isApp="",_.DeviceAtlas.isTablet="",_.DeviceAtlas.isMobilePhone="",_.DeviceAtlas.model="",_.DeviceAtlas.vendor="",_.DeviceAtlas.touchScreen="",_.DeviceAtlas.osName="",_.DeviceAtlas.osVersion="",_.DeviceAtlas.browserName="",_.DeviceAtlas.browserVersion="",_.DeviceAtlas.osAndroid="",_.DeviceAtlas.osiOs="",_.DeviceAtlas.isRobot="",_.DeviceAtlas.isBrowser="",_.geo_source="",_.device_source="",_.PagesNavigated=new Array,_.PastVisitsText="",_.local_time_offset=0,{onDocumentReady:function(){try{!function(){try{var e=navigator.userAgent||navigator.vendor||window.opera,r="",o=!1;(/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(o=!0),o?(/ipad/i.test(e)?r="iPad":/ipod/i.test(e)?r="iPod":/iphone/i.test(e)?r="iPhone":/android/i.test(e)?r="Android":/kindle/i.test(e)?r="Kindle":/blackberry|symbian/i.test(e)?r="BlackBerry":/windows (ce|phone)|iemobile/i.test(e)&&(r="Windows Mobile"),_.device="Phone/Tablet"):_.device="Desktop/Laptop";var i={init:function(){this.browser=this.searchString(this.dataBrowser)||"unknown",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknown",this.OS=this.searchString(this.dataOS)||"unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string,o=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,r){if(-1!==r.indexOf(e[t].subString))return e[t].identity}else if(o)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};i.init(),i.OS&&i.OS.length>0&&"unknown"!=i.OS?"Mac"==i.OS?_.operating_system="Apple":i.OS.indexOf("iPhone")>-1?(_.operating_system="Apple",_.device="Phone/Tablet"):_.operating_system=i.OS:_.operating_system="",""!=r&&(_.device="Phone/Tablet","iPad"==r||"iPod"==r||"iPhone"==r?(_.operating_system="Apple",_.device_apple=r):"Android"==r?_.operating_system="Android":"Windows Mobile"==r?_.operating_system="Windows":"Kindle"==r?_.operating_system="Kindle":"BlackBerry"==r&&(_.operating_system="BlackBerry")),i.browser&&i.browser.length>0&&"unknown"!=i.browser&&(""===_.browser_type&&("Explorer"==i.browser||"Mozilla"==i.browser&&"Windows"==_.operating_system?_.browser_type="Internet Explorer":_.browser_type=i.browser),i.version&&"unknown"!=i.version?_.browser_version=i.version:_.browser_version=0)}catch(e){t.logErrorFromAnalytics(e,"setDevice")}}(),function(){try{var e=3e6,r="__bxcurr",o=DIGIOH_STORAGE.data[r],n=(new Date).getTime();let x=DIGIOH_API.DIGIOH_USE_FRAME_COMPATIBILITY?DIGIOH_API.DIGIOH_TOP_WINDOW_CONTEXT:window.parent;var s="",d="";x.document.referrer&&x.document.referrer.length>7&&(d=I(s=x.document.referrer));var g="",f="";x.location.href&&(g=x.location.href,x.location.protocol,x.location.host,f=x.location.pathname+x.location.search+x.location.hash,_.current_page_url=g),g.indexOf("/static/amp_iframe.html")>0&&"string"==typeof x.PARENT_URL&&x.PARENT_URL.indexOf(".")>0&&(x.PARENT_URL.indexOf("://")>0?(g=x.PARENT_URL).split("://")[1].split("/")[0].split("?")[0].split("#")[0]:(g="https://"+x.PARENT_URL,x.PARENT_URL.split("/")[0].split("?")[0].split("#")[0]),_.current_page_url=g);var p=v(s,g),m=s.length>0;o?p?c=!1:h(g,s,d)||m&&O(s)?c=!0:m&&""!==d?(c=!0,_.search_engine=d):m&&!p&&(c=!0):(o="",c=!0),_.IsPreview&&(c=!0);var y={};"object"==typeof o&&null!==o?y=o:"string"==typeof o&&o.length>1&&0===o.indexOf("{")&&"}"===o.substring(o.length-1)&&(y=JSON.parse(o)),u=0,y.hasOwnProperty("ppts")&&(u=y.ppts),y.ppts=n,0==u&&y.hasOwnProperty("lts")&&(u=y.lts),_.page_visits=0,y.hasOwnProperty("pvcnt")?(_.page_visits=y.pvcnt+1,y.pvcnt=y.pvcnt+1):(_.page_visits=1,y.pvcnt=1),i=!1,n-u>l?(a=n,i=!0):y.hasOwnProperty("ss")&&(a=y.ss,i=!1),0==a&&(a=n,i=!0),_.page_visits_session=0,i?(y.ss=a,_.page_visits_session=1,y.pvscnt=1,t.log("New Session: "+new Date(a).toLocaleString())):(y.hasOwnProperty("pvscnt")?(_.page_visits_session=y.pvscnt+1,y.pvscnt=y.pvscnt+1):(_.page_visits_session=1,y.pvscnt=1),t.log("Existing Session: "+new Date(a).toLocaleString()));var b=DIGIOH_STORAGE.isLocalStorage()?5e3:300;!c&&y.hasOwnProperty("rurl")||(y.rurl=s.length>b?s.substr(0,b):s),!c&&y.hasOwnProperty("lurl")||(y.lurl=f.length>b?f.substr(0,b):f),!c&&y.hasOwnProperty("lts")||(y.lts=n),!c&&y.hasOwnProperty("ppts")||(y.ppts=n),!c&&y.hasOwnProperty("pvcnt")||(y.pvcnt=_.page_visits),!c&&y.hasOwnProperty("ss")||(y.ss=a),y.hasOwnProperty("dom")&&delete y.dom,y.hasOwnProperty("prot")&&delete y.prot,y.hasOwnProperty("dev")&&delete y.dev,y.hasOwnProperty("os")&&delete y.os,y.hasOwnProperty("bt")&&delete y.bt,y.hasOwnProperty("bv")&&delete y.bv,y.hasOwnProperty("ip")&&delete y.ip,y.hasOwnProperty("geo_co")&&delete y.geo_co,y.hasOwnProperty("geo_cc")&&delete y.geo_cc,y.hasOwnProperty("geo_cn")&&delete y.geo_cn,y.hasOwnProperty("geo_rn")&&delete y.geo_rn,y.hasOwnProperty("geo_s")&&delete y.geo_s,y.hasOwnProperty("geo_c")&&delete y.geo_c,y.hasOwnProperty("geo_z")&&delete y.geo_z,y.hasOwnProperty("geo_lat")&&delete y.geo_lat,y.hasOwnProperty("geo_lon")&&delete y.geo_lon,y.hasOwnProperty("geo_mc")&&delete y.geo_mc,y.hasOwnProperty("geo_tz")&&delete y.geo_tz,y.hasOwnProperty("geo_ac")&&delete y.geo_ac;var G=[];if(y.hasOwnProperty("purl")?y.purl.length>1?G=y.purl.join("|").split("|"):1===y.purl.length&&G.push(y.purl[0]):DIGIOH_STORAGE.isCookie()&&("string"==typeof(G=DIGIOH_LOCAL_STORAGE.getManual("xdibx_pgsnavurls"))&&G.length>4&&G.indexOf("[")<0?G=JSON.parse(LZString.decompressFromBase64(G)):"string"==typeof G&&G.length>4&&G.indexOf("[")>=0&&(G=JSON.parse(G))),!c&&f.length>0)if(G.length){var D=G.join("|");f.length>0&&-1===D.indexOf(f)&&D.length+f.length<5e4&&G.push(f)}else G=[f];DIGIOH_STORAGE.isCookie()?(DIGIOH_LOCAL_STORAGE.setManual("xdibx_pgsnavurls",G),y.hasOwnProperty("purl")&&delete y.purl):y.purl=G;var E=JSON.stringify(y).length;E>e&&t.logErrorFromAnalytics(_.VendorGuid+"_LocalStorage_"+e,_.VendorGuid+" LocalStorage length greater than "+e+" ("+E+")","setCurrent"),DIGIOH_STORAGE.data[r]=y,DIGIOH_STORAGE.set()}catch(e){t.logErrorFromAnalytics(e,"setCurrent")}}(),function(){try{var e="__bxprev",r=DIGIOH_STORAGE.data[e],o=(new Date).getTime();if(r&&("string"==typeof r&&r.length>0||"object"==typeof r&&r.hasOwnProperty("days"))){if(n=!1,!_.IsPreview){var i={};if("object"==typeof r?i=r:"string"==typeof r&&r.indexOf("{")>=0&&r.indexOf("{")<=2&&(i=JSON.parse(r)),i&&i.hasOwnProperty("days")){var s=i.days,a=new Date(s[s.length-1]);a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);var l=new Date(o);if((l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0,0)).getTime()>a.getTime()){if(s.push(o),DIGIOH_STORAGE.isCookie())for(;s.length>5;)s.splice(1,1);else for(;s.length>100;)s.splice(1,1);i.days=s,DIGIOH_STORAGE.data[e]=i,DIGIOH_STORAGE.set()}}else if("string"==typeof r&&r.length>0&&r.indexOf("|")>=0){s=r.split("|"),a=new Date(parseInt(s[s.length-1]));a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0);l=new Date(o);if((l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0,0)).getTime()>a.getTime()){if(s.push(o+""),DIGIOH_STORAGE.isCookie())for(;s.length>5;)s.splice(1,1);else for(;s.length>100;)s.splice(1,1);for(var i={days:[]},c=0;c<s.length;c++)i.days.push(parseInt(s[c]));DIGIOH_STORAGE.data[e]=i,DIGIOH_STORAGE.set()}}}}else(i={}).days=[o],DIGIOH_STORAGE.data[e]=i,DIGIOH_STORAGE.set()}catch(e){t.logErrorFromAnalytics(e,"setPrevious")}}()}catch(e){t.logErrorFromAnalytics(e,"onDocumentReady")}},loadAllVars:function(){try{!function(){try{var e="__bxcurr",r=DIGIOH_STORAGE.data[e];let y=DIGIOH_API.DIGIOH_USE_FRAME_COMPATIBILITY?DIGIOH_API.DIGIOH_TOP_WINDOW_CONTEXT:window.parent;if(r){var o={};"string"==typeof r&&r.length>1&&0===r.indexOf("{")&&"}"===r.substring(r.length-1)?o=JSON.parse(r):"object"==typeof r&&null!==r&&(o=r);var i=y.location.protocol,n=y.location.host;t.log("getCurrent > domain_base = "+n),o.hasOwnProperty("lurl")&&(_.landing_page=i+"//"+n+o.lurl);var s=o.hasOwnProperty("rurl")&&o.rurl?o.rurl:"";_.referring_website_url=s;var a=I(s);_.search_engine=a;O(s)?_.web_source="Facebook":!function(e){try{return!!e&&0===e.toLowerCase().indexOf("android-app://")}catch(e){return t.logErrorFromAnalytics(e,"isAndroidAppUrl"),!1}}(s)?h(_.landing_page,s,a)?(_.web_source="Google AdWords",!0):""!==a&&(_.web_source="Organic Search",!0):_.web_source="Android App";try{if((_.landing_page||o.hasOwnProperty("lurl"))&&(_.referring_website_url.length>0&&"Google AdWords"!=_.web_source&&"Organic Search"!=_.web_source&&!v(_.referring_website_url,_.landing_page)&&(_.web_source="Referring Website"),_.landing_page.length>0&&-1!==_.landing_page.indexOf("?"))){var l=_.landing_page.split("?")[1];if(l.length>0&&-1!==l.indexOf("="))for(var c=l.split("&"),u=0;u<c.length;u++){var d=c[u].split("="),g=decodeURIComponent(d[0]).toLowerCase();"utm_source"==g||"utm_campaign_source"==g||"campaign_source"==g?_.utm_campaign_source=decodeURIComponent(d[1]).split("+").join(" "):"utm_medium"==g||"utm_campaign_medium"==g||"campaign_medium"==g?_.utm_campaign_medium=decodeURIComponent(d[1]).split("+").join(" "):"utm_term"==g||"utm_campaign_term"==g||"campaign_term"==g?_.utm_campaign_term=decodeURIComponent(d[1]).split("+").join(" "):"utm_content"==g||"utm_campaign_content"==g||"campaign_content"==g?_.utm_campaign_content=decodeURIComponent(d[1]).split("+").join(" "):"utm_campaign"!=g&&"utm_campaign_name"!=g&&"campaign_name"!=g||(_.utm_campaign_name=decodeURIComponent(d[1]).split("+").join(" "))}}}catch(e){}!_.ip_address&&o.hasOwnProperty("ip")&&o.ip&&(_.ip_address=o.ip,_.landing_page_ip=_.ip_address),!_.device&&o.hasOwnProperty("dev")&&o.dev&&(_.device=o.dev),!_.operating_system&&o.hasOwnProperty("os")&&o.os&&(_.operating_system=o.os),!_.browser_type&&o.hasOwnProperty("bt")&&o.bt&&(_.browser_type=o.bt),!_.browser_version&&o.hasOwnProperty("bv")&&o.bv&&(_.browser_version=o.bv),!_.date_of_visit&&o.hasOwnProperty("lts")&&o.lts&&(_.date_of_visit=o.lts),!_.continent&&o.hasOwnProperty("geo_co")&&o.geo_co&&(_.continent=o.geo_co),!_.country&&o.hasOwnProperty("geo_cc")&&o.geo_cc&&(_.country=o.geo_cc),!_.country_name&&o.hasOwnProperty("geo_cn")&&o.geo_cn&&(_.country_name=o.geo_cn),!_.region_name&&o.hasOwnProperty("geo_rn")&&o.geo_rn&&(_.region_name=o.geo_rn),!_.state&&o.hasOwnProperty("geo_s")&&o.geo_s&&(_.state=o.geo_s),!_.city&&o.hasOwnProperty("geo_c")&&o.geo_c&&(_.city=o.geo_c),!_.zipcode&&o.hasOwnProperty("geo_z")&&o.geo_z&&(_.zipcode=o.geo_z),!_.latitude&&o.hasOwnProperty("geo_lat")&&o.geo_lat&&(_.latitude=o.geo_lat),!_.longitude&&o.hasOwnProperty("geo_lon")&&o.geo_lon&&(_.longitude=o.geo_lon),!_.metro_code&&o.hasOwnProperty("geo_mc")&&o.geo_mc&&(_.metro_code=o.geo_mc),!_.time_zone&&o.hasOwnProperty("geo_tz")&&o.geo_tz&&(_.time_zone=o.geo_tz),!_.area_code&&o.hasOwnProperty("geo_ac")&&o.geo_ac&&(_.area_code=o.geo_ac);var f="",p=new Array,m=new Array;if(_.landing_page.length>0&&(_.pages_navigated=_.landing_page+"|",m.push(_.landing_page)),DIGIOH_STORAGE.isCookie()?p=DIGIOH_LOCAL_STORAGE.getManual("xdibx_pgsnavurls"):o.hasOwnProperty("purl")&&o.purl.length>0&&(p=o.purl),"object"==typeof p&&p.length>0){for(u=0;u<p.length;u++)p[u].length>0&&(f=i+"//"+n+p[u],m.push(f),_.pages_navigated+=f+"|");_.pages_navigated.indexOf("|")>=0&&(_.pages_navigated=_.pages_navigated.substring(0,_.pages_navigated.length-1)),_.PagesNavigated=m}else _.landing_page.length>0&&(_.pages_navigated=_.landing_page,_.PagesNavigated=new Array,_.PagesNavigated.push(_.landing_page));0!==_.pages_navigated.length&&0!==_.PagesNavigated.length||_.current_page_url.length>0&&(_.pages_navigated=_.current_page_url,_.PagesNavigated=new Array,_.PagesNavigated.push(_.current_page_url)),_.pages_navigated.length>0&&_.pages_navigated.indexOf(_.current_page_url)<0&&(_.pages_navigated+="|"+_.current_page_url,"object"==typeof _.PagesNavigated&&_.PagesNavigated&&_.PagesNavigated.push(_.current_page_url)),_.PagesNavigated.length>=2&&_.PagesNavigated[0]==_.PagesNavigated[1]&&_.PagesNavigated.shift(),t.log("getCurrent > VARS.pages_navigated > "+_.pages_navigated.length),t.log(_.pages_navigated),t.log(_.PagesNavigated),_.date_of_visit>0?_.date_of_visit=new Date(_.date_of_visit):_.date_of_visit=new Date}}catch(e){t.logErrorFromAnalytics(e,"getCurrent")}}(),function(){try{var e="__bxprev",r=DIGIOH_STORAGE.data[e];if(r){var o={};if("object"==typeof r?o=r:"string"==typeof r&&r.length>0&&r.indexOf("{")>=0&&r.indexOf("{")<=2&&(o=JSON.parse(r)),o&&o.hasOwnProperty("days")){var i=o.days;_.past_visits=i.length-1;for(var n=1;n<i.length;n++)_.PastVisitsText+=f(new Date(i[n])),n<i.length-1&&(_.PastVisitsText+=", ")}else _.past_visits=0,_.PastVisitsText=f((new Date).getTime())}else _.past_visits=0,_.PastVisitsText=f((new Date).getTime())}catch(e){t.logErrorFromAnalytics(e,"getPrevious")}}()}catch(e){t.logErrorFromAnalytics(e,"loadAllVars")}},VARS:_,IsNewSession:function(){return i},IsNewVisitor:function(){return n},PageviewStart:function(){return s},SessionStart:function(){return a},setGeoData:function(e){try{"object"==typeof e&&e.hasOwnProperty("geo")&&e.geo.hasOwnProperty("ip")&&e.geo.ip&&(_.ip_address=e.geo.ip,_.landing_page_ip=e.geo.ip,e.geo.hasOwnProperty("continent_code")&&null!=e.geo.continent_code&&(_.continent=e.geo.continent_code),e.geo.hasOwnProperty("continent_name")&&null!=e.geo.continent_name&&(_.continent_name=e.geo.continent_name),e.geo.hasOwnProperty("country_code")&&null!=e.geo.country_code&&(_.country=e.geo.country_code),e.geo.hasOwnProperty("country_name")&&null!=e.geo.country_name&&(_.country_name=e.geo.country_name),e.geo.hasOwnProperty("region_name")&&null!=e.geo.region_name&&(_.region_name=e.geo.region_name),e.geo.hasOwnProperty("region_code")&&null!=e.geo.region_code&&(_.state=e.geo.region_code),e.geo.hasOwnProperty("city")&&null!=e.geo.city&&(_.city=e.geo.city),e.geo.hasOwnProperty("zipcode")&&null!=e.geo.zipcode&&(_.zipcode=e.geo.zipcode),e.geo.hasOwnProperty("latitude")&&null!=e.geo.latitude&&(_.latitude=e.geo.latitude),e.geo.hasOwnProperty("longitude")&&null!=e.geo.longitude&&(_.longitude=e.geo.longitude),e.geo.hasOwnProperty("metro_code")&&null!=e.geo.metro_code&&(_.metro_code=e.geo.metro_code),e.geo.hasOwnProperty("time_zone")&&null!=e.geo.time_zone&&(_.time_zone=e.geo.time_zone),e.geo.hasOwnProperty("area_code")&&null!=e.geo.area_code&&(_.area_code=e.geo.area_code),_.geo_source="azure-maxmind")}catch(e){t.logErrorFromAnalytics(e,"setGeoData")}},setDeviceData:function(e){try{if("object"==typeof e)if(e.hasOwnProperty("da")&&e.da&&e.da.length<50&&(e.da=!1),e.hasOwnProperty("da")&&e.da){var r=JSON.parse(function(e){try{if(""===e||!e)return"";var r=d(),o=g(),i='{"'+e.split("zzzz").join('"')+'"}';i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=(i=i.split("~").join("|#")).split("*").join("|@")).split("|").join('":"')).split("$").join('":')).split("@").join('_","')).split("#").join('-","')).split("%").join('","')).split("^").join(',"')).split("aaaa").join("~")).split("bbbb").join("*")).split("cccc").join("|")).split("dddd").join("$")).split("eeee").join("@")).split("ffff").join("#")).split("gggg").join("%")).split("hhhh").join("^")).split(':"-"').join(":false")).split(':"_"').join(":true");for(var n="",s=0;s<o.length;s++)n=o[s],r.hasOwnProperty(n)&&(i.indexOf(',"'+n+'":')>=0?i=i.replace(',"'+n+'":',',"'+r[n]+'":'):i.indexOf('{"'+n+'":')>=0&&(i=i.replace('{"'+n+'":','{"'+r[n]+'":')));let t=/:(\d+)"\}$/;return t.test(i)&&(i=i.replace(t,":$1}")),i}catch(r){return t.logErrorFromAnalytics(r,"expandDeviceAtlasServerPropsFromModulus"),e}}(e.da));_.DeviceAtlas=r,t.log("DIGIOH: successfully expanded the reduced device props from azure:"),t.log(_.DeviceAtlas),e.hasOwnProperty("devsrc")?_.device_source=e.devsrc:_.device_source="unspecified"}else e.hasOwnProperty("device")&&"object"==typeof e.device&&e.device&&e.device.hasOwnProperty("properties")&&"object"==typeof e.device.properties&&e.device.properties&&e.device.properties.hasOwnProperty("primaryHardwareType")&&e.device.properties.primaryHardwareType?(_.DeviceAtlas=e.device.properties,e.hasOwnProperty("devsrc")?_.device_source=e.devsrc:_.device_source="unspecified"):e.hasOwnProperty("device")&&"object"==typeof e.device&&e.device&&e.device.hasOwnProperty("primaryHardwareType")&&e.device.primaryHardwareType&&(_.DeviceAtlas=e.device,e.hasOwnProperty("devsrc")?_.device_source=e.devsrc:_.device_source="unspecified");if(null!==_.DeviceAtlas&&"object"==typeof _.DeviceAtlas&&_.DeviceAtlas.hasOwnProperty("browserName")&&"string"==typeof _.DeviceAtlas.browserName){var o=_.DeviceAtlas.browserName.toLowerCase();o.indexOf("safari")>=0&&(_.browser_type="Safari"),o.indexOf("chrome")>=0&&(_.browser_type="Chrome"),(o.indexOf("edge")>=0||o.indexOf("explorer")>=0)&&(_.browser_type="Internet Explorer"),o.indexOf("firefox")>=0&&(_.browser_type="Firefox"),o.indexOf("opera")>=0&&(_.browser_type="Opera")}}catch(r){"object"==typeof e&&e.hasOwnProperty("da")&&e.da&&(r.message+="Device Atlas Data: "+e.da),t.logErrorFromAnalytics(r,"setDeviceData")}},setLocalTimeOffset:function(e){_.local_time_offset=e||0},getCorrectedDate:function(e=new Date){return new Date(e.getTime()+_.local_time_offset)},loadLightboxActivity:function(){try{!function(){try{var e,r="__bxevents",o=DIGIOH_STORAGE.data[r],i="",n=!1;if(o){if("string"==typeof o&&o.indexOf("id:")>=0&&-1===o.indexOf("{")){if(o.indexOf("|")>0)for(var s=o.split("|"),a=0;a<s.length;a++)0==s[a].indexOf("id:")&&s[a].indexOf("*")>0&&(e=s[a].split("*")[0].split(":")[1],i="",DIGIOH_LIGHTBOX_IDS.hasOwnProperty(e)&&DIGIOH_LIGHTBOX_IDS[e]&&(i=DIGIOH_LIGHTBOX_IDS[e]),_.lightbox_events[i]=y(s[a]));else 0==o.indexOf("id:")&&o.indexOf("*")>0&&(e=o.split("*")[0].split(":")[1],_.lightbox_events[i]=y(o));DIGIOH_STORAGE.data[r]=_.lightbox_events,DIGIOH_STORAGE.set()}else"string"==typeof o&&0===o.indexOf("{")?(_.lightbox_events=JSON.parse(o),n=!0):"object"==typeof o&&null!==o&&(_.lightbox_events=o,n=!0);if(n&&_.lightbox_events)for(var l in _.lightbox_events)if("string"==typeof l&&l.length>30&&_.lightbox_events.hasOwnProperty(l)&&"object"==typeof _.lightbox_events[l]&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(l)&&DIGIOH_LIGHTBOX_IDS[l])for(var c in i=DIGIOH_LIGHTBOX_IDS[l],_.lightbox_events[i]=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[l]),delete _.lightbox_events[l],_.lightbox_events[i])if("string"==typeof l&&c.length>1&&_.lightbox_events[i].hasOwnProperty(c)&&"object"==typeof _.lightbox_events[i][c]){var u=c;"view"==u?u="v":"submit"==u?u="s":"redirect"==u?u="r":"download"==u?u="d":"close"==u&&(u="c"),_.lightbox_events[i][u]=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[i][c]),delete _.lightbox_events[i][c],_.lightbox_events[i][u].hasOwnProperty("cnt")&&(_.lightbox_events[i][u].c=_.lightbox_events[i][u].cnt,delete _.lightbox_events[i][u].cnt),_.lightbox_events[i][u].hasOwnProperty("ts")&&(_.lightbox_events[i][u].t=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[i][u].ts),delete _.lightbox_events[i][u].ts)}}}catch(e){t.logErrorFromAnalytics(e,"loadAllEventsByLightboxGuid")}}(),function(){try{var e=_.lightbox_events,r=!1,o=0,l=0,c=!1;for(lbid in"undefined"==typeof DIGIOH_LIGHTBOX_MASTER_RULES||void 0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes&&!0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes||(t.log("IgnoreForInlineBoxes: Master rule ignoring inline lightboxes (view events)."),c=!0),e){var u=DIGIOH_API.LIGHTBOX.isInlineLightbox(lbid);if(c&&u)t.log("DIGIOH: loadMasterRulesViewEvents ==> ignoreInline ==> "+lbid);else if(e.hasOwnProperty(lbid)&&e[lbid].hasOwnProperty("v")&&e[lbid].v.c>0&&e[lbid].v.t.length>0){r=!0,t.log("DIGIOH: loadMasterRulesViewEvents ==> foundViewEvent 1 ==> "+lbid);var d=e[lbid].v.t.length;o<(l=e[lbid].v.t[d-1])&&(o=l)}else e.hasOwnProperty(lbid)&&e[lbid].hasOwnProperty("v")&&e[lbid].v.c>0&&e[lbid].v.t.length>0&&(r=!0,t.log("DIGIOH: loadMasterRulesViewEvents ==> foundViewEvent 2 ==> "+lbid),d=e[lbid].v.t.length,o<(l=e[lbid].v.t[d-1])&&(o=l))}n?(_.master_rules["Once per visitor"]=!0,_.master_rules["Once per session"]=!0,_.master_rules["Once per pageview"]=!0):i?(_.master_rules["Once per visitor"]=!r,_.master_rules["Once per session"]=!0,_.master_rules["Once per pageview"]=!0):(_.master_rules["Once per visitor"]=!r,_.master_rules["Once per session"]=!r||o<a,_.master_rules["Once per pageview"]=!r||o<s)}catch(e){t.logErrorFromAnalytics(e,"loadMasterRulesViewEvents")}}(),function(){try{var e=_.lightbox_events,r=!1,o=!1;for(lbid in"undefined"==typeof DIGIOH_LIGHTBOX_MASTER_RULES||void 0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes&&!0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes||(t.log("IgnoreForInlineBoxes: Master rule ignoring inline lightboxes (submit events)."),o=!0),e){var i=DIGIOH_API.LIGHTBOX.isInlineLightbox(lbid);if(o&&i)t.log("DIGIOH: loadMasterRulesSubmitEvents ==> ignoreInline ==> "+lbid);else if(e.hasOwnProperty(lbid)&&e[lbid].hasOwnProperty("s")&&e[lbid].s.c>0){r=!0,t.log("DIGIOH: loadMasterRulesSubmitEvents ==> foundSubmitEvent ==> "+lbid);break}}_.master_rules["Until form is submitted"]=!r}catch(e){t.logErrorFromAnalytics(e,"loadMasterRulesSubmitEvents")}}();var e=_.lightbox_events,r=0,o=0;for(lbid in e)if(e.hasOwnProperty(lbid)){if(_.lightbox_activity.hasOwnProperty(lbid)||(_.lightbox_activity[lbid]={}),_.lightbox_activity[lbid]["Until form is submitted"]=!e[lbid].hasOwnProperty("s")||0==e[lbid].s.c,_.lightbox_activity[lbid]["Until lightbox is closed"]=!e[lbid].hasOwnProperty("c")||0==e[lbid].c.c,e[lbid].hasOwnProperty("v")&&e[lbid].v.c>0&&e[lbid].v.t.length>0){var l=e[lbid].v.t.length;r=e[lbid].v.t[l-1];const t=s-r;_.lightbox_activity[lbid]["Days since last view"]=Math.floor(t/864e5),_.lightbox_activity[lbid]["Time since last view"]=t}else r=0,_.lightbox_activity[lbid]["Days since last view"]=-1,_.lightbox_activity[lbid]["Time since last view"]=-1;if(e[lbid].hasOwnProperty("s")&&e[lbid].s.c>0&&e[lbid].s.t.length>0){l=e[lbid].s.t.length;o=e[lbid].s.t[l-1];const t=s-o;_.lightbox_activity[lbid]["Days since last submit"]=Math.floor(t/864e5),_.lightbox_activity[lbid]["Time since last submit"]=t}else o=0,_.lightbox_activity[lbid]["Days since last submit"]=-1,_.lightbox_activity[lbid]["Time since last submit"]=-1;n?(_.lightbox_activity[lbid]["Once per visitor"]=!0,_.lightbox_activity[lbid]["Once per session"]=!0,_.lightbox_activity[lbid]["Once per pageview"]=!0):i?(_.lightbox_activity[lbid]["Once per visitor"]=!e[lbid].hasOwnProperty("v")||0==e[lbid].v.c,_.lightbox_activity[lbid]["Once per session"]=!0,_.lightbox_activity[lbid]["Once per pageview"]=!0):(_.lightbox_activity[lbid]["Once per visitor"]=!e[lbid].hasOwnProperty("v")||0==e[lbid].v.c,_.lightbox_activity[lbid]["Once per session"]=!e[lbid].hasOwnProperty("v")||0==e[lbid].v.c||r>0&&r<a,_.lightbox_activity[lbid]["Once per pageview"]=!e[lbid].hasOwnProperty("v")||0==e[lbid].v.c||r>0&&r<s)}}catch(e){t.logErrorFromAnalytics(e,"loadLightboxActivity")}},setLightboxEvent:function(e,r,o){try{var i=(new Date).getTime(),n="";DIGIOH_LIGHTBOX_IDS.hasOwnProperty(r)&&DIGIOH_LIGHTBOX_IDS[r]&&(n=DIGIOH_LIGHTBOX_IDS[r]);var s=e;if("view"==s||"v"==s?s="v":"submit"==s||"s"==s?s="s":"redirect"==s||"r"==s?s="r":"download"==s||"d"==s?s="d":"close"!=s&&"c"!=s||(s="c"),_.lightbox_events.hasOwnProperty(r)||_.lightbox_events.hasOwnProperty(n)?_.lightbox_events.hasOwnProperty(r)&&!_.lightbox_events.hasOwnProperty(n)?(_.lightbox_events[n]=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[r]),delete _.lightbox_events[r]):_.lightbox_events.hasOwnProperty(r)&&_.lightbox_events.hasOwnProperty(n)&&delete _.lightbox_events[r]:_.lightbox_events[n]={v:{c:0,t:[]},s:{c:0,t:[]},r:{c:0,t:[]},d:{c:0,t:[]},c:{c:0,t:[]}},_.lightbox_events[n].hasOwnProperty(e)?(_.lightbox_events[n][s]=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[n][e]),delete _.lightbox_events[n][e],_.lightbox_events[n][s].hasOwnProperty("cnt")?(_.lightbox_events[n][s].c=_.lightbox_events[n][s].cnt+1,delete _.lightbox_events[n][s].cnt):_.lightbox_events[n][s].hasOwnProperty("c")?_.lightbox_events[n][s].c++:_.lightbox_events[n][s].c=1):_.lightbox_events[n].hasOwnProperty(s)?_.lightbox_events[n][s].c++:_.lightbox_events[n][s]={c:1,t:[]},_.lightbox_events[n][s].hasOwnProperty("ts")?(_.lightbox_events[n][s].t=DIGIOH_API.UTIL.cloneObj(_.lightbox_events[n][s].ts),delete _.lightbox_events[n][s].ts):_.lightbox_events[n][s].hasOwnProperty("t")||(_.lightbox_events[n][s].t=[]),_.lightbox_events[n][s].t.push(i),DIGIOH_STORAGE.isCookie())for(;_.lightbox_events[n][s].t.length>3;)_.lightbox_events[n][s].t.splice(1,1);else for(;_.lightbox_events[n][s].t.length>20;)_.lightbox_events[n][s].t.splice(1,1);if(void 0!==o&&!0===o&&(_.lightbox_events[n][s]={c:0,t:[]}),DIGIOH_STORAGE.isCookie())for(var a in _.lightbox_events)if(_.lightbox_events.hasOwnProperty(a)&&"object"==typeof _.lightbox_events[a]&&null!==_.lightbox_events[a]){if(_.lightbox_events[a].hasOwnProperty("v")&&_.lightbox_events[a].v.hasOwnProperty("t"))for(;_.lightbox_events[a].v.t.length>3;)_.lightbox_events[a].v.t.splice(1,1);if(_.lightbox_events[a].hasOwnProperty("s")&&_.lightbox_events[a].s.hasOwnProperty("t"))for(;_.lightbox_events[a].s.t.length>3;)_.lightbox_events[a].s.t.splice(1,1);if(_.lightbox_events[a].hasOwnProperty("r")&&_.lightbox_events[a].r.hasOwnProperty("t"))for(;_.lightbox_events[a].r.t.length>3;)_.lightbox_events[a].r.t.splice(1,1);if(_.lightbox_events[a].hasOwnProperty("d")&&_.lightbox_events[a].d.hasOwnProperty("t"))for(;_.lightbox_events[a].d.t.length>3;)_.lightbox_events[a].d.t.splice(1,1);if(_.lightbox_events[a].hasOwnProperty("c")&&_.lightbox_events[a].c.hasOwnProperty("t"))for(;_.lightbox_events[a].c.t.length>3;)_.lightbox_events[a].c.t.splice(1,1)}!function(e,r,o){try{t.log("updateLightboxActivity: "+e+" ==> "+r);var i="";DIGIOH_LIGHTBOX_IDS.hasOwnProperty(r)&&DIGIOH_LIGHTBOX_IDS[r]&&(i=DIGIOH_LIGHTBOX_IDS[r]),_.lightbox_activity.hasOwnProperty(r)?(_.lightbox_activity[i]=DIGIOH_API.UTIL.cloneObj(_.lightbox_activity[r]),delete _.lightbox_activity[r]):_.lightbox_activity[i]={};var n=!1;"undefined"==typeof DIGIOH_LIGHTBOX_MASTER_RULES||void 0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes&&!0!==DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes||(n=!0);var s=DIGIOH_API.LIGHTBOX.isInlineLightbox(r);n&&s&&t.log("DIGIOH: updateLightboxActivity ==> ignoreInline ==> "+r),"view"===e||"v"===e?(_.lightbox_activity[i]["Once per visitor"]=!1,_.lightbox_activity[i]["Once per session"]=!1,_.lightbox_activity[i]["Once per pageview"]=!1,_.lightbox_activity[i]["Days since last view"]=0,n&&s||(_.master_rules["Once per visitor"]=!1,_.master_rules["Once per session"]=!1,_.master_rules["Once per pageview"]=!1)):"submit"==e||"s"===e?(_.lightbox_activity[i]["Until form is submitted"]=!1,n&&s||(_.master_rules["Until form is submitted"]=!1),_.lightbox_activity[i]["Days since last submit"]=0):"close"!=e&&"c"!==e||(_.lightbox_activity[i]["Until lightbox is closed"]=!1)}catch(e){t.logErrorFromAnalytics(e,"updateLightboxActivity")}}(e,r),DIGIOH_STORAGE.data.__bxevents=_.lightbox_events,DIGIOH_STORAGE.set(),t.log("ANALYTICS.setLightboxEvent - "+e+" ("+s+"), "+r+" ("+n+"), "+_.lightbox_events[n][s].t.length)}catch(e){t.logErrorFromAnalytics(e,"setLightboxEvent")}},getEventCountByLightbox:function(e,t){return b(e,t,!1,"")},getEventCountAcrossAllLightboxesExcept:function(e,t){return b(e,"",!0,t)}}}window.JQUERY_DIGIOH={},JQUERY_DIGIOH=function(e){"use strict";var t=e,r=e.document,o=r.documentElement,i=r.createElement.bind(r),n=i("div"),s=i("table"),a=i("tbody"),l=i("tr"),c=Array.isArray,u=Array.prototype,_=u.concat,d=u.filter,g=u.indexOf,f=u.map,p=u.push,I=u.slice,h=u.some,O=u.splice,m=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,v=/<.+>/;function y(e,t){const r=e.filter((e=>"querySelectorAll"in e));if(0===r.length)return[];let o=t;for(let e in E)o=o.replace(e,E[e]);let i=b;if(!Object.values(i).find((e=>o.match(e)))){let e=[];return r.forEach((t=>{e=e.concat(Array.from(t.querySelectorAll(o)))})),e}if(Object.values(D).find((e=>o.match(e))))throw new Error("Nested custom selectors not supported in Cash (ex. :has(:input))");let n=[];const s=H(o.trim(),/,/,/[^,]/);for(let e of s){let t=Array.from(r);if(Object.values(i).find((t=>e.match(t)))){let r=H(e.trim(),/\s/,/[^\s+>~]/,!0);for(let e of r)t=w(t,e);n=n.concat(t)}else for(let r of t){let t=Array.from(r.querySelectorAll(e));n=n.concat(t)}}return n}const b={},G={},D={},E={":radio":"[type=radio]",":checkbox":"[type=checkbox]",":selected":":checked"},x={":contains\\((['\"]([^)]+)['\"]|([^)]+))\\)":(e,t,r,o)=>e.filter((e=>(e.textContent??e.innerText??"").includes(r??o))),":input":e=>e.filter((e=>e.matches("input,textarea,select,button"))),":button":e=>e.filter((e=>e.matches("input[type=button],button"))),":text":e=>e.filter((e=>e.matches("input[type=text],input:not([type])"))),":visible":e=>e.filter((e=>!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length))),":first":e=>[e[0]],":last":e=>e.length?[e[e.length-1]]:[]};function H(e,t,r,o=!1){let i=0,n=[],s=0,a=!1;const l=e.trim();for(let e=0;e<l.length;e++){let c=l[e];c.match(t)&&0===i&&a?(a=!1,n.push(l.substring(s,e)),s=e,o||s++):!a&&c.match(r)?a=!0:"("===c?i++:")"===c&&i--}return s<l.length-1&&n.push(l.substring(s)),n}function w(e,t){let r=A(t),o=[];return e.forEach((e=>{let t;for(let o of r){let r=o.function,i=o.data;t="string"==typeof r?t?t.filter((e=>{e.matches(r)})):Array.from(e.querySelectorAll(r)):r(t,...i??[])}t&&t.length>0&&(o=o.concat(t))})),o}function S(e,t){let r=A(t,!0),o=e;for(let e of r){let t=e.function,r=e.data;o="string"==typeof t?o.filter((e=>e.matches(t))):t(o,...r??[])}return o}function A(e,t=!1){let r=[],o=e,i=b;for(let e in x)if(o.match(i[e])){let t=Array.from(o.matchAll(i[e]));for(var n of t){n.shift();let t={function:x[e],data:n};r.push(t)}o=o.replace(i[e],"")}return""===o.trim()&&(o="*"),o.match(/^[+>\s]/i)&&(o=":scope "+o),o.match(/[+>\s]$/i)&&(o+=t?" :scope":" *"),r.unshift({function:o}),r}function R(e,t){return y(c(t)?t:[t],e)}function T(e,t){return function(e,t){const r=e.filter((e=>"matches"in e));if(0===r.length)return[];let o=t;for(let e in E)o=o.replace(e,E[e]);let i=b;if(!Object.values(i).find((e=>o.match(e)))){let e=[];return r.forEach((t=>{t.matches(o)&&(e=e.concat(t))})),e}if(Object.values(D).find((e=>o.match(e))))throw new Error("Nested custom selectors not supported (ex. :has(:input))");let n=[];const s=H(o.trim(),/,/,/[^,]/);return r.forEach((e=>{for(let t of s){let r=t.trim();if(!Object.values(b).find((e=>r.match(e)))&&e.matches(r))return void n.push(e);let o=H(r,/\s/,/[^\s+>~]/);o.pop();let i=o.join();if(Object.values(b).find((e=>i.match(e))))throw new Error("Custom selectors not supported for parent selectors");if(S([e],r).length)return void n.push(e)}})),n}(c(t)?t:[t],e)}!function(){for(let e in x)b[e]=new RegExp(e,"ig"),G[e]=new RegExp(`${e}(?<coda>[^\\s+>)]*)$`,"ig"),D[e]=new RegExp("\\([^)]*"+e,"ig")}();var L=function(){function e(e,o){if(e){if(N(e))return e;var i=e;if(j(e)){var n=o||r;if(!(i=m.test(e)&&k(n)?n.getElementById(e.slice(1).replace(/\\/g,"")):v.test(e)?se(e):N(n)?n.find(e):j(n)?P(n).find(e):R(e,n)))return}else if(B(e))return this.ready(e);(i.nodeType||i===t)&&(i=[i]),this.length=i.length;for(var s=0,a=this.length;s<a;s++)this[s]=i[s]}}return e.prototype.init=function(t,r){return new e(t,r)},e}(),C=L.prototype;C.executeSelector=y;var P=C.init;function N(e){return e instanceof L}function U(e){return!!e&&e===e.window}function k(e){return!!e&&9===e.nodeType}function M(e){return!!e&&1===e.nodeType}function B(e){return"function"==typeof e}function j(e){return"string"==typeof e}function J(e){return void 0===e}function V(e){return null===e}function Y(e){return!isNaN(parseFloat(e))&&isFinite(e)}function F(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function X(e,t,r){if(r){for(var o=e.length;o--;)if(!1===t.call(e[o],o,e[o]))return e}else if(F(e))for(var i=Object.keys(e),n=(o=0,i.length);o<n;o++){var s=i[o];if(!1===t.call(e[s],s,e[s]))return e}else for(o=0,n=e.length;o<n;o++)if(!1===t.call(e[o],o,e[o]))return e;return e}function W(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r="boolean"==typeof e[0]&&e.shift(),o=e.shift(),i=e.length;if(!o)return{};if(!i)return W(r,P,o);for(var n=0;n<i;n++){var s=e[n];for(var a in s)r&&(c(s[a])||F(s[a]))?(o[a]&&o[a].constructor===s[a].constructor||(o[a]=new s[a].constructor),W(r,o[a],s[a])):o[a]=s[a]}return o}P.fn=P.prototype=C,C.length=0,C.splice=O,"function"==typeof Symbol&&(C[Symbol.iterator]=u[Symbol.iterator]),P.isWindow=U,P.isFunction=B,P.isArray=c,P.isNumeric=Y,P.isPlainObject=F,P.each=X,C.each=function(e){return X(this,e)},C.empty=function(){return this.each((function(e,t){for(;t.firstChild;)t.removeChild(t.firstChild)}))},P.extend=W,C.extend=function(e){return W(C,e)};var Q=/\S+/g;function q(e){return j(e)&&e.match(Q)||[]}function $(e,r,o){if(M(e)){var i=t.getComputedStyle(e,null);return o?i.getPropertyValue(r)||void 0:i[r]||e.style[r]}}function z(e,t){return parseInt($(e,t),10)||0}function K(e,t){return z(e,"border".concat(t?"Left":"Top","Width"))+z(e,"padding".concat(t?"Left":"Top"))+z(e,"padding".concat(t?"Right":"Bottom"))+z(e,"border".concat(t?"Right":"Bottom","Width"))}C.toggleClass=function(e,t){var r=q(e),o=!J(t);return this.each((function(e,i){M(i)&&X(r,(function(e,r){o?t?i.classList.add(r):i.classList.remove(r):i.classList.toggle(r)}))}))},C.addClass=function(e){return this.toggleClass(e,!0)},C.removeAttr=function(e){var t=q(e);return this.each((function(e,r){M(r)&&X(t,(function(e,t){r.removeAttribute(t)}))}))},C.attr=function(e,t){if(e){if(j(e)){if(arguments.length<2){if(!this[0]||!M(this[0]))return;var r=this[0].getAttribute(e);return V(r)?void 0:r}return J(t)?this:V(t)?this.removeAttr(e):this.each((function(r,o){M(o)&&o.setAttribute(e,t)}))}for(var o in e)this.attr(o,e[o]);return this}},C.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},C.hasClass=function(e){return!!e&&h.call(this,(function(t){return M(t)&&t.classList.contains(e)}))},C.get=function(e){return J(e)?I.call(this):this[(e=Number(e))<0?e+this.length:e]},C.eq=function(e){return P(this.get(e))},C.first=function(){return this.eq(0)},C.last=function(){return this.eq(-1)},C.text=function(e){return J(e)?this.get().map((function(e){return M(e)||(t=e)&&3===t.nodeType?e.textContent:"";var t})).join(""):this.each((function(t,r){M(r)&&(r.textContent=e)}))};var Z={};function ee(e){return"none"===$(e,"display")}function te(e){return j(e)?function(t,r){return T(e,r).length>0}:B(e)?e:N(e)?function(t,r){return e.is(r)}:e?function(t,r){return r===e}:function(){return!1}}function re(e,t){return t?e.filter(t):e}C.filter=function(e){var t=te(e);return P(d.call(this,(function(e,r){return t.call(e,r,e)})))},C.detach=function(e){return re(this,e).each((function(e,t){t.parentNode&&t.parentNode.removeChild(t)})),this};var oe=/^\s*<(\w+)[^>]*>/,ie=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ne={"*":n,tr:a,td:l,th:l,thead:s,tbody:s,tfoot:s};function se(e){if(!j(e))return[];if(ie.test(e))return[i(RegExp.$1)];var t=oe.test(e)&&RegExp.$1,r=ne[t]||ne["*"];return r.innerHTML=e,P(r.childNodes).detach().get()}function ae(e,t,r,o){for(var i=[],n=B(t),s=o&&te(o),a=0,l=e.length;a<l;a++)if(n){var c=t(e[a]);c.length&&p.apply(i,c)}else for(var u=e[a][t];!(null==u||o&&s(-1,u));)i.push(u),u=r?u[t]:null;return i}function le(e){return e.multiple&&e.options?ae(d.call(e.options,(function(e){return e.selected&&!e.disabled&&!e.parentNode.disabled})),"value"):e.value||""}function ce(e){return e.length>1?d.call(e,(function(e,t,r){return g.call(r,e)===t})):e}P.parseHTML=se,C.has=function(e){var t=j(e)?function(t,r){return R(e,r).length}:function(t,r){return r.contains(e)};return this.filter(t)},C.not=function(e){var t=te(e);return this.filter((function(r,o){return(!j(e)||M(o))&&!t.call(o,r,o)}))},C.val=function(e){return arguments.length?this.each((function(t,r){var o=r.multiple&&r.options;if(o||Je.test(r.type)){var i=c(e)?f.call(e,String):V(e)?[]:[String(e)];o?X(r.options,(function(e,t){t.selected=i.indexOf(t.value)>=0}),!0):r.checked=i.indexOf(r.value)>=0}else r.value=J(e)||V(e)?"":e})):this[0]&&le(this[0])},C.is=function(e){var t=te(e);return h.call(this,(function(e,r){let o=t.call(e,r,e);return c(o)?o.contains(e):o}))},P.guid=1,P.unique=ce,C.add=function(e,t){return P(ce(this.get().concat(P(e,t).get())))},C.children=function(e){return re(P(ce(ae(this,(function(e){return e.children})))),e)},C.parent=function(e){return re(P(ce(ae(this,"parentNode"))),e)},C.index=function(e){var t=e?P(e)[0]:this[0],r=e?this:P(t).parent().children();return g.call(r,t)},C.closest=function(e){var t=this.filter(e);if(t.length)return t;var r=this.parent();return r.length?r.closest(e):t},C.siblings=function(e){return re(P(ce(ae(this,(function(e){return P(e).parent().children().not(e)})))),e)},C.find=function(e){return P(ce(ae(this,(function(t){return R(e,t)}))))};var ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_e=/^$|^module$|\/(java|ecma)script/i,de=["type","src","nonce","noModule"];function ge(e,t,r,n,s){n?e.insertBefore(t,r?e.firstChild:null):"HTML"===e.nodeName?e.parentNode.replaceChild(t,e):e.parentNode.insertBefore(t,r?e:e.nextSibling),s&&function(e,t){var r=P(e);r.filter("script").add(r.find("script")).each((function(e,r){if(_e.test(r.type)&&o.contains(r)){var n=i("script");n.text=r.textContent.replace(ue,""),X(de,(function(e,t){r[t]&&(n[t]=r[t])})),t.head.insertBefore(n,null),t.head.removeChild(n)}}))}(t,e.ownerDocument)}function fe(e,t,r,o,i,n,s,a){return X(e,(function(e,n){X(P(n),(function(e,n){X(P(t),(function(t,s){var a=r?s:n,l=r?e:t;ge(r?n:s,l?a.cloneNode(!0):a,o,i,!l)}),a)}),s)}),n),t}C.after=function(){return fe(arguments,this,!1,!1,!1,!0,!0)},C.append=function(){return fe(arguments,this,!1,!1,!0)},C.html=function(e){if(!arguments.length)return this[0]&&this[0].innerHTML;if(J(e))return this;var t=/<script[\s>]/.test(e);return this.each((function(r,o){M(o)&&(t?P(o).empty().append(e):o.innerHTML=e)}))},C.appendTo=function(e){return fe(arguments,this,!0,!1,!0)},C.wrapInner=function(e){return this.each((function(t,r){var o=P(r),i=o.contents();i.length?i.wrapAll(e):o.append(e)}))},C.before=function(){return fe(arguments,this,!1,!0)},C.wrapAll=function(e){for(var t=P(e),r=t[0];r.children.length;)r=r.firstElementChild;return this.first().before(t),this.appendTo(r)},C.wrap=function(e){return this.each((function(t,r){var o=P(e)[0];P(r).wrapAll(t?o.cloneNode(!0):o)}))},C.insertAfter=function(e){return fe(arguments,this,!0,!1,!1,!1,!1,!0)},C.insertBefore=function(e){return fe(arguments,this,!0,!0)},C.prepend=function(){return fe(arguments,this,!1,!0,!0,!0,!0)},C.prependTo=function(e){return fe(arguments,this,!0,!0,!0,!1,!1,!0)},C.contents=function(){return P(ce(ae(this,(function(e){return"IFRAME"===e.tagName?[e.contentDocument]:"TEMPLATE"===e.tagName?e.content.childNodes:e.childNodes}))))},C.next=function(e,t,r){return re(P(ce(ae(this,"nextElementSibling",t,r))),e)},C.nextAll=function(e){return this.next(e,!0)},C.nextUntil=function(e,t){return this.next(t,!0,e)},C.parents=function(e,t){return re(P(ce(ae(this,"parentElement",!0,t))),e)},C.parentsUntil=function(e,t){return this.parents(t,e)},C.prev=function(e,t,r){return re(P(ce(ae(this,"previousElementSibling",t,r))),e)},C.prevAll=function(e){return this.prev(e,!0)},C.prevUntil=function(e,t){return this.prev(t,!0,e)},C.map=function(e){return P(_.apply([],f.call(this,(function(t,r){return e.call(t,r,t)}))))},C.clone=function(){return this.map((function(e,t){return t.cloneNode(!0)}))},C.offsetParent=function(){return this.map((function(e,t){for(var r=t.offsetParent;r&&"static"===$(r,"position");)r=r.offsetParent;return r||o}))},C.slice=function(e,t){return P(I.call(this,e,t))};var pe=/-([a-z])/g;function Ie(e){return e.replace(pe,(function(e,t){return t.toUpperCase()}))}C.ready=function(e){var t=function(){return setTimeout(e,0,P)};return"loading"!==r.readyState?t():r.addEventListener("DOMContentLoaded",t),this},C.unwrap=function(){return this.parent().each((function(e,t){if("BODY"!==t.tagName){var r=P(t);r.replaceWith(r.children())}})),this},C.offset=function(){var e=this[0];if(e){var r=e.getBoundingClientRect();return{top:r.top+t.pageYOffset,left:r.left+t.pageXOffset}}},C.position=function(){var e=this[0];if(e){var t="fixed"===$(e,"position"),r=t?e.getBoundingClientRect():this.offset();if(!t){for(var o=e.ownerDocument,i=e.offsetParent||o.documentElement;(i===o.body||i===o.documentElement)&&"static"===$(i,"position");)i=i.parentNode;if(i!==e&&M(i)){var n=P(i).offset();r.top-=n.top+z(i,"borderTopWidth"),r.left-=n.left+z(i,"borderLeftWidth")}}return{top:r.top-z(e,"marginTop"),left:r.left-z(e,"marginLeft")}}};var he={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};C.prop=function(e,t){if(e){if(j(e))return e=he[e]||e,arguments.length<2?this[0]&&this[0][e]:this.each((function(r,o){o[e]=t}));for(var r in e)this.prop(r,e[r]);return this}},C.removeProp=function(e){return this.each((function(t,r){delete r[he[e]||e]}))};var Oe=/^--/;function me(e){return Oe.test(e)}var ve={},ye=n.style,be=["webkit","moz","ms"];var Ge={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function De(e,t,r){return void 0===r&&(r=me(e)),r||Ge[e]||!Y(t)?t:"".concat(t,"px")}function Ee(e,t){try{return e(t)}catch(e){return t}}C.css=function(e,t){if(j(e)){var r=me(e);return e=function(e,t){if(void 0===t&&(t=me(e)),t)return e;if(!ve[e]){var r=Ie(e),o="".concat(r[0].toUpperCase()).concat(r.slice(1));X("".concat(r," ").concat(be.join("".concat(o," "))).concat(o).split(" "),(function(t,r){if(r in ye)return ve[e]=r,!1}))}return ve[e]}(e,r),arguments.length<2?this[0]&&$(this[0],e,r):e?(t=De(e,t,r),this.each((function(o,i){M(i)&&(r?i.style.setProperty(e,t):i.style[e]=t)}))):this}for(var o in e)this.css(o,e[o]);return this};var xe=/^\s+|\s+$/;function He(e,t){var r=e.dataset[t]||e.dataset[Ie(t)];return xe.test(r)?r:Ee(JSON.parse,r)}function we(e,t){var r=e.documentElement;return Math.max(e.body["scroll".concat(t)],r["scroll".concat(t)],e.body["offset".concat(t)],r["offset".concat(t)],r["client".concat(t)])}C.data=function(e,t){if(!e){if(!this[0])return;var r={};for(var o in this[0].dataset)r[o]=He(this[0],o);return r}if(j(e))return arguments.length<2?this[0]&&He(this[0],e):J(t)?this:this.each((function(r,o){!function(e,t,r){r=Ee(JSON.stringify,r),e.dataset[Ie(t)]=r}(o,e,t)}));for(var o in e)this.data(o,e[o]);return this},X([!0,!1],(function(e,t){X(["Width","Height"],(function(e,r){var o="".concat(t?"outer":"inner").concat(r);C[o]=function(o){if(this[0])return U(this[0])?t?this[0]["inner".concat(r)]:this[0].document.documentElement["client".concat(r)]:k(this[0])?we(this[0],r):this[0]["".concat(t?"offset":"client").concat(r)]+(o&&t?z(this[0],"margin".concat(e?"Top":"Left"))+z(this[0],"margin".concat(e?"Bottom":"Right")):0)}}))})),X(["Width","Height"],(function(e,t){var r=t.toLowerCase();C[r]=function(o){if(!this[0])return J(o)?void 0:this;if(!arguments.length)return U(this[0])?this[0].document.documentElement["client".concat(t)]:k(this[0])?we(this[0],t):this[0].getBoundingClientRect()[r]-K(this[0],!e);var i=parseInt(o,10);return this.each((function(t,o){if(M(o)){var n=$(o,"boxSizing");o.style[r]=De(r,i-("border-box"===n?K(o,!e):0))}}))}}));var Se="___cd";C.toggle=function(e){return this.each((function(t,o){if(M(o)){var n=ee(o);(J(e)?n:e)?(o.style.display=o[Se]||"",ee(o)&&(o.style.display=function(e){if(Z[e])return Z[e];var t=i(e);r.body.insertBefore(t,null);var o=$(t,"display");return r.body.removeChild(t),Z[e]="none"!==o?o:"block"}(o.tagName))):n||(o[Se]=$(o,"display"),o.style.display="none")}}))},C.hide=function(){return this.toggle(!1)},C.show=function(){return this.toggle(!0)};var Ae="___ce",Re=".",Te={focus:"focusin",blur:"focusout"},Le={mouseenter:"mouseover",mouseleave:"mouseout"},Ce=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function Pe(e){return Le[e]||Te[e]||e}function Ne(e){var t=e.split(Re);return[t[0],t.slice(1).sort()]}function Ue(e){return e[Ae]=e[Ae]||{}}function ke(e,t){return!t||!h.call(t,(function(t){return e.indexOf(t)<0}))}function Me(e,t,r,o,i){var n=Ue(e);if(t)n[t]&&(n[t]=n[t].filter((function(n){var s=n[0],a=n[1],l=n[2];if(i&&l.guid!==i.guid||!ke(s,r)||o&&o!==a)return!0;e.removeEventListener(t,l)})));else for(t in n)Me(e,t,r,o,i)}C.trigger=function(e,t){if(j(e)){var o=Ne(e),i=o[0],n=o[1],s=Pe(i);if(!s)return this;var a=Ce.test(s)?"MouseEvents":"HTMLEvents";(e=r.createEvent(a)).initEvent(s,!0,!0),e.namespace=n.join(Re),e.___ot=i}e.___td=t;var l=e.___ot in Te;return this.each((function(t,r){l&&B(r[e.___ot])&&(r["___i".concat(e.type)]=!0,r[e.___ot](),r["___i".concat(e.type)]=!1),r.dispatchEvent(e)}))},C.off=function(e,t,r){var o=this;if(J(e))this.each((function(e,t){(M(t)||k(t)||U(t))&&Me(t)}));else if(j(e))B(t)&&(r=t,t=""),X(q(e),(function(e,i){var n=Ne(i),s=n[0],a=n[1],l=Pe(s);o.each((function(e,o){(M(o)||k(o)||U(o))&&Me(o,l,a,t,r)}))}));else for(var i in e)this.off(i,e[i]);return this},C.remove=function(e){return re(this,e).detach().off(),this},C.replaceWith=function(e){return this.before(e).remove()},C.replaceAll=function(e){return P(e).replaceWith(this),this},C.on=function(e,t,r,o,i){var n=this;if(!j(e)){for(var s in e)this.on(s,t,r,e[s],i);return this}return j(t)||(J(t)||V(t)?t="":J(r)?(r=t,t=""):(o=r,r=t,t="")),B(o)||(o=r,r=void 0),o?(X(q(e),(function(e,s){var a=Ne(s),l=a[0],c=a[1],u=Pe(l),_=l in Le,d=l in Te;u&&n.each((function(e,n){if(M(n)||k(n)||U(n)){var s=function(e){if(e.target["___i".concat(e.type)])return e.stopImmediatePropagation();if((!e.namespace||ke(c,e.namespace.split(Re)))&&(t||!(d&&(e.target!==n||e.___ot===u)||_&&e.relatedTarget&&n.contains(e.relatedTarget)))){var a=n;if(t){for(var l=e.target;!new L(l).is(t);){if(l===n)return;if(!(l=l.parentNode))return}a=l}Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return a}}),Object.defineProperty(e,"delegateTarget",{configurable:!0,get:function(){return n}}),Object.defineProperty(e,"data",{configurable:!0,get:function(){return r}});var g=o.call(a,e,...e.___td??[]);i&&Me(n,u,c,t,s),!1===g&&(e.preventDefault(),e.stopPropagation())}};s.guid=o.guid=o.guid||P.guid++,function(e,t,r,o,i){var n=Ue(e);n[t]=n[t]||[],n[t].push([r,o,i]),e.addEventListener(t,i)}(n,u,c,t,s)}}))})),this):this},C.one=function(e,t,r,o){return this.on(e,t,r,o,!0)};var Be=/\r?\n/g;var je=/file|reset|submit|button|image/i,Je=/radio|checkbox/i;return C.serialize=function(){var e="";return this.each((function(t,r){X(r.elements||[r],(function(t,r){if(!(r.disabled||!r.name||"FIELDSET"===r.tagName||je.test(r.type)||Je.test(r.type)&&!r.checked)){var o=le(r);if(!J(o))X(c(o)?o:[o],(function(t,o){e+=function(e,t){return"&".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t.replace(Be,"\r\n")))}(r.name,o)}))}}))})),e.slice(1)},P}(window.top),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=JQUERY_DIGIOH),function(e,t){"use strict";e.fn||(e.fn=e.prototype),e.easing||(e.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},easeInElastic:function(e){if(0===e||1===e)return e;const t=2*Math.PI/3;return-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)},easeOutElastic:function(e){if(0===e||1===e)return e;const t=2*Math.PI/3;return Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1},easeInOutElastic:function(e){if(0===e||1===e)return e;const t=2*Math.PI/4.5;return e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}},e.easing.jswing=e.easing.swing);function r(e){var r=function(){try{if(t.parent&&t.parent!==t&&"function"==typeof t.parent.requestAnimationFrame)return t.parent.requestAnimationFrame.bind(t.parent)}catch(e){}return"function"==typeof t.requestAnimationFrame?t.requestAnimationFrame.bind(t):null}();return r?r(e):setTimeout(e,16)}function o(e){var r=function(){try{if(t.parent&&t.parent!==t&&"function"==typeof t.parent.cancelAnimationFrame)return t.parent.cancelAnimationFrame.bind(t.parent)}catch(e){}return"function"==typeof t.cancelAnimationFrame?t.cancelAnimationFrame.bind(t):null}();if(r)return r(e);clearTimeout(e)}var i=new WeakMap,n=new WeakMap;function s(e,t){t=t||"fx";var r=i.get(e)||{},o=r[t]=r[t]||[];i.set(e,r);var s=n.get(e)||{};return s[t]=s[t]||{running:!1},n.set(e,s),o}if(e.fn.extend({fadeIn:function(e,t){return this.animate({opacity:1},e,t)},fadeOut:function(e,t){return this.animate({opacity:0},e,t)},fadeTo:function(e,t,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,r)},fadeToggle:function(t,r){return this.each((function(){var o=e(this);o["0"===o.css("opacity")||"none"===o.css("display")?"fadeIn":"fadeOut"](t,r)}))},slideDown:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetHeight;o.css({display:"block",height:0,overflow:"hidden"}).animate({height:i},t,(function(){o.css({height:"",overflow:""}),r&&r.call(this)}))}))},slideLeft:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetWidth;o.css({display:"block",width:i,overflow:"hidden"}).animate({width:0},t,(function(){o.css({display:"none",width:i,overflow:""}),r&&r.call(this)}))}))},slideRight:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetWidth;o.css({display:"block",width:0,overflow:"hidden"}).animate({width:i},t,(function(){o.css({width:"",overflow:""}),r&&r.call(this)}))}))},slideUp:function(t,r){return this.each((function(){var o=e(this);o.animate({height:0},t,(function(){o.css({display:"none",height:"",overflow:""}),r&&r.call(this)}))}))},slideToggle:function(t,r){return this.each((function(){var o=e(this);o["none"===o.css("display")?"slideDown":"slideUp"](t,r)}))},slideDownElastic:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetHeight;o.css({display:"block",height:0,overflow:"hidden"}).animate({height:i},t,(function(){o.css({height:"",overflow:""}),r&&r.call(this)}),"easeOutElastic")}))},slideUpElastic:function(t,r){return this.each((function(){var o=e(this);o[0].offsetHeight;o.css({overflow:"hidden"}).animate({height:0},t,(function(){o.css({display:"none",height:"",overflow:""}),r&&r.call(this)}),"easeInElastic")}))},slideLeftElastic:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetWidth;o.css({display:"block",width:i,overflow:"hidden"}).animate({width:0},t,(function(){o.css({display:"none",width:i,overflow:""}),r&&r.call(this)}),"easeInElastic")}))},slideRightElastic:function(t,r){return this.each((function(){var o=e(this),i=o[0].offsetWidth;o.css({display:"block",width:0,overflow:"hidden"}).animate({width:i},t,(function(){o.css({width:"",overflow:""}),r&&r.call(this)}),"easeOutElastic")}))},zoomInCustom:function(t,r){return this.each((function(){var o=e(this),i=o.css("transform");o.css("opacity");o.css({display:"block",opacity:0,transform:"scale(0.1)",transformOrigin:"center center"}),o.animate({opacity:1,scale:1},t||400,(function(){o.css({transform:"none"===i?"":i,transformOrigin:""}),r&&r.call(this)}),"easeOutElastic")}))},zoomOutCustom:function(t,r){return this.each((function(){var o=e(this),i=o.css("transform");o.css({transformOrigin:"center center"}),o.animate({opacity:0,scale:.1},t||400,(function(){o.css({display:"none",transform:"none"===i?"":i,transformOrigin:"",opacity:""}),r&&r.call(this)}),"easeInElastic")}))}}),e.fn.show||(e.fn.show=function(){return this.each((function(){var t=this;e(t);t._originalStyles||(t._originalStyles={display:t.style.display,visibility:t.style.visibility,position:t.style.position,left:t.style.left,right:t.style.right,top:t.style.top,bottom:t.style.bottom}),"none"===t.style.display&&(t.style.display=""),"none"===getComputedStyle(t).display&&(t.style.display="block"),t.style.visibility="visible","fixed"===getComputedStyle(t).position&&(t.style.position="fixed")}))}),e.fn.hide||(e.fn.hide=function(){return this.each((function(){var e=this;e._originalStyles?(Object.assign(e.style,e._originalStyles),delete e._originalStyles):e.style.display="none"}))}),e.fn.toggle||(e.fn.toggle=function(){return this.each((function(){var t=e(this);"none"===getComputedStyle(this).display?t.show():t.hide()}))}),e.Event=function(e,t){let r;if("string"==typeof e?(r=document.createEvent("Event"),r.initEvent(e,!0,!0)):e instanceof Event?r=e:(r=document.createEvent("Event"),r.initEvent(e.type||"unknown",!0,!0)),r._cashTimeStamp=Date.now(),r._isEvent=!0,r.originalEvent=e instanceof Event?e:null,r.hasOwnProperty("timeStamp")||Object.defineProperty(r,"timeStamp",{get:function(){return this._cashTimeStamp}}),t){const e=["type","timeStamp","cancelable","bubbles","eventPhase","defaultPrevented"];Object.keys(t).forEach((function(o){if(-1===e.indexOf(o))try{r[o]=t[o]}catch(e){r["_cash_"+o]=t[o]}}))}return r},e.trim||(e.trim=function(e){return null==e?"":e.trim()}),e.extend||(e.extend=Object.assign),!e.data){var a=new WeakMap;e.data=function(e,t,r){if(e){var o=a.get(e);return o||(o={},a.set(e,o)),void 0===r?"object"==typeof t?(Object.assign(o,t),t):"idleTimerObj"===t?(o[t]||(o[t]={idle:!1,enabled:!0,timeout:3e4,lastActive:+new Date,olddate:+new Date,remaining:null,tId:null,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"}),o[t]):"idleTimer"===t?o[t]||"active":o[t]:(o[t]=r,r)}}}e.fn.bind||(e.fn.bind=function(e,t,r){return this.on(e,t,r)}),e.fn.unbind||(e.fn.unbind=function(e,t){return this.off(e,t)}),e.fn.data||(e.fn.data=function(t,r){return void 0===r?"object"==typeof t?(this.each((function(r){var o=e.data(r)||{};Object.assign(o,t),e.data(r,o)})),this):this[0]?e.data(this[0],t):void 0:this.each((function(o){e.data(o,t,r)}))}),e.inArray||(e.inArray=function(e,t,r){return null==t?-1:Array.prototype.indexOf.call(t,e,r)}),e.support||(e.support={cors:"XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest}),e.fn.hover||(e.fn.hover=function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}),e.fn.resize||(e.fn.resize=function(e){if(this[0]===t||this[0]===document)return t.addEventListener("resize",e),this;if("undefined"!=typeof ResizeObserver){const t=new ResizeObserver(e);this.each((function(e){t.observe(e)}))}return this}),e.fn.scroll||(e.fn.scroll=function(e){return this[0]===t||this[0]===document?(t.addEventListener("scroll",e),this):this.on("scroll",e)}),e.globalEval||(e.globalEval=function(e){var t=document.createElement("script");t.text=e,document.head.appendChild(t).parentNode.removeChild(t)});var l={method:"GET",url:"",data:null,headers:{},contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"*",success:function(){},error:function(){},complete:function(){},cache:!0,global:!0,jsonp:"callback",jsonpCallback:function(){return"jsonp_"+Math.random().toString(36).substr(2,9)},converters:{"text html":!0,"text json":JSON.parse,"text script":function(t){return e.globalEval(t),t}}};e.ajaxSetup=function(t,r){return r||(r=t,t=l),e.extend(!0,t,r)},e.ajax=function(t,r){if("object"==typeof t&&(t=(r=t).url),"jsonp"===(r=e.extend(!0,{},l,r)).dataType&&"function"==typeof e.jsonp){var o=e.Deferred(),i=r.success;r.success=function(){var e=arguments;o.resolve.apply(o,e),i&&i.apply(r.context||this,e)};var n=r.error;return r.error=function(){var e=arguments;o.reject.apply(o,e),n&&n.apply(r.context||this,e)},(c=e.jsonp({url:t,data:r.data,success:r.success,error:r.error,complete:r.complete,callbackParameter:r.jsonp||"callback",callback:"function"==typeof r.jsonpCallback?r.jsonpCallback():r.jsonpCallback,timeout:r.timeout})).done||(c.done=function(e){return o.done(e),c}),c.fail||(c.fail=function(e){return o.fail(e),c}),c.always||(c.always=function(e){return o.always(e),c}),c.then||(c.then=function(e,t){return o.then(e,t),c}),c}var s=new XMLHttpRequest;o=e.Deferred();for(var a in s.onload=function(){if(s.status>=200&&s.status<300||304===s.status){var t=s.responseText,i=r.dataType.toLowerCase();try{"json"===i||"*"===i&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?t=JSON.parse(t):"script"===i&&e.globalEval(t),r.success.call(r.context||s,t,s.statusText,s),o.resolve(t,s.statusText,s)}catch(e){r.error.call(r.context||s,s,"parsererror",e),o.reject(s,"parsererror",e)}}else r.error.call(r.context||s,s,s.statusText),o.reject(s,s.statusText,new Error(s.statusText||"Request failed"));r.complete.call(r.context||s,s,s.statusText)},s.onerror=function(){r.error.call(r.context||s,s,"error"),o.reject(s,"error",new Error("Network request failed")),r.complete.call(r.context||s,s,"error")},s.open(r.method,t+(r.cache?"":(t.indexOf("?")>=0?"&":"?")+"_="+Date.now()),!0),r.contentType&&s.setRequestHeader("Content-Type",r.contentType),r.headers)s.setRequestHeader(a,r.headers[a]);var c,u=r.data;return!u||"object"!=typeof u||u instanceof FormData||(u=Object.keys(u).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(u[e])})).join("&")),s.send(u),(c=o.promise()).abort=function(){return s.abort(),c},c},e.getScript=function(t,r){return e.ajax({url:t,dataType:"script",success:r})},e.post=function(t,r,o){return e.ajax({url:t,method:"POST",data:r,success:o})},e.expando||(e.expando="cash"+(Date.now()+Math.random()).toString(36)),e.fb_lightbox||(e.fb_lightbox={transitions:{},current:{},wrap:null,_getPosition:function(r){var o=this.current&&this.current.box_id?getActualBoxWidthAndHeight(this.current.box_id):{width:0,height:0};return{top:e(t).height()/2-o.height/2,left:e(t).width()/2-o.width/2,width:o.width,height:o.height}},_afterZoomIn:function(){this.current&&this.current.afterShow&&this.current.afterShow()},_afterZoomOut:function(){this.current&&this.current.afterClose&&this.current.afterClose()},hideLoading:function(){},close:function(){this.wrap&&(this.current&&this.current.closeMethod&&this.transitions[this.current.closeMethod]?this.transitions[this.current.closeMethod]():this.wrap.remove())},open:function(t){this.current=t,this.wrap=e('<div class="fb_lightbox-wrap"></div>').appendTo("body"),this.transitions.zoomInCustom||initFancyboxEffects(),t.openMethod&&this.transitions[t.openMethod]&&this.transitions[t.openMethod]()}}),e.noConflict||(e.noConflict=function(r){return r&&t.$===e&&(t.$=null),t.jQuery===e&&(t.jQuery=null),e});const c=["change","click","contextmenu","dblclick","error","focusin","focusout","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseup","resize","scroll","select","submit","unload"];for(const t of c)t in e.fn||(e.fn[t]=function(e){return e?this.on(t,e):this.trigger(t)});function s(t,r){var o="cash-queue-"+r;return e.data(t,o)||e.data(t,o,[])}function u(t,r){var o="cash-queue-state-"+r;return e.data(t,o)||e.data(t,o,{running:!1})}function _(e,t){"function"!=typeof queueMicrotask?"undefined"!=typeof Promise&&Promise.resolve?Promise.resolve().then((function(){d(e,t)})):r((function(){d(e,t)})):queueMicrotask((function(){d(e,t)}))}function d(t,r){var o=s(t,r),i=u(t,r);if(o.length){o[0].call(t,(function(){e(t).dequeue(r)}))}else i.running=!1}e.fn.scrollLeft||(e.fn.scrollLeft=function(e){return void 0===e?this[0]?void 0!==this[0].scrollLeft?this[0].scrollLeft:t.pageXOffset:void 0:this.each((function(){"scrollLeft"in this?this.scrollLeft=e:t.scrollTo(e,t.pageYOffset)}))}),e.fn.scrollTop||(e.fn.scrollTop=function(e){return void 0===e?this[0]?void 0!==this[0].scrollTop?this[0].scrollTop:t.pageYOffset:void 0:this.each((function(){"scrollTop"in this?this.scrollTop=e:t.scrollTo(t.pageXOffset,e)}))}),e.isEmptyObject||(e.isEmptyObject=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}),e.fn.queue||(e.fn.queue=function(e,t){return"string"!=typeof e&&(t=e,e="fx"),void 0===t?s(this[0],e):this.each((function(){var r=s(this,e),o=u(this,e);r.push(t),o.running||(o.running=!0,_(this,e))}))}),e.fn.dequeue||(e.fn.dequeue=function(e){return e=e||"fx",this.each((function(){var t=s(this,e),r=u(this,e);t.shift(),t.length?_(this,e):r.running=!1}))}),e.param||(e.param=function(e){if("string"==typeof e)return e;var t=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}return t.join("&")}),e.proxy||(e.proxy=function(e,t){if("string"==typeof t){var r=e[t];t=e,e=r}if("function"==typeof e)return e.bind(t)}),e.Deferred||(e.Deferred=function(){var e={done:[],fail:[],always:[]},t="pending",r={done:function(t){return"function"==typeof t&&e.done.push(t),this},fail:function(t){return"function"==typeof t&&e.fail.push(t),this},always:function(t){return"function"==typeof t&&e.always.push(t),this},then:function(e,t){return e&&this.done(e),t&&this.fail(t),this},resolve:function(){if("pending"===t){t="resolved";var r=arguments;e.done.forEach((function(e){e.apply(null,r)})),e.always.forEach((function(e){e.apply(null,r)}))}return this},reject:function(){if("pending"===t){t="rejected";var r=arguments;e.fail.forEach((function(e){e.apply(null,r)})),e.always.forEach((function(e){e.apply(null,r)}))}return this},state:function(){return t},promise:function(){var e={};return["done","fail","always","then","state"].forEach((function(t){e[t]=r[t]})),e}};return r}),e.when||(e.when=function(){var t=Array.prototype.slice.call(arguments);if(0===t.length)return e.Deferred().resolve().promise();var r=e.Deferred(),o=t.length,i=[];return t.forEach((function(e,t){if(!(e&&"function"==typeof e.then))return i[t]=e,void(0===--o&&r.resolve.apply(r,i));e.then((function(e){i[t]=e,0===--o&&r.resolve.apply(r,i)}),(function(){r.reject.apply(r,arguments)}))})),r.promise()}),e.fn.prop||(e.fn.prop=function(e,t){return void 0===t?this[0]&&this[0][e]:this.each((function(r){r[e]=t}))}),e.fn.html||(e.fn.html=function(e){return void 0===e?this[0]&&this[0].innerHTML:this.each((function(t){t.innerHTML=e}))}),e.fn.text||(e.fn.text=function(e){return void 0===e?this[0]&&this[0].textContent:this.each((function(t){t.textContent=e}))}),e.fn.focus||(e.fn.focus=function(e){return"function"==typeof e?this.on("focus",e):this[0]&&this[0].focus(),this}),e.fn.blur||(e.fn.blur=function(e){return"function"==typeof e?this.on("blur",e):this[0]&&this[0].blur(),this}),e.fn.append||(e.fn.append=function(e){return this.each((function(t){"string"==typeof e?t.insertAdjacentHTML("beforeend",e):e instanceof Element?t.appendChild(e):e instanceof Cash&&e.each((function(e){t.appendChild(e)}))}))}),e.fn.prepend||(e.fn.prepend=function(e){return this.each((function(t){"string"==typeof e?t.insertAdjacentHTML("afterbegin",e):e instanceof Element?t.insertBefore(e,t.firstChild):e instanceof Cash&&e.each((function(e){t.insertBefore(e,t.firstChild)}))}))}),e.fn.remove||(e.fn.remove=function(){return this.each((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}),e.fn.offset||(e.fn.offset=function(){var e=this[0];if(!e)return null;var r=e.getBoundingClientRect();return{top:r.top+t.pageYOffset,left:r.left+t.pageXOffset}}),e.fn.position||(e.fn.position=function(){var e=this[0];return e?{top:e.offsetTop,left:e.offsetLeft}:null}),e.expr||(e.expr={}),e.expr[":"]||(e.expr[":"]={}),e.expr[":"].contains=function(e,t,r){var o=(e.textContent||e.innerText||"").toLowerCase(),i=(r[3]||"").toLowerCase();return o.indexOf(i)>-1},e.type||(e.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).slice(8,-1).toLowerCase():typeof e}),e.isFunction||(e.isFunction=function(e){return"function"==typeof e}),e.isArray||(e.isArray=Array.isArray),e.isPlainObject||(e.isPlainObject=function(t){return!(!t||"object"!==e.type(t)||t.nodeType||t===t.window)&&Object.getPrototypeOf(t)===Object.prototype}),e.fn.delegate||(e.fn.delegate=function(e,t,r){return this.on(t,e,r)}),e.fn.undelegate||(e.fn.undelegate=function(e,t,r){return this.off(t,e,r)}),e.fn.contents||(e.fn.contents=function(){var t=[];return this.each((function(){t.push.apply(t,this.childNodes)})),e(t)}),e.fn.unwrap||(e.fn.unwrap=function(){return this.parent().each((function(){var t=e(this);t.replaceWith(t.children())})),this}),e.fn.detach||(e.fn.detach=function(){return this.each((function(){var e=this.parentNode;e&&e.removeChild(this)}))}),e.fn.contents||(e.fn.contents=function(){var t=[];return this.each((function(){t.push.apply(t,this.childNodes)})),e(t)}),e.noop||(e.noop=function(){}),e.idleTimer||(e.idleTimer=function(t,r,o){o=e.extend({startImmediately:!0,idle:!1,enabled:!0,timeout:3e4,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},o),r=r||e("body")[0];var i=e(r),n=e.data(r,"idleTimerObj")||{};n.olddate=n.olddate||+new Date,n.enabled=o.enabled,n.timeout=t||o.timeout,n.idle=o.idle,n.events=o.events,e.data(r,"idleTimerObj",n),e.data(r,"idleTimer","active");return i.off(".idleTimer"),i.on(e.trim((o.events+" ").split(" ").join(".idleTimer ")),(function(){var t=e.data(r,"idleTimerObj");t.tId&&clearTimeout(t.tId),t.enabled&&(t.idle&&(t.idle=!1,e.data(r,"idleTimer","active"),e(r).trigger("active")),t.tId=setTimeout((function(){t.idle=!0,e.data(r,"idleTimer","idle"),e(r).trigger("idle")}),t.timeout),e.data(r,"idleTimerObj",t))})),o.startImmediately&&(n.tId=setTimeout((function(){n.idle=!0,e.data(r,"idleTimer","idle"),e(r).trigger("idle")}),n.timeout),e.data(r,"idleTimerObj",n)),i}),e.fn.idleTimer||(e.fn.idleTimer=function(t,r){return r||(r={}),this[0]?e.idleTimer(t,this[0],r):this}),e.customEvents||(e.customEvents={handlers:{},handleEvent:function(e,t,r){var o=this.handlers[e];o&&o.forEach((function(e){e.call(this,t,r)}))},on:function(t,r){if(!this.handlers[t]){this.handlers[t]=[];var o=this;e(document).on(t,(function(e,r){o.handleEvent(t,e,r)}))}this.handlers[t].push(r)},off:function(t,r){if(this.handlers[t])if(r){var o=this.handlers[t].indexOf(r);-1!==o&&this.handlers[t].splice(o,1),0===this.handlers[t].length&&(delete this.handlers[t],e(document).off(t))}else delete this.handlers[t],e(document).off(t)}}),e.registerEventHandler=function(t,r){e.customEvents&&e.customEvents.on(t,r)},e.removeEventHandler=function(t,r){e.customEvents&&e.customEvents.off(t,r)};var g={height:function(e,t){return"show"===t?e._originalHeight||"100px":"hide"===t?"0px":t},width:function(e,t){return"show"===t?e._originalWidth||"100px":"hide"===t?"0px":t},opacity:function(e,t){return"show"===t?"1":"hide"===t?"0":t}},f={scale:function(e){return"scale("+e+")"},scaleX:function(e){return"scaleX("+e+")"},scaleY:function(e){return"scaleY("+e+")"},rotate:function(e){return"rotate("+e+"deg)"},translateX:function(e){return"translateX("+e+"px)"},translateY:function(e){return"translateY("+e+"px)"}};e.fn.animate||(e.fn.animate=function(t,i,n,s){var a={};return"object"==typeof i&&null!==i?(i=(a=i).duration,n=a.easing,s=a.complete):"function"==typeof i?(s=i,n=void 0,i=void 0):"function"==typeof n&&(s=n,n=void 0),i=i||a.duration||400,n=n||a.easing||"swing",this.each((function(){var a=this,l=e(a);a._originalWidth||(a._originalWidth=getComputedStyle(a).width,a._originalHeight=getComputedStyle(a).height);l.queue((function(){var c={},u={},_=getComputedStyle(a),d=[],p=!1,I={};for(var h in t){var O=t[h];if(g[h]&&(O=g[h](a,O)),f[h]){p=!0;var m=_.transform,v="none"===m?0:parseFloat(m.match(new RegExp(h+"\\(([-\\d.]+)"+("rotate"===h?"deg":"")+"\\)"))||[,0])[1];c[h]=v,u[h]="rotate"===h?"deg":""}else{I[h]=O;v="opacity"===h?parseFloat(_[h])||0:parseInt(_[h])||0;c[h]=v,u[h]="opacity"===h?"":"px"}}var y,b=Date.now();function G(e,t){var r=/^([+-])=(\d+)/;if(!r.test(e))return parseFloat(e);var o=e.match(r),i=o[1],n=parseInt(o[2]);switch(i){case"-":return t-n;case"+":return t+n}}var D=!1;r((function _(){var g=Date.now(),h=1-(Math.max(0,b+i-g)/i||0),O=e.easing[n](h,h*i,0,1,i);if(p){for(var m in d=[],f)if(m in t){var v=G(t[m],c[m]),E=c[m]+(v-c[m])*O;d.push(f[m](E))}a.style.transform=d.join(" ")}for(var m in I){v=G(I[m],c[m]),E=c[m]+(v-c[m])*O;a.style[m]=E+u[m]}if(h<1)y=r(_);else{if(D)return;if(D=!0,p){for(var m in d=[],f)m in t&&d.push(f[m](t[m]));a.style.transform=d.join(" ")}for(var m in I)a.style[m]=I[m]+u[m];y&&o(y),"hide"===t.height||"hide"===t.width||"hide"===t.opacity?a.style.display="none":"show"!==t.height&&"show"!==t.width&&"show"!==t.opacity||(a.style.display=""),l.dequeue(),"function"==typeof s&&s.call(a)}}))}))}))}),e.fn.contains=function(e){var t=(e||"").toLowerCase();return this.filter((function(e,r){return(r.textContent||r.innerText||"").toLowerCase().indexOf(t)>-1}))},e.fn.visible=function(){return this.filter((function(e,t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}))},e.fn.input=function(){return this.filter((function(e,t){var r=t.nodeName&&t.nodeName.toLowerCase();return"input"===r||"select"===r||"textarea"===r||"button"===r}))},e.fn.stop||(e.fn.stop=function(){return this})}(JQUERY_DIGIOH,window.top),RegExp.escape=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},function(){"use strict";var e=JQUERY_DIGIOH;e.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){if(isNaN(e))return e;if(/\./.test(e))return parseFloat(e);var r=parseInt(e);return isNaN(r)?null:r}},parsers:{parse:function(e,t){var r=t.separator,o=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var i=[],n=[],s=0,a="",l=!1;function c(){if(s=0,a="",t.start&&t.state.rowNum<t.start)return n=[],t.state.rowNum++,void(t.state.colNum=1);if(void 0===t.onParseEntry)i.push(n);else{var e=t.onParseEntry(n,t.state);!1!==e&&i.push(e)}n=[],t.end&&t.state.rowNum>=t.end&&(l=!0),t.state.rowNum++,t.state.colNum=1}function u(){if(void 0===t.onParseValue)n.push(a);else if(t.headers&&1===t.state.rowNum)n.push(a);else{var e=t.onParseValue(a,t.state);!1!==e&&n.push(e)}a="",s=0,t.state.colNum++}var _=RegExp.escape(r),d=RegExp.escape(o),g=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,f=g.source;return f=(f=f.replace(/S/g,_)).replace(/D/g,d),g=new RegExp(f,"gm"),e.replace(g,(function(e){if(!l)switch(s){case 0:if(e===r){a+="",u();break}if(e===o){s=1;break}if(/^(\r\n|\n|\r)$/.test(e)){u(),c();break}a+=e,s=3;break;case 1:if(e===o){s=2;break}a+=e,s=1;break;case 2:if(e===o){a+=e,s=1;break}if(e===r){u();break}if(/^(\r\n|\n|\r)$/.test(e)){u(),c();break}throw Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===r){u();break}if(/^(\r\n|\n|\r)$/.test(e)){u(),c();break}if(e===o)throw Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}})),0!==n.length&&(u(),c()),i},splitLines:function(t,r){if(t){var o=(r=r||{}).separator||e.csv.defaults.separator,i=r.delimiter||e.csv.defaults.delimiter;r.state=r.state||{},r.state.rowNum||(r.state.rowNum=1);var n=[],s=0,a="",l=!1,c=RegExp.escape(o),u=RegExp.escape(i),_=/(D|S|\n|\r|[^DS\r\n]+)/,d=_.source;return d=(d=d.replace(/S/g,c)).replace(/D/g,u),_=new RegExp(d,"gm"),t.replace(_,(function(e){if(!l)switch(s){case 0:if(e===o){a+=e,s=0;break}if(e===i){a+=e,s=1;break}if("\n"===e){g();break}if(/^\r$/.test(e))break;a+=e,s=3;break;case 1:if(e===i){a+=e,s=2;break}a+=e,s=1;break;case 2:var t=a.substr(a.length-1);if(e===i&&t===i){a+=e,s=1;break}if(e===o){a+=e,s=0;break}if("\n"===e){g();break}if("\r"===e)break;throw Error("CSVDataError: Illegal state [Row:"+r.state.rowNum+"]");case 3:if(e===o){a+=e,s=0;break}if("\n"===e){g();break}if("\r"===e)break;if(e===i)throw Error("CSVDataError: Illegal quote [Row:"+r.state.rowNum+"]");throw Error("CSVDataError: Illegal state [Row:"+r.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+r.state.rowNum+"]")}})),""!==a&&g(),n}function g(){if(s=0,r.start&&r.state.rowNum<r.start)return a="",void r.state.rowNum++;if(void 0===r.onParseEntry)n.push(a);else{var e=r.onParseEntry(a,r.state);!1!==e&&n.push(e)}a="",r.end&&r.state.rowNum>=r.end&&(l=!0),r.state.rowNum++}},parseEntry:function(e,t){var r=t.separator,o=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var i=[],n=0,s="";function a(){if(void 0===t.onParseValue)i.push(s);else{var e=t.onParseValue(s,t.state);!1!==e&&i.push(e)}s="",n=0,t.state.colNum++}if(!t.match){var l=RegExp.escape(r),c=RegExp.escape(o),u=/(D|S|\n|\r|[^DS\r\n]+)/.source;u=(u=u.replace(/S/g,l)).replace(/D/g,c),t.match=new RegExp(u,"gm")}return e.replace(t.match,(function(e){switch(n){case 0:if(e===r){s+="",a();break}if(e===o){n=1;break}if("\n"===e||"\r"===e)break;s+=e,n=3;break;case 1:if(e===o){n=2;break}s+=e,n=1;break;case 2:if(e===o){s+=e,n=1;break}if(e===r){a();break}if("\n"===e||"\r"===e)break;throw Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===r){a();break}if("\n"===e||"\r"===e)break;if(e===o)throw Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}})),a(),i}},helpers:{collectPropertyNames:function(e){var t=[],r=[],o=[];for(t in e)for(r in e[t])e[t].hasOwnProperty(r)&&o.indexOf(r)<0&&"function"!=typeof e[t][r]&&o.push(r);return o}},toArray:function(t,r,o){if(void 0!==r&&"function"==typeof r){if(void 0!==o)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=r,r={}}r=void 0!==r?r:{};var i={};i.callback=void 0!==o&&"function"==typeof o&&o,i.separator="separator"in r?r.separator:e.csv.defaults.separator,i.delimiter="delimiter"in r?r.delimiter:e.csv.defaults.delimiter;var n=void 0!==r.state?r.state:{};r={delimiter:i.delimiter,separator:i.separator,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,state:n};var s=e.csv.parsers.parseEntry(t,r);if(!i.callback)return s;i.callback("",s)},toArrays:function(t,r,o){if(void 0!==r&&"function"==typeof r){if(void 0!==o)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=r,r={}}r=void 0!==r?r:{};var i={};i.callback=void 0!==o&&"function"==typeof o&&o,i.separator="separator"in r?r.separator:e.csv.defaults.separator,i.delimiter="delimiter"in r?r.delimiter:e.csv.defaults.delimiter;var n=[];if(void 0!==(r={delimiter:i.delimiter,separator:i.separator,onPreParse:r.onPreParse,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,onPostParse:r.onPostParse,start:r.start,end:r.end,state:{rowNum:1,colNum:1}}).onPreParse&&(t=r.onPreParse(t,r.state)),n=e.csv.parsers.parse(t,r),void 0!==r.onPostParse&&(n=r.onPostParse(n,r.state)),!i.callback)return n;i.callback("",n)},toObjects:function(t,r,o){if(void 0!==r&&"function"==typeof r){if(void 0!==o)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=r,r={}}r=void 0!==r?r:{};var i={};i.callback=void 0!==o&&"function"==typeof o&&o,i.separator="separator"in r?r.separator:e.csv.defaults.separator,i.delimiter="delimiter"in r?r.delimiter:e.csv.defaults.delimiter,i.headers="headers"in r?r.headers:e.csv.defaults.headers,r.start="start"in r?r.start:1,i.headers&&r.start++,r.end&&i.headers&&r.end++;var n,s=[];r={delimiter:i.delimiter,separator:i.separator,onPreParse:r.onPreParse,onParseEntry:r.onParseEntry,onParseValue:r.onParseValue,onPostParse:r.onPostParse,start:r.start,end:r.end,state:{rowNum:1,colNum:1},match:!1,transform:r.transform};var a={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1},headers:!0};void 0!==r.onPreParse&&(t=r.onPreParse(t,r.state));var l=e.csv.parsers.splitLines(t,a),c=e.csv.toArray(l[0],a);n=e.csv.parsers.splitLines(t,r),r.state.colNum=1,r.state.rowNum=c?2:1;for(var u=0,_=n.length;u<_;u++){for(var d=e.csv.toArray(n[u],r),g={},f=0;f<c.length;f++)g[c[f]]=d[f];void 0!==r.transform?s.push(r.transform.call(void 0,g)):s.push(g),r.state.rowNum++}if(void 0!==r.onPostParse&&(s=r.onPostParse(s,r.state)),!i.callback)return s;i.callback("",s)},fromArrays:function(t,r,o){if(void 0!==r&&"function"==typeof r){if(void 0!==o)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=r,r={}}r=void 0!==r?r:{};var i={};i.callback=void 0!==o&&"function"==typeof o&&o,i.separator="separator"in r?r.separator:e.csv.defaults.separator,i.delimiter="delimiter"in r?r.delimiter:e.csv.defaults.delimiter;var n,s,a,l,c="";for(a=0;a<t.length;a++){for(n=t[a],s=[],l=0;l<n.length;l++){var u=void 0===n[l]||null===n[l]?"":n[l].toString();-1<u.indexOf(i.delimiter)&&(u=u.replace(new RegExp(i.delimiter,"g"),i.delimiter+i.delimiter));var _="\n|\r|S|D";_=(_=_.replace("S",i.separator)).replace("D",i.delimiter),-1<u.search(_)&&(u=i.delimiter+u+i.delimiter),s.push(u)}c+=s.join(i.separator)+"\n"}if(!i.callback)return c;i.callback("",c)},fromObjects:function(t,r,o){if(void 0!==r&&"function"==typeof r){if(void 0!==o)return console.error("You cannot 3 arguments with the 2nd argument being a function");o=r,r={}}r=void 0!==r?r:{};var i={};if(i.callback=void 0!==o&&"function"==typeof o&&o,i.separator="separator"in r?r.separator:e.csv.defaults.separator,i.delimiter="delimiter"in r?r.delimiter:e.csv.defaults.delimiter,i.headers="headers"in r?r.headers:e.csv.defaults.headers,i.sortOrder="sortOrder"in r?r.sortOrder:"declare",i.manualOrder="manualOrder"in r?r.manualOrder:[],i.transform=r.transform,"string"==typeof i.manualOrder&&(i.manualOrder=e.csv.toArray(i.manualOrder,i)),void 0!==i.transform){var n,s=t;for(t=[],n=0;n<s.length;n++)t.push(i.transform.call(void 0,s[n]))}var a,l,c=e.csv.helpers.collectPropertyNames(t);if("alpha"===i.sortOrder&&c.sort(),0<i.manualOrder.length){var u,_=[].concat(i.manualOrder);for(u=0;u<c.length;u++)_.indexOf(c[u])<0&&_.push(c[u]);c=_}var d,g=[];for(i.headers&&g.push(c),a=0;a<t.length;a++){for(l=[],u=0;u<c.length;u++)(d=c[u])in t[a]&&"function"!=typeof t[a][d]?l.push(t[a][d]):l.push("");g.push(l)}return e.csv.fromArrays(g,r,i.callback)}},e.csvEntry2Array=e.csv.toArray,e.csv2Array=e.csv.toArrays,e.csv2Dictionary=e.csv.toObjects,"undefined"!=typeof module&&module.exports&&(module.exports=e.csv)}.call(this),function(e,t,r,o){var i=r("html"),n=r(e),s=r(t),a=r.fb_lightbox=function(){a.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),c=null,u=t.createTouch!==o,_=function(e){return e&&e.hasOwnProperty&&e instanceof r},d=function(e){return e&&"string"===r.type(e)},g=function(e){return d(e)&&e.indexOf("%")>0},f=function(e,t){var r=parseInt(e,10)||0;return t&&g(e)&&(r=a.getViewport()[t]/100*r),Math.ceil(r)},p=function(e,t){return f(e,t)+"px"};r.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fb_lightbox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fb_lightbox-wrap" tabIndex="-1"><div class="fb_lightbox-skin"><div class="fb_lightbox-outer"><div class="fb_lightbox-inner"></div></div></div></div>',image:'<img class="fb_lightbox-image" src="{href}" alt="" />',iframe:'<iframe id="fb_lightbox-frame{rnd}" name="fb_lightbox-frame{rnd}" class="fb_lightbox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fb_lightbox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fb_lightbox-item fb_lightbox-close" href="javascript:;"></a>',next:'<a title="Next" class="fb_lightbox-nav fb_lightbox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fb_lightbox-nav fb_lightbox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:r.noop,beforeLoad:r.noop,afterLoad:r.noop,beforeShow:r.noop,afterShow:r.noop,beforeChange:r.noop,beforeClose:r.noop,afterClose:r.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){if(e&&(r.isPlainObject(t)||(t={}),!1!==a.close(!0)))return r.isArray(e)||(e=_(e)?r(e).get():[e]),r.each(e,(function(i,n){var s,l,c,u,g,f,p,I={};"object"===r.type(n)&&(n.nodeType&&(n=r(n)),_(n)?(I={href:n.data("fb_lightbox-href")||n.attr("href"),title:n.data("fb_lightbox-title")||n.attr("title"),isDom:!0,element:n},r.metadata&&r.extend(!0,I,n.metadata())):I=n),s=t.href||I.href||(d(n)?n:null),l=t.title!==o?t.title:I.title||"",!(u=(c=t.content||I.content)?"html":t.type||I.type)&&I.isDom&&((u=n.data("fb_lightbox-type"))||(u=(g=n.prop("class").match(/fb_lightbox\.(\w+)/))?g[1]:null)),d(s)&&(u||(a.isImage(s)?u="image":a.isSWF(s)?u="swf":"#"===s.charAt(0)?u="inline":d(n)&&(u="html",c=n)),"ajax"===u&&(f=s.split(/\s+/,2),s=f.shift(),p=f.shift())),c||("inline"===u?s?c=r(d(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):I.isDom&&(c=n):"html"===u?c=s:u||s||!I.isDom||(u="inline",c=n)),r.extend(I,{href:s,type:u,content:c,title:l,selector:p}),e[i]=I})),a.opts=r.extend(!0,{},a.defaults,t),t.keys!==o&&(a.opts.keys=!!t.keys&&r.extend({},a.defaults.keys,t.keys)),a.group=e,a._start(a.opts.index)},cancel:function(){var e=a.coming;e&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(e))},close:function(e){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==e?(a.isOpen=a.isOpened=!1,a.isClosing=!0,r(".fb_lightbox-item, .fb_lightbox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fb_lightbox-opened"),a.transitions[a.current.closeMethod]()):(r(".fb_lightbox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(a.player.timer)},r=function(){t(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},o=function(){t(),s.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===e||!a.player.isActive&&!1!==e?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":o,"onUpdate.player":r,"beforeLoad.player":t}),r(),a.trigger("onPlayStart")):o()},next:function(e){var t=a.current;t&&(d(e)||(e=t.direction.next),a.jumpto(t.index+1,e,"next"))},prev:function(e){var t=a.current;t&&(d(e)||(e=t.direction.prev),a.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,r){var i=a.current;i&&(e=f(e),a.direction=t||i.direction[e>=i.index?"next":"prev"],a.router=r||"jumpto",i.loop&&(e<0&&(e=i.group.length+e%i.group.length),e%=i.group.length),i.group[e]!==o&&(a.cancel(),a._start(e)))},reposition:function(e,t){var o,i=a.current,n=i?i.wrap:null;n&&(o=a._getPosition(t),e&&"scroll"===e.type?(delete o.position,n.stop(!0,!0).animate(o,200)):(n.css(o),i.pos=r.extend({},i.dim,o)))},update:function(e){var t=e&&e.type,r=!t||"orientationchange"===t;r&&(clearTimeout(c),c=null),a.isOpen&&!c&&(c=setTimeout((function(){var o=a.current;o&&!a.isClosing&&(a.wrap.removeClass("fb_lightbox-tmp"),(r||"load"===t||"resize"===t&&o.autoResize)&&a._setDimension(),"scroll"===t&&o.canShrink||a.reposition(e),a.trigger("onUpdate"),c=null)}),r&&!u?0:300))},toggle:function(e){a.isOpen&&(a.current.fitToView="boolean"===r.type(e)?e:!a.current.fitToView,u&&(a.wrap.removeAttr("style").addClass("fb_lightbox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){s.unbind(".loading"),r("#fb_lightbox-loading").remove()},showLoading:function(){var e,t;a.hideLoading(),e=r('<div id="fb_lightbox-loading"><div></div></div>').click(a.cancel).appendTo("body"),s.bind("keydown.loading",(function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),a.cancel())})),a.defaults.fixed||(t=a.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=a.current&&a.current.locked||!1,r={x:n.scrollLeft(),y:n.scrollTop()};return t?(r.w=t[0].clientWidth,r.h=t[0].clientHeight):(r.w=u&&e.innerWidth?e.innerWidth:n.width(),r.h=u&&e.innerHeight?e.innerHeight:n.height()),r},unbindEvents:function(){a.wrap&&_(a.wrap)&&a.wrap.unbind(".fb"),s.unbind(".fb"),n.unbind(".fb")},bindEvents:function(){var e,t=a.current;t&&(n.bind("orientationchange.fb"+(u?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),a.update),(e=t.keys)&&s.bind("keydown.fb",(function(i){var n=i.which||i.keyCode,s=i.target||i.srcElement;if(27===n&&a.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||s&&(s.type||r(s).is("[contenteditable]"))||r.each(e,(function(e,s){return t.group.length>1&&s[n]!==o?(a[e](s[n]),i.preventDefault(),!1):r.inArray(n,s)>-1?(a[e](),i.preventDefault(),!1):void 0}))})),r.fn.mousewheel&&t.mouseWheel&&a.wrap.bind("mousewheel.fb",(function(e,o,i,n){for(var s,l=e.target||null,c=r(l),u=!1;c.length&&!(u||c.is(".fb_lightbox-skin")||c.is(".fb_lightbox-wrap"));)u=(s=c[0])&&!(s.style.overflow&&"hidden"===s.style.overflow)&&(s.clientWidth&&s.scrollWidth>s.clientWidth||s.clientHeight&&s.scrollHeight>s.clientHeight),c=r(c).parent();0===o||u||a.group.length>1&&!t.canShrink&&(n>0||i>0?a.prev(n>0?"down":"left"):(n<0||i<0)&&a.next(n<0?"up":"right"),e.preventDefault())})))},trigger:function(e,t){var o,i=t||a.coming||a.current;if(i){if(r.isFunction(i[e])&&(o=i[e].apply(i,Array.prototype.slice.call(arguments,1))),!1===o)return!1;i.helpers&&r.each(i.helpers,(function(t,o){o&&a.helpers[t]&&r.isFunction(a.helpers[t][e])&&a.helpers[t][e](r.extend(!0,{},a.helpers[t].defaults,o),i)})),s.trigger(e)}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,o,i,n,s,l={};if(e=f(e),!(t=a.group[e]||null))return!1;if(n=(l=r.extend(!0,{},a.opts,t)).margin,s=l.padding,"number"===r.type(n)&&(l.margin=[n,n,n,n]),"number"===r.type(s)&&(l.padding=[s,s,s,s]),l.modal&&r.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=a.group,l.index=e,a.coming=l,!1!==a.trigger("beforeLoad")){if(i=l.type,o=l.href,!i)return a.coming=null,!(!a.current||!a.router||"jumpto"===a.router)&&(a.current.index=e,a[a.router](a.direction));if(a.isActive=!0,"image"!==i&&"swf"!==i||(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===i&&(l.aspectRatio=!0),"iframe"===i&&u&&(l.scrolling="scroll"),l.wrap=r(l.tpl.wrap).addClass("fb_lightbox-"+(u?"mobile":"desktop")+" fb_lightbox-type-"+i+" fb_lightbox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),r.extend(l,{skin:r(".fb_lightbox-skin",l.wrap),outer:r(".fb_lightbox-outer",l.wrap),inner:r(".fb_lightbox-inner",l.wrap)}),r.each(["Top","Right","Bottom","Left"],(function(e,t){l.skin.css("padding"+t,p(l.padding[e]))})),a.trigger("onReady"),"inline"===i||"html"===i){if(!l.content||!l.content.length)return a._error("content")}else if(!o)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()}else a.coming=null},_error:function(e){r.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var e=a.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width/a.opts.pixelRatio,a.coming.height=this.height/a.opts.pixelRatio,a._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,a._error("image")},e.src=a.coming.href,!0!==e.complete&&a.showLoading()},_loadAjax:function(){var e=a.coming;a.showLoading(),a.ajaxLoad=r.ajax(r.extend({},e.ajax,{url:e.href,error:function(e,t){a.coming&&"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(t,r){"success"===r&&(e.content=t,a._afterLoad())}}))},_loadIframe:function(){var e=a.coming,t=r(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":e.iframe.scrolling).attr("src",e.href);r(e.wrap).bind("onReset",(function(){try{r(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}})),e.iframe.preload&&(a.showLoading(),t.one("load",(function(){r(this).data("ready",1),u||r(this).bind("load.fb",a.update),r(this).parents(".fb_lightbox-wrap").width("100%").removeClass("fb_lightbox-tmp").show(),a._afterLoad()}))),e.content=t.appendTo(e.inner),e.iframe.preload||a._afterLoad()},_preloadImages:function(){var e,t,r=a.group,o=a.current,i=r.length,n=o.preload?Math.min(o.preload,i-1):0;for(t=1;t<=n;t+=1)"image"===(e=r[(o.index+t)%i]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,o,i,n,s,l=a.coming,c=a.current,u="fb_lightbox-placeholder";if(a.hideLoading(),l&&!1!==a.isActive){if(!1===a.trigger("afterLoad",l,c))return l.wrap.stop(!0).trigger("onReset").remove(),void(a.coming=null);switch(c&&(a.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fb_lightbox-opened").find(".fb_lightbox-item, .fb_lightbox-nav").remove()),a.unbindEvents(),e=l,t=l.content,o=l.type,i=l.scrolling,r.extend(a,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:c}),n=e.href,o){case"inline":case"ajax":case"html":e.selector?t=r("<div>").html(t).find(e.selector):_(t)&&(t.data(u)||t.data(u,r('<div class="'+u+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",(function(){r(this).find(t).length&&t.hide().replaceAll(t.data(u)).data(u,!1)})));break;case"image":t=e.tpl.image.replace("{href}",n);break;case"swf":t='<object id="fb_lightbox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',s="",r.each(e.swf,(function(e,r){t+='<param name="'+e+'" value="'+r+'"></param>',s+=" "+e+'="'+r+'"'})),t+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}_(t)&&t.parent().is(e.inner)||e.inner.append(t),a.trigger("beforeShow"),e.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?c.prevMethod&&a.transitions[c.prevMethod]():r(".fb_lightbox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?e.nextMethod:e.openMethod](),a._preloadImages()}},_setDimension:function(){var e,t,o,i,n,s,l,c,u,_,d,I,h,O,m,v,y,b=a.getViewport(),G=0,D=a.wrap,E=a.skin,x=a.inner,H=a.current,w=H.width,S=H.height,A=H.minWidth,R=H.minHeight,T=H.maxWidth,L=H.maxHeight,C=H.scrolling,P=H.scrollOutside?H.scrollbarWidth:0,N=H.margin,U=f(N[1]+N[3]),k=f(N[0]+N[2]);if(D.add(E).add(x).width("auto").height("auto").removeClass("fb_lightbox-tmp"),n=U+(o=f(E.outerWidth(!0)-E.width())),s=k+(i=f(E.outerHeight(!0)-E.height())),l=g(w)?(b.w-n)*f(w)/100:w,c=g(S)?(b.h-s)*f(S)/100:S,"iframe"===H.type){if(v=H.content,H.autoHeight&&1===v.data("ready"))try{v[0].contentWindow.document.location&&(x.width(l).height(9999),y=v.contents().find("body"),P&&y.css("overflow-x","hidden"),c=y.outerHeight(!0))}catch(e){}}else(H.autoWidth||H.autoHeight)&&(x.addClass("fb_lightbox-tmp"),H.autoWidth||x.width(l),H.autoHeight||x.height(c),H.autoWidth&&(l=x.width()),H.autoHeight&&(c=x.height()),x.removeClass("fb_lightbox-tmp"));if(w=f(l),S=f(c),d=l/c,A=f(g(A)?f(A,"w")-n:A),T=f(g(T)?f(T,"w")-n:T),R=f(g(R)?f(R,"h")-s:R),u=T,_=L=f(g(L)?f(L,"h")-s:L),H.fitToView&&(T=Math.min(b.w-n,T),L=Math.min(b.h-s,L)),O=b.w-U,m=b.h-k,H.aspectRatio?(w>T&&(S=f((w=T)/d)),S>L&&(w=f((S=L)*d)),w<A&&(S=f((w=A)/d)),S<R&&(w=f((S=R)*d))):(w=Math.max(A,Math.min(w,T)),H.autoHeight&&"iframe"!==H.type&&(x.width(w),S=x.height()),S=Math.max(R,Math.min(S,L))),H.fitToView)if(x.width(w).height(S),D.width(w+o),I=D.width(),h=D.height(),H.aspectRatio)for(;(I>O||h>m)&&w>A&&S>R&&!(G++>19);)S=Math.max(R,Math.min(L,S-10)),(w=f(S*d))<A&&(S=f((w=A)/d)),w>T&&(S=f((w=T)/d)),x.width(w).height(S),D.width(w+o),I=D.width(),h=D.height();else w=Math.max(A,Math.min(w,w-(I-O))),S=Math.max(R,Math.min(S,S-(h-m)));P&&"auto"===C&&S<c&&w+o+P<O&&(w+=P),x.width(w).height(S),D.width(w+o),I=D.width(),h=D.height(),e=(I>O||h>m)&&w>A&&S>R,t=H.aspectRatio?w<u&&S<_&&w<l&&S<c:(w<u||S<_)&&(w<l||S<c),r.extend(H,{dim:{width:p(I),height:p(h)},origWidth:l,origHeight:c,canShrink:e,canExpand:t,wPadding:o,hPadding:i,wrapSpace:h-E.outerHeight(!0),skinSpace:E.height()-S}),!v&&H.autoHeight&&S>R&&S<L&&!t&&x.height("auto")},_getPosition:function(e){var t=a.current,r=a.getViewport(),o=t.margin,i=a.wrap.width()+o[1]+o[3],n=a.wrap.height()+o[0]+o[2],s={position:"absolute",top:o[0],left:o[3]};return t.autoCenter&&t.fixed&&!e&&n<=r.h&&i<=r.w?s.position="fixed":t.locked||(s.top+=r.y,s.left+=r.x),s.top=p(Math.max(s.top,s.top+(r.h-n)*t.topRatio)),s.left=p(Math.max(s.left,s.left+(r.w-i)*t.leftRatio)),s},_afterZoomIn:function(){var e=a.current;e&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fb_lightbox-opened"),a.update(),(e.closeClick||e.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",(function(t){r(t.target).is("a")||r(t.target).parent().is("a")||(t.preventDefault(),a[e.closeClick?"close":"next"]())})),e.closeBtn&&r(e.tpl.closeBtn).appendTo(a.skin).bind("click.fb",(function(e){e.preventDefault(),a.close()})),e.arrows&&a.group.length>1&&((e.loop||e.index>0)&&r(e.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(e.loop||e.index<a.group.length-1)&&r(e.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),e.loop||e.index!==e.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(e){e=e||a.current,r(".fb_lightbox-wrap").trigger("onReset").remove(),r.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",e)}}),a.transitions={getOrigPosition:function(){var e=a.current,t=e.element,r=e.orig,o={},i=50,n=50,s=e.hPadding,l=e.wPadding,c=a.getViewport();return!r&&e.isDom&&t.is(":visible")&&((r=t.find("img:first")).length||(r=t)),_(r)?(o=r.offset(),r.is("img")&&(i=r.outerWidth(),n=r.outerHeight())):(o.top=c.y+(c.h-n)*e.topRatio,o.left=c.x+(c.w-i)*e.leftRatio),("fixed"===a.wrap.css("position")||e.locked)&&(o.top-=c.y,o.left-=c.x),o={top:p(o.top-s*e.topRatio),left:p(o.left-l*e.leftRatio),width:p(i+l),height:p(n+s)}},step:function(e,t){var r,o,i=t.prop,n=a.current,s=n.wrapSpace,l=n.skinSpace;"width"!==i&&"height"!==i||(r=t.end===t.start?1:(e-t.start)/(t.end-t.start),a.isClosing&&(r=1-r),o=e-("width"===i?n.wPadding:n.hPadding),a.skin[i](f("width"===i?o:o-s*r)),a.inner[i](f("width"===i?o:o-s*r-l*r)))},zoomIn:function(){var e=a.current,t=e.pos,o=e.openEffect,i="elastic"===o,n=r.extend({opacity:1},t);delete n.position,i?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===o&&(t.opacity=.1),a.wrap.css(t).animate(n,{duration:"none"===o?0:e.openSpeed,easing:e.openEasing,step:i?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var e=a.current,t=e.closeEffect,r="elastic"===t,o={opacity:.1};r&&(o=this.getOrigPosition(),e.closeOpacity&&(o.opacity=.1)),a.wrap.animate(o,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:r?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var e,t=a.current,r=t.nextEffect,o=t.pos,i={opacity:1},n=a.direction,s=200;o.opacity=.1,"elastic"===r&&(e="down"===n||"up"===n?"top":"left","down"===n||"right"===n?(o[e]=p(f(o[e])-s),i[e]="+=200px"):(o[e]=p(f(o[e])+s),i[e]="-=200px")),"none"===r?a._afterZoomIn():a.wrap.css(o).animate(i,{duration:t.nextSpeed,easing:t.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var e=a.previous,t=e.prevEffect,o={opacity:.1},i=a.direction;"elastic"===t&&(o["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),e.wrap.animate(o,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){r(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,el:r("html"),create:function(e){e=r.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=r('<div class="fb_lightbox-overlay"></div>').appendTo(a.coming?a.coming.parent:e.parent),this.fixed=!1,e.fixed&&a.defaults.fixed&&(this.overlay.addClass("fb_lightbox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=r.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(n.bind("resize.overlay",r.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",(function(e){if(r(e.target).hasClass("fb_lightbox-overlay"))return a.isActive?a.close():t.close(),!1})),this.overlay.css(e.css).show()},close:function(){var e,t;n.unbind("resize.overlay"),this.el.hasClass("fb_lightbox-lock")&&(r(".fb_lightbox-margin").removeClass("fb_lightbox-margin"),e=n.scrollTop(),t=n.scrollLeft(),this.el.removeClass("fb_lightbox-lock"),n.scrollTop(e).scrollLeft(t)),r(".fb_lightbox-overlay").remove().hide(),r.extend(this,{overlay:null,fixed:!1})},update:function(){var e,r="100%";this.overlay.width(r).height("100%"),l?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),s.width()>e&&(r=s.width())):s.width()>n.width()&&(r=s.width()),this.overlay.width(r).height(s.height())},onReady:function(e,t){var o=this.overlay;r(".fb_lightbox-overlay").stop(!0,!0),o||this.create(e),e.locked&&this.fixed&&t.fixed&&(o||(this.margin=s.height()>n.height()&&r("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var o,i;t.locked&&(!1!==this.margin&&(r("*").filter((function(){return"fixed"===r(this).css("position")&&!r(this).hasClass("fb_lightbox-overlay")&&!r(this).hasClass("fb_lightbox-wrap")})).addClass("fb_lightbox-margin"),this.el.addClass("fb_lightbox-margin")),o=n.scrollTop(),i=n.scrollLeft(),this.el.addClass("fb_lightbox-lock"),n.scrollTop(o).scrollLeft(i)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!a.coming&&this.overlay.fadeOut(e.speedOut,r.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,o,i=a.current,n=i.title,s=e.type;if(r.isFunction(n)&&(n=n.call(i.element,i)),d(n)&&""!==r.trim(n)){switch(t=r('<div class="fb_lightbox-title fb_lightbox-title-'+s+'-wrap">'+n+"</div>"),s){case"inside":o=a.skin;break;case"outside":o=a.wrap;break;case"over":o=a.inner;break;default:o=a.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](o)}}},r.fn.fb_lightbox=function(e){var t,o=r(this),i=this.selector||"",n=function(n){var s,l,c=r(this).blur(),u=t;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||c.is(".fb_lightbox-wrap")||(s=e.groupAttr||"data-fb_lightbox-group",(l=c.attr(s))||(s="rel",l=c.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(u=(c=(c=i.length?r(i):o).filter("["+s+'="'+l+'"]')).index(this)),e.index=u,!1!==a.open(c,e)&&n.preventDefault())};return t=(e=e||{}).index||0,i&&!1!==e.live?s.undelegate(i,"click.fb-start").delegate(i+":not('.fb_lightbox-item, .fb_lightbox-nav')","click.fb-start",n):o.unbind("click.fb-start").bind("click.fb-start",n),this.filter("[data-fb_lightbox-start=1]").trigger("click"),this},s.ready((function(){var t,n,s,l;r.scrollbarWidth===o&&(r.scrollbarWidth=function(){var e=r('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),o=t.innerWidth()-t.height(99).innerWidth();return e.remove(),o}),r.support.fixedPosition===o&&(r.support.fixedPosition=(s=r('<div style="position:fixed;top:20px;"></div>').appendTo("body"),l=20===s[0].offsetTop||15===s[0].offsetTop,s.remove(),l)),r.extend(a.defaults,{scrollbarWidth:r.scrollbarWidth(),fixed:r.support.fixedPosition,parent:r("body")}),t=r(e).width(),i.addClass("fb_lightbox-lock-test"),n=r(e).width(),i.removeClass("fb_lightbox-lock-test"),r("<style type='text/css'>.fb_lightbox-margin{margin-right:"+(n-t)+"px;}</style>").appendTo("head")}))}(window.parent,window.parent.document,JQUERY_DIGIOH),JQUERY_DIGIOH.easing.jswing=JQUERY_DIGIOH.easing.swing,JQUERY_DIGIOH.extend(JQUERY_DIGIOH.easing,{def:"easeOutQuad",swing:function(e,t,r,o,i){return JQUERY_DIGIOH.easing[JQUERY_DIGIOH.easing.def](e,t,r,o,i)},easeInQuad:function(e,t,r,o,i){return o*(t/=i)*t+r},easeOutQuad:function(e,t,r,o,i){return-o*(t/=i)*(t-2)+r},easeInOutQuad:function(e,t,r,o,i){return(t/=i/2)<1?o/2*t*t+r:-o/2*(--t*(t-2)-1)+r},easeInCubic:function(e,t,r,o,i){return o*(t/=i)*t*t+r},easeOutCubic:function(e,t,r,o,i){return o*((t=t/i-1)*t*t+1)+r},easeInOutCubic:function(e,t,r,o,i){return(t/=i/2)<1?o/2*t*t*t+r:o/2*((t-=2)*t*t+2)+r},easeInQuart:function(e,t,r,o,i){return o*(t/=i)*t*t*t+r},easeOutQuart:function(e,t,r,o,i){return-o*((t=t/i-1)*t*t*t-1)+r},easeInOutQuart:function(e,t,r,o,i){return(t/=i/2)<1?o/2*t*t*t*t+r:-o/2*((t-=2)*t*t*t-2)+r},easeInQuint:function(e,t,r,o,i){return o*(t/=i)*t*t*t*t+r},easeOutQuint:function(e,t,r,o,i){return o*((t=t/i-1)*t*t*t*t+1)+r},easeInOutQuint:function(e,t,r,o,i){return(t/=i/2)<1?o/2*t*t*t*t*t+r:o/2*((t-=2)*t*t*t*t+2)+r},easeInSine:function(e,t,r,o,i){return-o*Math.cos(t/i*(Math.PI/2))+o+r},easeOutSine:function(e,t,r,o,i){return o*Math.sin(t/i*(Math.PI/2))+r},easeInOutSine:function(e,t,r,o,i){return-o/2*(Math.cos(Math.PI*t/i)-1)+r},easeInExpo:function(e,t,r,o,i){return 0==t?r:o*Math.pow(2,10*(t/i-1))+r},easeOutExpo:function(e,t,r,o,i){return t==i?r+o:o*(1-Math.pow(2,-10*t/i))+r},easeInOutExpo:function(e,t,r,o,i){return 0==t?r:t==i?r+o:(t/=i/2)<1?o/2*Math.pow(2,10*(t-1))+r:o/2*(2-Math.pow(2,-10*--t))+r},easeInCirc:function(e,t,r,o,i){return-o*(Math.sqrt(1-(t/=i)*t)-1)+r},easeOutCirc:function(e,t,r,o,i){return o*Math.sqrt(1-(t=t/i-1)*t)+r},easeInOutCirc:function(e,t,r,o,i){return(t/=i/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+r:o/2*(Math.sqrt(1-(t-=2)*t)+1)+r},easeInElastic:function(e,t,r,o,i){var n=1.70158,s=0,a=o;if(0==t)return r;if(1==(t/=i))return r+o;if(s||(s=.3*i),a<Math.abs(o)){a=o;n=s/4}else n=s/(2*Math.PI)*Math.asin(o/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/s)+r},easeOutElastic:function(e,t,r,o,i){var n=1.70158,s=0,a=o;if(0==t)return r;if(1==(t/=i))return r+o;if(s||(s=.3*i),a<Math.abs(o)){a=o;n=s/4}else n=s/(2*Math.PI)*Math.asin(o/a);return a*Math.pow(2,-10*t)*Math.sin((t*i-n)*(2*Math.PI)/s)+o+r},easeInOutElastic:function(e,t,r,o,i){var n=1.70158,s=0,a=o;if(0==t)return r;if(2==(t/=i/2))return r+o;if(s||(s=i*(.3*1.5)),a<Math.abs(o)){a=o;n=s/4}else n=s/(2*Math.PI)*Math.asin(o/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/s)*-.5+r:a*Math.pow(2,-10*(t-=1))*Math.sin((t*i-n)*(2*Math.PI)/s)*.5+o+r},easeInBack:function(e,t,r,o,i,n){return null==n&&(n=1.70158),o*(t/=i)*t*((n+1)*t-n)+r},easeOutBack:function(e,t,r,o,i,n){return null==n&&(n=1.70158),o*((t=t/i-1)*t*((n+1)*t+n)+1)+r},easeInOutBack:function(e,t,r,o,i,n){return null==n&&(n=1.70158),(t/=i/2)<1?o/2*(t*t*((1+(n*=1.525))*t-n))+r:o/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+r},easeInBounce:function(e,t,r,o,i){return o-JQUERY_DIGIOH.easing.easeOutBounce(e,i-t,0,o,i)+r},easeOutBounce:function(e,t,r,o,i){return(t/=i)<1/2.75?o*(7.5625*t*t)+r:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+r:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+r:o*(7.5625*(t-=2.625/2.75)*t+.984375)+r},easeInOutBounce:function(e,t,r,o,i){return t<i/2?.5*JQUERY_DIGIOH.easing.easeInBounce(e,2*t,0,o,i)+r:.5*JQUERY_DIGIOH.easing.easeOutBounce(e,2*t-i,0,o,i)+.5*o+r}}),function(e,t){function r(){}function o(e){s=[e]}function i(e,t,r){return e&&e.apply(t.context||t,r)}function n(e){return/\?/.test(e)?"&":"?"}var s,a="async",l="error",c="insertBefore",u="_jqjsp",_="on",d="onclick",g=_+l,f="onload",p="onreadystatechange",I="readyState",h="removeChild",O="<script>",m="success",v="timeout",y=t,b=e.Deferred,G=e("head")[0]||document.documentElement,D={},E=0,x={callback:u,url:location.href},H=y.opera,w=!!e("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;function S(t){var _,S,A,R,T,L=(t=e.extend({},x,t)).success,C=t.error,P=t.complete,N=t.dataFilter,U=t.callbackParameter,k=t.callback,M=t.cache,B=t.pageCache,j=t.charset,J=t.url,V=t.data,Y=t.timeout,F=0,X=r;if(b&&b((function(e){e.done(L).fail(C),L=e.resolve,C=e.reject})).promise(t),t.abort=function(){!F++&&X()},!1===i(t.beforeSend,t,[t])||F)return t;function W(e){F++||(X(),B&&(D[J]={s:[e]}),N&&(e=N.apply(t,[e])),i(L,t,[e,m,t]),i(P,t,[t,m]))}function Q(e){F++||(X(),B&&e!=v&&(D[J]=e),i(C,t,[t,e]),i(P,t,[t,e]))}return J=J||"",V=V?"string"==typeof V?V:e.param(V,t.traditional):"",J+=V?n(J)+V:"",U&&(J+=n(J)+encodeURIComponent(U)+"=?"),!M&&!B&&(J+=n(J)+"_"+(new Date).getTime()+"="),J=J.replace(/=\?(&|$)/,"="+k+"$1"),B&&(_=D[J])?_.s?W(_.s[0]):Q(_):(y[k]=o,(A=e(O)[0]).id=u+E++,j&&(A.charset=j),H&&H.version()<11.6?(R=e(O)[0]).text="document.getElementById('"+A.id+"')."+g+"()":A[a]=a,w&&(A.htmlFor=A.id,A.event=d),A[f]=A[g]=A[p]=function(e){if(!A[I]||!/i/.test(A[I])){try{A[d]&&A[d]()}catch(e){}e=s,s=0,e?W(e[0]):Q(l)}},A.src=J,X=function(e){T&&clearTimeout(T),A[p]=A[f]=A[g]=null,G[h](A),R&&G[h](R)},G[c](A,S=G.firstChild),R&&G[c](R,S),T=Y>0&&setTimeout((function(){Q(v)}),Y)),t}S.setup=function(t){e.extend(x,t)},e.jsonp=S}(JQUERY_DIGIOH,window.parent),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={createDigiohAnalyticsModule:createDigiohAnalyticsModule}),window.DIGIOH_STORAGE={isLocalStorage:function(){return"local_storage"===DIGIOH_STORAGE.storage_type},isCookie:function(){return"cookie"===DIGIOH_STORAGE.storage_type},isCrossDomain:function(){return"cross_domain"===DIGIOH_STORAGE.storage_type},DATA_LOADING:!1,DATA_LOADED:!1,areCookiesDisabled:function(){try{DIGIOH_COOKIE.setDecoded("__bxtest","xyz");var e=DIGIOH_COOKIE.getEncoded("__bxtest");if(null!==e&&"xyz"===e)return DIGIOH_COOKIE.erase("__bxtest"),!1}catch(e){}return!0},storage_type:DIGIOH_STORAGE_TYPE||"cookie",data:{},callbacks:{},set:function(){DIGIOH_GUTIL.isObj(DIGIOH_STORAGE.data)||(DIGIOH_STORAGE.data={}),DIGIOH_STORAGE.isLocalStorage()?DIGIOH_LOCAL_STORAGE.set(DIGIOH_STORAGE.data):DIGIOH_STORAGE.isCrossDomain()?DIGIOH_CROSS_DOMAIN.isWorking?DIGIOH_CROSS_DOMAIN.set(DIGIOH_STORAGE.data):DIGIOH_LOG.log("DIGIOH_CROSS_DOMAIN.isWorking = "+DIGIOH_CROSS_DOMAIN.isWorking+" -- Could not perform (DIGIOH_STORAGE.set) operation"):DIGIOH_STORAGE.isCookie()?(DIGIOH_COOKIE.set("xdibx",JSON.stringify(DIGIOH_STORAGE.data)),DIGIOH_LOCAL_STORAGE.set(DIGIOH_STORAGE.data)):DIGIOH_LOG.log("DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.set) operation")},get:function(e){if(DIGIOH_STORAGE.isLocalStorage())e(DIGIOH_LOCAL_STORAGE.get("xdibx"));else if(DIGIOH_STORAGE.isCrossDomain())DIGIOH_CROSS_DOMAIN.isWorking?DIGIOH_CROSS_DOMAIN.get(e):DIGIOH_LOG.log("DIGIOH_CROSS_DOMAIN.isWorking = "+DIGIOH_CROSS_DOMAIN.isWorking+" -- Could not perform (DIGIOH_STORAGE.get) operation");else if(DIGIOH_STORAGE.isCookie()){var t=DIGIOH_COOKIE.getEncoded("xdibx"),r=DIGIOH_LOCAL_STORAGE.get("xdibx");null===t||""===t?(t=r,DIGIOH_LOG.log("DIGIOH_STORAGE.get ==> pulled value from localStorage, since cookie value does not exist.")):r&&(r.length>t.length||t.length>3500&&r.length>3500)&&(t=r,DIGIOH_LOG.log("DIGIOH_STORAGE.get ==> pulled value from localStorage, since cookie value was smaller or is approaching max size limit of 4000.")),e(t)}else DIGIOH_LOG.log("DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.get) operation")},erase:function(){DIGIOH_STORAGE.isLocalStorage()?DIGIOH_LOCAL_STORAGE.erase():DIGIOH_STORAGE.isCrossDomain()?DIGIOH_CROSS_DOMAIN.isWorking?DIGIOH_CROSS_DOMAIN.erase():DIGIOH_LOG.log("DIGIOH_CROSS_DOMAIN.isWorking = "+DIGIOH_CROSS_DOMAIN.isWorking+" -- Could not perform (DIGIOH_STORAGE.get) operation"):DIGIOH_STORAGE.isCookie()?DIGIOH_COOKIE.erase("xdibx"):DIGIOH_LOG.log("DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.erase) operation")},initStorageType:function(){"local_storage"===DIGIOH_STORAGE_TYPE&&!1===DIGIOH_LOCAL_STORAGE.isAvailable()?(DIGIOH_LOG.log("DIGIOH_STORAGE.storage_type ==> detected that localStorage is not available, so falling back to using cookies"),DIGIOH_STORAGE.storage_type="cookie"):DIGIOH_STORAGE.storage_type=DIGIOH_STORAGE_TYPE}},window.DIGIOH_LOCAL_STORAGE={storage:"42662"==DIGIOH_VENDOR_SHORT_ID?sessionStorage:localStorage,set:function(e){var t="";t=DIGIOH_GUTIL.isObj(e)?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify(e)):JSON.stringify(e):DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify({})):JSON.stringify({}),this.storage.setItem("xdibx",t)},get:function(e){var t=this.storage.getItem("xdibx");return"string"!=typeof t?"":t},erase:function(){this.storage.removeItem("xdibx")},setManual:function(e,t,r){try{let o={env_ver:"digioh-1.0",value:DIGIOH_GUTIL.isNullish(t)?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(""):"":DIGIOH_GUTIL.isObj(t)?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify(t)):JSON.stringify(t):DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(t?.toString()):t?.toString()};return isNaN(r)||(o.expires=Date.now()+r),this.storage.setItem(e,JSON.stringify(o)),!0}catch(e){return!1}},getManual:function(e){try{var t=this.storage.getItem(e);if("string"==typeof t&&t.match(/^{.*"env_ver":\s?"digioh-.*}$/i)){let r=JSON.parse(t);!isNaN(r.expires)&&r.expires<Date.now()?(t="",this.storage.removeItem(e)):t=r.value}var r="";return DIGIOH_GUTIL.isNullish(t)?r="":"string"==typeof t&&(DIGIOH_CONFIG.USE_LZ&&(t=LZString.decompressFromBase64(t)),r=0===t.indexOf("{")&&"}"===t.substring(t.length-1)||0===t.indexOf("[")&&"]"===t.substring(t.length-1)?JSON.parse(t):t),r}catch(e){return""}},isAvailable:function(){const e="test";try{return this.storage.setItem(e,e),this.storage.removeItem(e),!0}catch(e){return!1}}},window.DIGIOH_CROSS_DOMAIN={isWorking:!1,isWorkingFinished:!1,callbacks:{},set:function(e){var t={operation:"set",value:"object"!=typeof e||null===e?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify({})):JSON.stringify({}):DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify(e)):JSON.stringify(e),vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(t),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},get:function(e){var t=(new Date).getTime(),r={operation:"get",identifier:t,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[t]=e,DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(r),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},erase:function(){var e={operation:"erase",vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(e),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},setInner:function(e,t){var r="",o="";DIGIOH_GUTIL.isNullish(t)?(r="string",o=DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(""):o=""):"object"==typeof t?(r="object",o=DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify(t)):JSON.stringify(t)):(r=typeof t,o=DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(t.toString()):t.toString());var i={operation:"set_inner",key:e,value:o,type:r,vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(i),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},getInner:function(e,t){var r=(new Date).getTime(),o={operation:"get_inner",key:e,identifier:r,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[r]=t,DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(o),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},eraseInner:function(e){var t={operation:"erase_inner",key:e,vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(t),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},setManual:function(e,t){var r={operation:"set_manual",key:e,value:DIGIOH_GUTIL.isNullish(t)?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(""):"":"object"==typeof t?DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(JSON.stringify(t)):JSON.stringify(t):DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(t.toString()):t.toString(),vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(r),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},getManual:function(e,t){var r=(new Date).getTime(),o={operation:"get_manual",key:e,identifier:r,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[r]=t,DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(o),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)},eraseManual:function(e){var t={operation:"erase_manual",key:e,vid:DIGIOH_VENDOR_GUID};DIGIOH_PARENT_WINDOW_CONTEXT.frames.DigiohLocalStorageIframe.postMessage(JSON.stringify(t),"https://"+DIGIOH_CONFIG.CDN_DOMAIN)}},window.DIGIOH_COOKIE={set:function(e,t,r){DIGIOH_COOKIE.trySet(e,t,!0,r)},setDecoded:function(e,t,r){DIGIOH_COOKIE.trySet(e,t,!1,r)},trySet:function(e,t,r,o,i){var n,s,a,l,c,u="";if(t&&(u=r&&DIGIOH_CONFIG.USE_LZ?LZString.compressToBase64(t):t),DIGIOH_GUTIL.isNullish(o)&&(o=3650),(a=new Date).setTime(a.getTime()+24*o*60*60*1e3),l="; expires="+a.toGMTString(),c=location.hostname,i)DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"="+u+l+"; path=/; domain="+i;else if(1===c.split(".").length)DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"="+u+l+"; path=/";else if("5fb5fbce-1665-4cb1-a778-84825f66a775"==DIGIOH_VENDOR_GUID&&c.indexOf("golfchannel.com")>=0)DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"="+u+l+"; path=/; domain=.golfchannel.com";else{s=c.split(".").reverse();for(var _=!1,d=1,g="";!_&&d<s.length;){n="";for(var f=d;f>=0;f--)n+="."+s[f];DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"="+u+l+"; path=/; domain="+n+"; SameSite=Lax",_=null!=(g=DIGIOH_COOKIE.getEncoded(e))&&g==u,d++}}},get:function(e,t){var r=DIGIOH_COOKIE.getEncoded(e);return DIGIOH_GUTIL.isNullish(r)?null:t||!DIGIOH_CONFIG.USE_LZ?r:LZString.decompressFromBase64(r)},getEncoded:function(e){for(var t=e+"=",r=DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},erase:function(e){DIGIOH_COOKIE.setDecoded(e,"hi",-1)},eraseWithoutDomain:function(e){var t=new Date;t.setTime(t.getTime()+-864e5);var r="; expires="+t.toGMTString();DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"=hi"+r+"; path=/"},eraseWithSpecificDomain:function(e,t){var r=new Date;r.setTime(r.getTime()+-864e5);var o="; expires="+r.toGMTString();DIGIOH_PARENT_WINDOW_CONTEXT.document.cookie=e+"=hi"+o+"; path=/; domain="+t}},function(e,t,r,o,i){DIGIOH_LOG.log("IMPORTANT: Digioh no longer logs routine status messages in production, switch to Box QA Mode to see these logs (add ?boxqamode to URL)");try{null!==t.document?.getElementById(DIGIOH_VENDOR_GUID)?t.document.getElementById(DIGIOH_VENDOR_GUID).style.display="none":null!==e.document?.getElementById(DIGIOH_VENDOR_GUID)?e.document.getElementById(DIGIOH_VENDOR_GUID).style.display="none":null!==t.parent.document?.getElementById(DIGIOH_VENDOR_GUID)&&(t.parent.document.getElementById(DIGIOH_VENDOR_GUID).style.display="none")}catch{}try{t.location.search&&t.location.search.indexOf("boxqamode")>-1?"undefined"!=typeof sessionStorage&&sessionStorage.setItem("xdibx_boxqamode",1):t.parent&&t.parent.location&&t.parent.location.search&&t.parent.location.search.indexOf("boxqamode")>-1&&"undefined"!=typeof sessionStorage&&sessionStorage.setItem("xdibx_boxqamode",1)}catch(e){}const n={geo:!1,device:!1},s="",a=(new Date).getTime();DIGIOH_CACHE_VERSION=DIGIOH_CACHE_VERSION||(new Date).getTime();const l=DIGIOH_GUTIL,c=(DIGIOH_DUTIL,{isProd:!0,resourceSuffix:`.js?cb=${DIGIOH_CACHE_VERSION}`}),u={isQa:!0,resourceSuffix:`_qa.js?cb=${DIGIOH_CACHE_VERSION}`},_={isPreview:!0,resourceSuffix:`_preview.js?cb=${DIGIOH_CACHE_VERSION}`},d={isProd:!0,resourceSuffix:`_preview.js?cb=${(new Date).getTime()}`};let g;g=DIGIOH_PREVIEW_GLOBALS.DIGIOH_IS_PREVIEW?_:DIGIOH_IS_QA?u:c;const f=DIGIOH_CONFIG.PROTOCOL,p=DIGIOH_CONFIG.PROTOCOL_USER_OVERRIDE,I=p+"cdn.jsdelivr.net/fancybox/2.1.5/fancybox_sprite.png",h="undefined"!=typeof console&&"undefined"!=typeof DIGIOH_USE_CONSOLE&&DIGIOH_USE_CONSOLE||g.isQa;let O="";function m(){return O}let v="",y="";const b={},G=[],D=[];var E={},x={},H={},w={},S=!1;const A={},R={},T={};var L=[],C=[],P={},N=DIGIOH_API.DIGIOH_LIGHTBOX_EFFECTS,U={},k={},M=0,B=0;const j={},J={};let V=0;const Y={},F={},X={};let W=[];function Q(){DIGIOH_API.cssSelectorGenerator=DIGIOH_API.cssSelectorGenerator||{hasRun:!1,prevBorder:{},prevPath:""};const e=DIGIOH_API.cssSelectorGenerator;if(e.hasRun)return;e.hasRun=!0,JQUERY_DIGIOH.fn.extend({getJqSelectorPath:function(){for(var e,t=this;t.length;){var r=t[0],o=r.localName;if(!o)break;o=o.toLowerCase();var i=t.parent();if(i.children(o).length>1){var n=i.children().index(r)+1;n>1&&(o+=":nth-child("+n+")")}e=o+(e?">"+e:""),t=i}return e}});let r=DIGIOH_API.DIGIOH_USE_FRAME_COMPATIBILITY?DIGIOH_API.DIGIOH_TOP_WINDOW_CONTEXT:t.parent;JQUERY_DIGIOH(r.document).ready((function(){JQUERY_DIGIOH("body").append("<div id='lightbox-jquery-selector-generator-wrapper' class='lightbox-jquery-selector-generator' style='display: none; position: fixed; z-index: 7000000; top: 0px; right: 0px; width: 500px; background-color: #D5D5D5; border: 0px solid #e5e9ea; border-radius: 8px;'><a href='javascript:void(0);' id='lightbox-jquery-selector-generator-close' class='lightbox-jquery-selector-generator' style='float: right; margin-right: 5px; margin-top: 5px; text-decoration: none; border: 0px solid black;'><img id='lightbox-jquery-selector-generator-close-img' class='lightbox-jquery-selector-generator' src='https://lightbox.blob.core.windows.net/static/jquery_selector_generator_close_btn.png' style='width: 15px; border: 0px solid #D5D5D5;' /></a><input id='lightbox-jquery-selector-generator-input-1' class='lightbox-jquery-selector-generator' type='text' style='width: 452px; margin-left: 22px; height: 30px; margin-top: 20px; margin-bottom: 20px; border: 1px solid #7E7E7E; background-color: #fff; border-radius: 6px;' /><input id='lightbox-jquery-selector-generator-input-2' class='lightbox-jquery-selector-generator' type='text' style='display: none; width: 452px; margin-left: 22px; height: 30px; margin-top: -10px; margin-bottom: 20px; border: 1px solid #7E7E7E; background-color: #fff; border-radius: 6px;' /></div>"),JQUERY_DIGIOH("#lightbox-jquery-selector-generator-close").click((function(){JQUERY_DIGIOH("#lightbox-jquery-selector-generator-wrapper").hide()})),JQUERY_DIGIOH(r.document).click((function(t){t.preventDefault();const r=DIGIOH_API.activeInlineSelectorGeneratorBox,o=`#lightbox-iframe-${r}`;var i=JQUERY_DIGIOH(t.target),n=i.getJqSelectorPath();if(!i.attr("id")||"lightbox-jquery-selector-generator"!==i.attr("class")){if(null!==e.prevBorder&&"0px"!==e.prevBorder.width&&e.prevPath&&e.prevPath!==n?JQUERY_DIGIOH(e.prevPath).css({"border-width":e.prevBorder.width,"border-color":e.prevBorder.color,"border-style":e.prevBorder.style}):e.prevPath&&e.prevPath!==n&&JQUERY_DIGIOH(e.prevPath).css({border:"none"}),e.prevPath!==n){var s=JQUERY_DIGIOH(n).css("border-left-width");e.prevBorder=s?{width:s,color:JQUERY_DIGIOH(n).css("border-color"),style:JQUERY_DIGIOH(n).css("border-style")}:{width:"0px",color:"black",style:"solid"},JQUERY_DIGIOH(o).parent().hide()}if(e.prevPath=n,JQUERY_DIGIOH(n).css({"border-width":"1px","border-color":"#009EC5","border-style":"solid"}),JQUERY_DIGIOH("#lightbox-jquery-selector-generator-input-1").val(n),JQUERY_DIGIOH("#lightbox-jquery-selector-generator-wrapper").show(),!JQUERY_DIGIOH(n).html().length||-1!==JQUERY_DIGIOH(n).html().indexOf("<")&&-1!==JQUERY_DIGIOH(n).html().indexOf(">")?JQUERY_DIGIOH("#lightbox-jquery-selector-generator-input-2").hide():(JQUERY_DIGIOH(n).html().indexOf("'")>=0?JQUERY_DIGIOH("#lightbox-jquery-selector-generator-input-2").val(n+":contains("+JQUERY_DIGIOH(n).html().trim()+")"):JQUERY_DIGIOH("#lightbox-jquery-selector-generator-input-2").val(n+":contains('"+JQUERY_DIGIOH(n).html().trim()+"')"),JQUERY_DIGIOH("#lightbox-jquery-selector-generator-input-2").show()),r){var a=l.getUrlParam("jquery-selector-method");if(a||(a="append"),JQUERY_DIGIOH(o).length){var c=JQUERY_DIGIOH(o).parent().detach();JQUERY_DIGIOH(n).length>1?JQUERY_DIGIOH(n).eq(0)[a](c):JQUERY_DIGIOH(n)[a](c),JQUERY_DIGIOH(o).parent().show()}else{var u=r;DIGIOH_API.LIGHTBOX.loadEffects(u).then((()=>{const e=N[u].inline;e.position_using="jquery_selector",e.inline.jquery_selector=n,e.jquery_method=a,DIGIOH_API.LIGHTBOX.embedInlineLightboxForm(u)}))}}}}))}))}function q(){try{var e=(new Date).getTime(),t=!1,r=1e6;for(const p of DIGIOH_SPLIT_TESTS_ARR){var o=l.getRandomInt(1,100),i=l.getRandomInt(1,r),n=0,s="multivariate",a=!1;if(DIGIOH_STORAGE.data.hasOwnProperty("__bxabtest")||(DIGIOH_STORAGE.data.__bxabtest={}),DIGIOH_STORAGE.data.__bxabtest.hasOwnProperty(p.split_short_id)||(DIGIOH_STORAGE.data.__bxabtest[p.split_short_id]={}),DIGIOH_STORAGE.data.__bxabtest[p.split_short_id].hasOwnProperty("end_date")||(DIGIOH_STORAGE.data.__bxabtest[p.split_short_id]={tp:o,lp:i,end_date:p.end_date}),p.end_date<=e?delete DIGIOH_STORAGE.data.__bxabtest[p.split_short_id]:"1"!=DIGIOH_VENDOR_SHORT_ID.toString()&&(o=DIGIOH_STORAGE.data.__bxabtest[p.split_short_id].tp,(i=DIGIOH_STORAGE.data.__bxabtest[p.split_short_id].lp)<=100&&(r=100)),p.test_type&&"multivariate"!==p.test_type?(DIGIOH_LOG.log("Skipping AB Test (No Test Type Specified): "+p.name),a=!0):s="multivariate",!a&&p.start_date>=e&&(DIGIOH_LOG.log("Skipping AB Test ("+s+") (Start Date): "+p.name),a=!0),!a&&p.end_date<=e&&(DIGIOH_LOG.log("Skipping AB Test ("+s+") (End Date): "+p.name),a=!0),!a&&p.traffic_percent<o){if(DIGIOH_LOG.log("Skipping AB Test ("+s+") (Traffic Percent): "+p.name+", and associated Lightboxes..."),"multivariate"==s)for(var c=p.box_guids.split(","),u=0;u<c.length;u++)J[c[u]]=p.split_guid,DIGIOH_LOG.log("Skipping Lightbox : "+c[u]);a=!0}if(!a&&"multivariate"==s){c=p.box_guids.split(",");var _=p.box_weights&&p.box_weights.indexOf(",")>0?p.box_weights.split(","):[];if(c.length<2){DIGIOH_LOG.log("Skipping AB Test (Multivariate) (Box GUIDs length = "+c.length+", min 2): "+p.name);continue}t=!1,n=r/c.length;for(var d=0,g=0;g<c.length;g++){var f=!0;_.length===c.length?(n=r*parseInt(_[g])/100,f=i<d||i>d+n,d+=n):f=g*n>i||(g+1)*n<i,t||f?(J[c[g]]=p.split_guid,DIGIOH_LOG.log("Skipped Lightbox (Multivariate) ("+c[g]+") for AB Test ("+p.split_guid+")")):(j[c[g]]=p.split_guid,t=!0,c[g],DIGIOH_LOG.log("Activated Lightbox (Multivariate) ("+c[g]+") for AB Test ("+p.split_guid+")"))}t||(J[c[0]]&&(delete J[c[0]],DIGIOH_LOG.log("Removed Lightbox (Multivariate) ("+c[0]+") from Skipped Map, for AB Test ("+p.split_guid+")")),j[c[0]]=p.split_guid,c[0],DIGIOH_LOG.log("Defaulting to first Lightbox in AB Test, due to no match of lp: "+i),DIGIOH_LOG.log("Activated Lightbox (Multivariate) ("+c[0]+") for AB Test ("+p.split_guid+")"))}}const I=DIGIOH_STORAGE.data.__bxabtest;for(var p in I)I.hasOwnProperty(p)&&!DIGIOH_SPLIT_TESTS_ARR.find((e=>e.split_short_id==p))&&delete I[p];DIGIOH_STORAGE.set()}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initABSplitTests")}return""}function $(e){return DIGIOH_SPLIT_TESTS_ARR.find((t=>t.split_short_id&&t.split_guid===e))}function z(e){const t={widget_type:"sidebar",sidebar:{css_positioning:"fixed",position:"center-center",speed:{open:100,close:100},animation:{open:"fade",close:"fade"},easing:{open:"swing",close:"swing"},close_button:{display:!1},auto_close:{click:!1,time:0,scroll_up:0,scroll_down:0}}},r=DIGIOH_API.GET_SETTINGS(e);if(r&&r.is_core_prq){var o=[];r.prq_gsheet_url&&o.push({k:"prq_gsheet_url",v:r.prq_gsheet_url}),r.results_redirect_url_shopify&&o.push({k:"results_redirect_url_shopify",v:r.results_redirect_url_shopify}),t.sidebar.metadata_kvps=o}return N[e]=t,t}function K(e){return"object"==typeof e?e:N[e]}function Z(e){return"fancybox"==ie(e)}function ee(e){return"sidebar"===ie(e)}function te(e){return"banner"==ie(e)}function re(e){return"inline"==ie(e)}function oe(e){const t=K(e);return t[ie(t)]||{}}function ie(e){const t=K(e);return t?.widget_type||""}function ne(e){const t=N[e]||{};return t.hasOwnProperty("edge_to_edge")&&t.edge_to_edge.use||t.hasOwnProperty("responsive")&&t.responsive.use}function se(e){const t=F[e];return t&&"main"!==t?t:""}function ae(e){const t=N[e]||{};at(e);const r=se(e)+"width",o=t[r]>0?t[r]:t.width;return l.getIntFromStringOrIntOrDecimal(o)}function le(e){const t=N[e]||{};at(e);const r=se(e)+"height",o=t[r]>0?t[r]:t.height;return l.getIntFromStringOrIntOrDecimal(o)}function ce(e){return ne(e)?(Y[e]=!0,{width:ue(e),height:_e(e)}):{width:ae(e),height:le(e)}}function ue(e){var r=JQUERY_DIGIOH(t).width(),o=de(e);return Math.round(r*o/100)}function _e(e){return le(e)}function de(e){return at(e),100}function ge(e){return at(e),100}function fe(e){const t=N[e]||{};if(at(e),ne(e))return 1e4;const r=se(e)+"width",o=t.hasOwnProperty(r)?t[r]:t.width;return l.getIntFromStringOrIntOrDecimal(o)}function pe(e){const t=N[e]||{};at(e);const r=se(e)+"height",o=t.hasOwnProperty(r)?t[r]:t.height;return l.getIntFromStringOrIntOrDecimal(o)}function Ie(e){const t=N[e]||{};at(e);const r=se(e)+"width",o=t.hasOwnProperty(r)?t[r]:t.width;return l.getIntFromStringOrIntOrDecimal(o)}function he(e){const t=N[e]||{};at(e);const r=se(e)+"height",o=t.hasOwnProperty(r)?t[r]:t.height;return l.getIntFromStringOrIntOrDecimal(o)}function Oe(e,t){const r=N[t]||{};var o="bottom"===e.placement?"fixed":e.css_positioning,i=ce(t),n="position: "+o+"; ";return n+="width: "+i.width+"px; ",n+="height: "+i.height+"px; ",n+="z-index: 9948030; ",n+="left: 50%; margin-left: -"+Math.round(i.width/2)+"px; ",n+=Fe(t),n+="bottom"===e.placement?"bottom: 0px; ":"top: 0px; ",l.isCss(r.banner?.css)&&(n+=r.banner.css),n}function me(e,r){const o=N[r]||{};try{var i=e.css_positioning||"",n="position: "+i+"; ";const v=JQUERY_DIGIOH(t);var s=v.width(),a=v.height(),c=ce(r);se(r);o.fullscreen?.use?n+=function(e){const t=N[e]||{};if(se(e),t.fullscreen?.use){var r="";const t=DIGIOH_LIGHTBOX_PRELOAD_ARR.includes(e),o=C.includes(e);return r+="width: 100vw !important;",r+="height: 100vh !important;",r+="top: 0 !important;",r+="left: 0 !important;",r+="position: fixed;",r+="margin-left:0 !important;",r+="margin-top:0 !important;",(t&&o||!t)&&(r+="display: flex !important;"),r+="justify-content: center !important;",(r+="align-items: center !important;")+"overflow: hidden !important;"}return""}(r):(n+="width: "+c.width+"px; ",n+="height: "+c.height+"px; "),n+="z-index: 9948030; ",n+=Fe(r);var u=e.position.split("-"),_=u[1],d=u[0],g=v.scrollTop();if("fixed"===i){var f=Math.round(v.width()/2)-Math.round(c.width/2),p=Math.round(v.height()/2)-Math.round(c.height/2);let t=30,o=Ye(r),i=c.width*o,u=c.height*o;if(l.isNumber(e.offset?.left)){var I=(c.width-i)/2,h=Math.min(t,Math.max(0,s-i));if(s<=i)f=-1*I;else{var O=(s-i)/10,m=(e.offset.left<5?e.offset.left:10-e.offset.left)*O;0!=e.offset.left&&10!=e.offset.left||(m+=h),e.offset.left<=5?(f=-1*I,f+=m):(f=s-c.width+I,f-=m)}}if(l.isNumber(e.offset?.top)){const r=e.offset.top;I=(c.height-u)/2,h=Math.min(t,Math.max(0,a-u));if(a<=u)p=-1*I;else{m=(r<5?r:10-r)*(O=(a-u)/10);0!=r&&10!=r||(m+=h),r<=5?(p=-1*I,p+=m):(p=a-c.height+I,p-=m)}}"left"==_?n+="left: 0px; ":"center"==_?n+="left: "+f+"px; ":"right"==_&&(n+="left: "+Math.ceil(v.width()-c.width)+"px; "),"top"==d?n+="top: 0px; ":"center"==d?n+="top: "+p+"px; ":"bottom"==d&&(n+="bottom: 0px; ")}else"left"==_?n+="left: 0px; ":"center"==_?n+="left: "+(Math.round(v.width()/2)-Math.round(c.width/2))+"px; ":"right"==_&&(n+="left: "+Math.ceil(v.width()-c.width)+"px; "),"top"==d?n+="top: "+Math.ceil(g)+"px; ":"center"==d?n+="top: "+(Math.ceil(g)+Math.round(v.height()/2)-Math.round(c.height/2))+"px; ":"bottom"==d&&(n+="top: "+Math.ceil(g+v.height()-c.height)+"px; ");return l.isCss(o.sidebar?.css)&&(n+=o.sidebar.css),n}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"getSidebarPositionAfterAnimation")}}function ve(){if(void 0===t.DIGIOH_INITIAL_HEIGHT&&(t.DIGIOH_INITIAL_HEIGHT=t.innerHeight),t.visualViewport&&"number"==typeof t.visualViewport.height)return t.visualViewport.height<.8*t.innerHeight;var e=t.innerHeight,o=t.DIGIOH_INITIAL_HEIGHT-e,i=o>150,n=r.activeElement,s=n&&("INPUT"===n.tagName||"TEXTAREA"===n.tagName||"true"===n.contentEditable);return i||s&&o>80}function ye(e,r){var o="";o+="position: absolute; ";var i=ce(r);N[r].fullscreen?.use?(o+="width: "+i.width+"vw; ",o+="height: "+i.height+"vh; ",o+="z-index: 9948030;"):(o+="width: "+i.width+"px; ",o+="height: "+i.height+"px; ",o+="z-index: 9948030; ",o+="left: 50%; margin-left: -"+Math.round(i.width/2)+"px; "),o+=Fe(r);var n=JQUERY_DIGIOH(t).scrollTop(),s=Ye(r);return s>1?n+=i.height*s-i.height:s<1&&(n-=i.height-i.height*s),o+="top: "+(n=Math.max(-150,n))+"px;",l.isCss(e.css)&&(o+=e.css),o}function be(e,t){return DIGIOH_API.scroll_mode_data?.is_scroll_box_active?"":ye(e,t)}function Ge(e,t){return ye(e,t)}function De(e){if(e.length<30){var t=e;for(var r in DIGIOH_LIGHTBOX_IDS)if(DIGIOH_LIGHTBOX_IDS[r]==t){e=r;break}}return DIGIOH_LIGHTBOX_INLINES.some((t=>t.GUID===e))}function Ee(e){return"always"===e?.display_rules}function xe(e,t){const r=N[t]||{};try{var o=`position: absolute; width: 36px; height: 36px; cursor: pointer; z-index: 9948040; background-image: url(${I});`;if(r){const e=oe(r)||{},t=e.close_button?.image||e.close_button_image||"";if(!re(r)&&t.length>30)o=`position: absolute; width: 36px; height: 36px; cursor: pointer; z-index: 9948040; background-image: url(${`${DIGIOH_CONFIG.S3_BASE_URL}/vendors/${DIGIOH_API.getAccountGuid()}/uploads/${t}`}); background-repeat: no-repeat; background-size: auto; background-position: center center;`}return e.display&&!ee(r)?o+="display: block; ":o+="display: none; ","top-left"==e.position?(o+="top: "+e.offset_y+"px; ",o+="left: "+e.offset_x+"px; "):"top-right"==e.position?(o+="top: "+e.offset_y+"px; ",o+="right: "+e.offset_x+"px; "):"bottom-left"==e.position?(o+="bottom: "+e.offset_y+"px; ",o+="left: "+e.offset_x+"px; "):"bottom-right"==e.position&&(o+="bottom: "+e.offset_y+"px; ",o+="right: "+e.offset_x+"px; "),o}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"getCloseButtonStyle")}}const He=async function(e,t){const r=DIGIOH_CONFIG.BOX_BASE_URL,o=DIGIOH_API.CONFIG.CACHE_VALUES?.boxes??{};if(t=t||g,N[e])return Promise.resolve("effects_already_loaded");let n=`${r}/vendor/${DIGIOH_VENDOR_GUID}/lightbox/${e}/effects${t.resourceSuffix}`;o[e]&&(n=n.replace(/cb=.*&?/,"cb="+o[e]));let s=new Promise(((t,r)=>{JQUERY_DIGIOH.ajax({url:n,crossDomain:!0,dataType:"script",cache:!0,success:function(){"string"==typeof N[e]&&(N[e]=JSON.parse(i.decompressFromBase64(N[e]))),DIGIOH_LOG.log("effects_file_download_success"),t("effects_file_download_success")},complete:function(){DIGIOH_LOG.log("effects_file_download_complete"),t("effects_file_download_complete")},error:function(e,r,o){DIGIOH_LOG.log("effects_file_download_error: "+r),t("effects_file_download_error")}})})),a=await s;return DIGIOH_LOG.log("effects_file: loadEffectsFile: "+a),a};function we(e,o,i,n){const s=DIGIOH_CONFIG.BOX_BASE_URL,a=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty";let l=o||"empty",c=i||"empty",u=n||"empty";"pageview"!==e&&(l=DIGIOH_LIGHTBOX_IDS?.[o]||l,u=$(n)?.split_short_id||u);const _=t?.location?.hostname||"empty";let d="",g="";if("pageview"==e)d=`/z9v/${a}/${_}`,g="p";else switch(e){case"pageview":case"display":d=`/z9d/${a}/${l}/${c}/${u}/${_}`,g="i";break;case"redirect":d=`/z9r/${a}/${l}/${c}/${u}/${_}`,g="r";break;case"download":d=`/z9w/${a}/${l}/${c}/${u}/${_}`,g="d";break;default:return}const f=r.createElement("img");f.width=1,f.height=1,f.src=`${s}/z9g/digibox.gif?c=${Date.now()}&h=${encodeURIComponent(_)}&e=${g}&u=${a}&b=${l}&v=${c}&s=${u}`}function Se(){const e=DIGIOH_CONFIG.BOX_BASE_URL,o=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",i=t.location?.hostname||"empty";if(!0!==t.SENT_LIGHTBOX_PV){var n=r.createElement("img");n.width=1,n.height=1,n.src=`${e}/z9g/digibox.gif?c=${(new Date).getTime()}&h=${encodeURIComponent(i)}&e=p&u=${o}`,t.SENT_LIGHTBOX_PV=!0,!0===t.RECAPTURE_LIGHTBOX_PV&&(t.RECAPTURE_LIGHTBOX_PV=!1,t.SENT_LIGHTBOX_PV=!1,setTimeout(Se,1e3))}}function Ae(e){try{DIGIOH_LOG.log("DIGIOH: registerLightboxShow: "+e),Rt(e),Lt(e),DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent?.("view",e),function(e){var t=j[e]||"empty";A[e]=A[e]+1||1,A[e]>10?DIGIOH_LOG.logErrorText("MAX_DISPLAY_COUNT_REACHED","MAX_DISPLAY_COUNT_REACHED"):!g.isPreview&&V||we("display",e,s,t)}(e),Mt({sender:"lightbox",action:"after_lightbox_display",auto_focus:Z(e)||ee(e)&&"center-center"==N[e]?.sidebar?.position},e,100,0),g.isPreview||(Pt("AfterDisplay",e),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxDisplay(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxDisplay(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerLightboxShow")}}function Re(e){try{Tt(e),DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent?.("close",e),Mt({sender:"lightbox",action:"after_lightbox_close"},e,100,0),g.isPreview||(Pt("AfterClose",e),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxClose(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxClose(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerLightboxClose")}}function Te(e){try{var o=j[e]||"";DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",e),we("redirect",e,s,o),g.isPreview||(Pt("AfterRedirect",e),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerAnalyticsManualRedirect")}}function Le(e,t,r,o,i){(e=e||{}).attributes={user_id:DIGIOH_VENDOR_SHORT_ID,user_guid:DIGIOH_VENDOR_GUID,box_id:DIGIOH_API.getBoxID(t),box_guid:t,box_name:"",variation_id:"",variation_name:"",variation_guid:s,client_id:m(),submission_id:o,ab_test_id:i},e.attributes.box_name=DIGIOH_LIGHTBOX_NAMES[t]||"";const n=e.analytics;if(l.isObj(n)&&(n.VendorGuid&&delete e.analytics.VendorGuid,n.IsLoaded&&delete e.analytics.IsLoaded,n.segments&&delete e.analytics.segments,n.scroll_percent&&delete e.analytics.scroll_percent,n.scroll_pixels&&delete e.analytics.scroll_pixels,n.exit_intent&&delete e.analytics.exit_intent,n.click_jquery_selector&&delete e.analytics.click_jquery_selector,n.hover_jquery_selector&&delete e.analytics.hover_jquery_selector,n.exists_jquery_selector&&delete e.analytics.exists_jquery_selector,n.lightbox_activity&&delete e.analytics.lightbox_activity,n.master_rules&&delete e.analytics.master_rules,n.lightbox_events&&delete e.analytics.lightbox_events,n.IsPreview&&(n.is_preview=n.IsPreview,delete n.IsPreview)),l.isObj(e.form))for(var a in e.form)e.form.hasOwnProperty(a)&&0===a.indexOf("custom_")&&""===e.form[a]&&delete e.form[a];return l.isObj(e.quiz)&&(e.quiz=e.quiz,delete e.quiz),e}function Ce(e,t){try{var r=j[e]||"",o=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",i=DIGIOH_LIGHTBOX_IDS[e]||e||"empty",n=$(r)?.split_short_id||r||"empty";Pe();var s=E;if(s.cache_version=DIGIOH_CACHE_VERSION,s.is_preview=g.isPreview,s.ip_address="${keen.ip}",s.user_agent="${keen.user_agent}",s.vendor_id=DIGIOH_VENDOR_GUID,s.client_id=m(),s.event_id=l.generateGuidWithTimestamp(),s.lightbox_id=e,s.variation_id="",s.ab_test_id=r,s.uid=o,s.bid=i,s.vid="empty",s.sid=n,s.page_total_time=B,s.page_active_time=B-M,s.page_idle_time=M,s.impressions_on_page=A[e]||0,DIGIOH_LIGHTBOX_NAMES[e]&&(s.lightbox_name=DIGIOH_LIGHTBOX_NAMES[e]),DIGIOH_LIGHTBOX_IDS[e]&&(s.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[e]),DIGIOH_API.LIGHTBOX.keen_custom_js_data&&(s.custom_js_data=DIGIOH_API.LIGHTBOX.keen_custom_js_data),l.isObj(t)){var a=l.mergeObjectData(s,t);v.addEvent("lightbox_debug",a)}else v.addEvent("lightbox_debug",s)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"keenLightboxDebug")}}function Pe(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};try{E.geoip={ip_address:e.ip_address,continent_code:e.continent,country_code:e.country,country_name:e.country_name,region_code:e.state,region_name:e.region_name,city:e.city,zipcode:e.zipcode,metro_code:e.metro_code,time_zone:e.time_zone,area_code:e.area_code,latitude:e.latitude,longitude:e.longitude,geo_source:e.geo_source,blip_matched:V},E.device_atlas={primaryHardwareType:e.DeviceAtlas.primaryHardwareType,isApp:e.DeviceAtlas.isApp,isTablet:e.DeviceAtlas.isTablet,isMobilePhone:e.DeviceAtlas.isMobilePhone,model:e.DeviceAtlas.model,vendor:e.DeviceAtlas.vendor,touchScreen:e.DeviceAtlas.touchScreen,osName:e.DeviceAtlas.osName,osVersion:e.DeviceAtlas.osVersion,browserName:e.DeviceAtlas.browserName,browserVersion:e.DeviceAtlas.browserVersion,osAndroid:e.DeviceAtlas.osAndroid,osiOs:e.DeviceAtlas.osiOs,device_source:e.device_source},E.device={hardware:e.device,os:e.operating_system,browser_type:e.browser_type,browser_version:e.browser_version},E.entry_point={referrer_url:e.referring_website_url,landing_page_url:e.landing_page,landing_page_ip:e.landing_page_ip,landing_page_date:e.date_of_visit,web_source:e.web_source,past_visits:e.past_visits,page_visits:e.page_visits,search_engine:e.search_engine,utm_campaign_source:e.utm_campaign_source,utm_campaign_medium:e.utm_campaign_medium,utm_campaign_term:e.utm_campaign_term,utm_campaign_content:e.utm_campaign_content,utm_campaign_name:e.utm_campaign_name}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"updateKeenSchemaBeforeSending")}}function Ne(e){for(const t of G)t?.length>20&&lt(t)&&(W.includes(t)?Ue(t):ke(e,t));for(const e of W)Ue(e)}function Ue(e){if(re(N[e])){var t=dt(e);if(at(e,!0)){var r=F[e]||"";Bt({sender:"lightbox",action:"pixel_version_changed",page:r},e);if(ne(e)){var o=ae(e),i=le(e);JQUERY_DIGIOH("#"+t).css({width:"100%",height:i+"px","max-width":"10000px","min-width":o+"px","max-height":i+"px","min-height":i+"px"})}else{o=ae(e),i=le(e);JQUERY_DIGIOH("#"+t).css({width:o+"px",height:i+"px","min-width":o+"px","min-height":i+"px","max-height":i+"px"})}Xe(e,r,"pixel_version_changed")}ne(e)&&JQUERY_DIGIOH("#"+t).length&&je(e,t,(new Date).getTime(),0,0)}}function ke(e,r){const o=N[r]||{};if(at(r,!0)){DIGIOH_LOG.log("pixelVersionChangeDetected: "+r);var i=F[r]||"";Bt({sender:"lightbox",action:"pixel_version_changed",page:i},r),Xe(r,i,"pixel_version_changed")}const n="#"+dt(r),s=JQUERY_DIGIOH(n),a=(se(r),oe(o)||{}),l=ce(r),c=JQUERY_DIGIOH(t);if(ne(r)){if(ee(o))if(x[r]&&qt()){if("mobile_orientation_change"!==e)return;s.attr("style",be(a,r))}else s.attr("style",me(a,r));if(te(o)){if(x[r]&&qt()){if("mobile_orientation_change"!==e)return;s.attr("style",Ge(a,r))}else s.attr("style",Oe(a,r));if("bottom"!==a.placement&&JQUERY_DIGIOH("#banner-spacer-"+r).length){var u=ce(r).height;u*=Ye(r),JQUERY_DIGIOH("#banner-spacer-"+r).height(u)}}if(Z(o)){Y[r]=!0;var _=Math.round((c.width()-l.width)/2+c.scrollLeft()),d=Math.round((c.height()-l.height)/2+c.scrollTop());JQUERY_DIGIOH(".fb_lightbox-wrap").filter(":first").css({left:_,top:d,width:l.width+"px",height:l.height+"px"}),s.css({left:_,top:d,width:l.width+"px",height:l.height+"px"})}Mt({sender:"lightbox",action:"dimensions_changed",widget_type:ie(o),width:l.width,height:l.height},r,100,0)}else{if(ee(o))if(x[r]&&qt()){if("mobile_orientation_change"!==e)return;s.attr("style",be(a,r))}else s.attr("style",me(a,r));if(te(o)){if(x[r]&&qt()){if("mobile_orientation_change"!==e)return;s.attr("style",Ge(a,r))}else s.attr("style",Oe(a,r));if("bottom"!==a.placement&&JQUERY_DIGIOH("#banner-spacer-"+r).length){u=ce(r).height;u*=Ye(r),JQUERY_DIGIOH("#banner-spacer-"+r).height(u)}}if(Z(o)){Y[r]=!0;_=Math.round((c.width()-l.width)/2+c.scrollLeft()),d=Math.round((c.height()-l.height)/2+c.scrollTop());var g=Ye(r);JQUERY_DIGIOH(".fb_lightbox-wrap").filter(":first").css({left:_,top:d,width:l.width+"px",height:l.height+"px",transform:"scale("+g+")","-webkit-transform":"scale("+g+")","-moz-transform":"scale("+g+")","-ms-transform":"scale("+g+")","-o-transform":"scale("+g+")"}),s.css({left:_,top:d,width:l.width+"px",height:l.height+"px",transform:"scale("+g+")","-webkit-transform":"scale("+g+")","-moz-transform":"scale("+g+")","-ms-transform":"scale("+g+")","-o-transform":"scale("+g+")"})}}}function Me(){return t.outerWidth}function Be(){Ne("mobile_orientation_change"),t.setTimeout((function(){Ne("mobile_orientation_change")}),350),t.setTimeout((function(){Ne("mobile_orientation_change")}),850)}function je(e,r,o,i,n){const s=N[e]||{};try{var a=(new Date).getTime()-o,l=0,c=0;JQUERY_DIGIOH("#"+r).length&&(l=JQUERY_DIGIOH("#"+r).width(),c=JQUERY_DIGIOH("#"+r).height()),hMax=pe(e),hMin=he(e),a>300&&(c>hMax&&(c=hMax,JQUERY_DIGIOH("#"+r).height(c)),c<hMin&&(c=hMin,JQUERY_DIGIOH("#"+r).height(c))),l!==i||c!==n?t.setTimeout((function(){je(e,r,o,l,c)}),100):a<1e3?(Bt({sender:"lightbox",action:"dimensions_changed",widget_type:ie(s),width:l,height:c},e),t.setTimeout((function(){je(e,r,o,l,c)}),100)):Mt({sender:"lightbox",action:"dimensions_changed",widget_type:ie(s),width:l,height:c},e,100,0)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"inlineResponsiveResizing")}}function Je(e,o,i,n){var s="",a=0;const l=N[n].fullscreen;if("full"!==l.backgroundType&&"split_top"!==l.backgroundType&&"split_bottom"!==l.backgroundType){var c=o,u=100-parseInt(l.backgroundWidth.replace("vw",""));(a=(t.innerWidth*u/100-c)/2)<0&&(a=0)}else a=(t.innerWidth-o)/2;var _;i>t.innerHeight?(_=(i-t.innerHeight)/2,t.innerHeight<600&&(_=10)):_=(t.innerHeight-i)/2,"split_top"===l.backgroundType&&(_=t.innerHeight-i),s+="position:absolute;",a<0&&(a=0),s+="left:"+a+"px !important;","split_top"===l.backgroundType?s+="bottom:0px !important;":"split_bottom"===l.backgroundType?s+="top:0px !important;":["full","split_left","split_right"].includes(l.backgroundType)?s+="top:"+(_=`calc(50vh - ${i/2}px)`)+"!important;":s+="top:"+_+"px !important;";var d=e+"layout-wrapper",g=r.getElementById("lightbox-iframe-"+n);if(g&&g.contentWindow){var f=setInterval((function(){var e=g.contentWindow.document.getElementById(d);e&&(e.style.cssText=s,clearInterval(f))}),100)}}function Ve(e,r){const o=N[e];if(qt())try{if(Zt(Ve)){var i=JQUERY_DIGIOH("#"+r);JQUERY_DIGIOH("#lightbox-iframe-"+e).contents().find("input").each((function(){JQUERY_DIGIOH(this).focus((function(){if(H[e]=!0,ee(o)&&"fixed"===o.sidebar.css_positioning&&(DIGIOH_LOG.log("registerMobileSidebarToLightboxConversion: sidebar"),i.attr("style"),x[e]=!0,ve())){i.attr("style",be(o.sidebar,e));for(var r=1;r<=5;r++)t.setTimeout((function(){ve()&&i.attr("style",be(o.sidebar,e))}),100*r*2)}if(te(o)){DIGIOH_LOG.log("registerMobileSidebarToLightboxConversion: banner"),i.attr("style"),x[e]=!0,i.attr("style",Ge(o.banner,e));for(r=1;r<=5;r++)t.setTimeout((function(){i.attr("style",Ge(o.banner,e))}),100*r*2)}}))}))}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerMobileSidebarToLightboxConversion")}}function Ye(e){const r=N[e]||{},o=r[se(e)+"responsive_display"]||r.responsive_display||r[se(e)+"scaling"]||r.scaling||{};if(o.use){var i=JQUERY_DIGIOH(t).width(),n=JQUERY_DIGIOH(t).height(),s=ae(e),a=le(e);"pct"===o.max_type?(o.max_width_pct&&(i=i*o.max_width_pct/100),o.max_height_pct&&(n=n*o.max_height_pct/100)):"abs"===o.max_type?(o.max_width&&o.max_width<i&&(i=o.max_width),o.max_height<n&&(n=o.max_height)):o.max_type;var l=n/a,c=i/s;return l<c?l:c}return 1}function Fe(e){const t=N[e]||{};var r="";if((t[se(e)+"responsive_display"]||t.responsive_display||t[se(e)+"scaling"]||t.scaling||{}).use){var o=Ye(e);if(r+="-webkit-transform: scale("+o+");",r+="-moz-transform: scale("+o+");",r+="-ms-transform: scale("+o+");",r+="-o-transform: scale("+o+");",r+="transform: scale("+o+");",te(t)){const e=t.banner.placement;"bottom"===e?r+="transform-origin: 50% 100%;":"top"===e&&(r+="transform-origin: 50% 0%;")}if(ee(t)){const e=t.sidebar.position;"top-left"===e?r+="transform-origin: 0% 0%;":"top-center"===e?r+="transform-origin: 50% 0%;":"top-right"===e?r+="transform-origin: 100% 0%;":"center-left"===e?r+="transform-origin: 0% 50%;":"center-center"===e?r+="transform-origin: 50% 50%;":"center-right"===e?r+="transform-origin: 100% 50%;":"bottom-left"===e?r+="transform-origin: 0% 100%;":"bottom-center"===e?r+="transform-origin: 50% 100%;":"bottom-right"===e&&(r+="transform-origin: 100% 100%;")}}return r}function Xe(e,r,o){try{var i=JQUERY_DIGIOH;if(DIGIOH_API.scroll_mode_data=DIGIOH_API.scroll_mode_data||{},void 0===r&&(r="main"),"string"==typeof o&&"window_resize"===o&&DIGIOH_API.scroll_mode_data.lid&&(e=DIGIOH_API.scroll_mode_data.lid),"string"==typeof o&&"change_pages"===o&&i("#lightbox-override").length&&(DIGIOH_LOG.log("setBoxToScrollMode:  Box page changed, forcing browser to scroll to the top of the box: "+r),i("#lightbox-override")[0].scrollTop=0),"string"==typeof e&&e.length>0&&!lt(e))return;const d=Xt(e);if((""!=gt()||i("#lightbox-override").length)&&d&&ee(e)){DIGIOH_API.scroll_mode_data.settings=d;var n="",s=1e6,a=!1;DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use=!1;const o=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS?.[e]||{};for(var l in o)if(qt()&&0==l.indexOf("mobile"))n=l,a=!0;else if(a||0!=l.indexOf("mobile_"))!a&&l.indexOf("mobile")<0&&i(t).width()<parseInt(l)&&parseInt(l)<s&&(n=l,s=parseInt(l));else{var c=parseInt(l.split("_")[1]);i(t).width()<c&&c<s&&(n=l,s=c)}if(n&&o[n.toString()]){if(!o[n.toString()].scrolling?.use)return DIGIOH_LOG.log("setBoxToScrollMode: scrolling was off for breakpoint ("+n+") "+e),We(e),!1;DIGIOH_LOG.log("setBoxToScrollMode: scrolling was on for breakpoint ("+n+") "+e),DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use=!0,DIGIOH_API.scroll_mode_data.settings=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[e][n.toString()]}else if(!DIGIOH_API.scroll_mode_data.settings?.scrolling?.use)return DIGIOH_LOG.log("setBoxToScrollMode: scrolling was off for sidebar "+e),We(e),!1;DIGIOH_API.scroll_mode_data.is_scroll_box_active=!0,e&&(DIGIOH_API.scroll_mode_data.lid=e);var u="main"==r?"layout":r+"layout";if(DIGIOH_API.scroll_mode_data.currentPage=r,i("#lightbox-override").length?DIGIOH_LOG.log("setBoxToScrollMode:  updating scroll box positioning: "+DIGIOH_API.scroll_mode_data.settings.scrolling.use+", "+DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use):(i("#"+dt(e)).attr("id","lightbox-override").attr("style",""),DIGIOH_LOG.log("setBoxToScrollMode:  going to override the box positioning")),DIGIOH_API.scroll_mode_data.pageUpdate=r,function(e){if(!e?.layout)return DIGIOH_LOG.log("setBoxToScrollMode: missing settings object in scrollModeSetCSSSettings"),!1;var t=".digioh_overlay_style {";t+="position: fixed !important;",t+="top: 0 !important;",t+="right: 0 !important;",t+="bottom: 0 !important;",t+="left: 0 !important;",t+="-webkit-overflow-scrolling: touch !important;",t+="margin-top: 0 !important;",t+="margin-bottom: 0 !important;",t+="-webkit-transition: none !important;",t+="transition: none !important;",t+="overflow: hidden !important;",t+="}",t+=".digioh_overlay_style .preloaded_lightbox {",t+="position: fixed !important;",t+="top: 0 !important;",t+="right: 0 !important;",t+="left: 0 !important;",t+="bottom: 0 !important;",t+="overflow-x: hidden !important;",t+="overflow-y: auto !important;",t+="text-align: center !important;",t+="z-index: 9948030 !important;",t+="}",t+=".digioh_overlay_style .fb_lightbox-overlay-fixed {",t+="z-index: 9847010 !important;",t+="}",t+=".digioh_overlay_style .sidebar-iframe-close {",t+="display: none !important;",t+="}",Object.keys(e).forEach((function(r){if(r.match(/(layout|ep1layout|ep2layout|ep3layout|ep4layout|thxlayout)$/)){var o=35;e.scrolling?.use&&e.scrolling.top&&(o=e.scrolling.top),t+='.digioh_overlay_style .preloaded_lightbox .digioh_override[data-layout="'+r+'"]{',t+="position: absolute !important;",t+="width: "+e[r].width+"px !important;",t+="height: "+(e[r].height+35)+"px !important;",t+="top: "+o+"px !important;",t+="left: 50% !important;",t+="margin-left: -"+e[r].width/2+"px !important;",t+="z-index: 9948031 !important;",t+="}"}})),JQUERY_DIGIOH("#digioh_element_styles").length?JQUERY_DIGIOH("#digioh_element_styles").html(t):JQUERY_DIGIOH("head").append('<style id="digioh_element_styles" type="text/css">'+t+"</style>")}(DIGIOH_API.scroll_mode_data.settings),i("head,body").addClass("digioh_overlay_style"),i("#lightbox-override").css("height",i(t).height()+"px").css("width",i(t).width()+"px").css("margin-left","unset").css("margin-top","unset").css("top",i(t).scrollTop()+"px"),i("#lightbox-override iframe").attr("style","").attr("data-layout",u).addClass("digioh_override"),F[e]&&i("#lightbox-override iframe.digioh_override").length){var _=F[e]?.replace("_","")||"";"main"==_&&(_=""),i("#lightbox-override iframe.digioh_override").attr("data-layout",_+"layout"),DIGIOH_LOG.log("setBoxToScrollMode:  data-layout set to page: "+_)}const g=i("#lightbox-override > iframe[id^='lightbox-iframe-']").contents().find("button[custom_close_btn]");g.length&&g.on(qt()?"touchend":"click",(function(){qt()?setTimeout((function(){Ot(e)}),150):setTimeout((function(){Ot(e)}),50)}))}}catch(e){return DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"setBoxToScrollMode"),1}}function We(e){DIGIOH_API.scroll_mode_data?.is_scroll_box_active&&DIGIOH_API.scroll_mode_data.lid===e&&(delete DIGIOH_API.scroll_mode_data.settings,delete DIGIOH_API.scroll_mode_data.pageUpdate,delete DIGIOH_API.scroll_mode_data.currentPage,delete DIGIOH_API.scroll_mode_data.is_scroll_box_active,JQUERY_DIGIOH("#digioh_element_styles").remove(),JQUERY_DIGIOH("head,body").removeClass("digioh_overlay_style"),JQUERY_DIGIOH("#lightbox-override iframe").removeClass("digioh_override").removeAttr("data-layout"),JQUERY_DIGIOH("#lightbox-override").attr("id",dt(e)),DIGIOH_LOG.log("stopBoxScrollMode"))}function Qe(e){const t=e.window,o=e.DIGIOH_API,i=e.UTIL,n=e.DLOG,s=e.JQUERY_DIGIOH,a=e.DIGIOH_COOKIE,l=e.DIGIOH_LIGHTBOX_IDS,c=e.DIGIOH_LIGHTBOX_CONDITIONS,u=e.DIGIOH_LIGHTBOX_RULESETS,_=e.AB_BOXES_SKIP_MAP||{},d=e.getDigiohLightboxAnalytics,g=e.isInlineLightbox,f=e.isTablet,p=e.isPhone,I=e.AllowMultipleBoxes,h=[],O=[],m=[];let v={},y={};const b={},G=[],D=[],E=[],x={},H={};function w(e){return/^J_javascript_variable.+/.test(e)?"JavaScript Variable (App)":S[e]||e}const S={E_lightbox_activity:"Display Until",D_date_range:"Display If Date",E_visitor_activity_visitor:"Max displays per visitor",E_visitor_activity_session:"Max displays per session",E_visitor_activity_pageview:"Max displays per pageview",I_page_visits:"Pageviews (All Time)",I_page_visits_session:"Pageviews (This Session)",I_past_visits:"Past Visits",I_days_since_last_view:"Days Since Last View",I_days_since_last_submit:"Days Since Last Submit",D_date_of_visit:"Date Of First Visit",E_web_source:"Web Source",E_search_engine:"Search Engine",P_known_visitor:"Visitor Known",P_in_list:"Visitor in List",P_in_segment:"Visitor in Segment",S_current_page_url:"Current Page URL",S_current_page_url_host:"Current URL Host",S_current_page_url_path:"Current URL Path",S_current_page_url_protocol:"Current URL Protocol",S_current_page_url_query:"Current URL Query String",S_current_page_url_hash:"Current URL Hash",S_referring_website_url:"Referring Website URL",S_landing_page:"Landing Page URL",S_pages_navigated:"Pages Navigated URLs",I_total_time_seconds:"Total seconds on page",I_active_time_seconds:"Active seconds on page",I_idle_time_seconds:"Idle seconds on page",I_scroll_percent:"Scroll Percent",I_scroll_pixels:"Scroll Pixels",E_scroll_speed:"Scroll Speed",C_click_jquery_selector:"Click jQuery",C_hover_jquery_selector:"Hover jQuery",E_exit_intent:"Exit Intent",C_exists_jquery_selector:"HTML Exists jQuery",E_device:"Device Type",E_browser_type:"Browser Type",I_browser_version:"Browser Version",E_operating_system:"Operating System",E_continent:"Continent",E_country:"Country",E_language:"Language",E_state:"State",S_city:"City",S_ip_address:"IP Address",S_zipcode:"Zip Code",S_lytics:"Lytics Segment",I_latitude:"Latitude",I_longitude:"Longitude",S_metro_code:"Metro Code",S_area_code:"Area Code",S_utm_campaign_name:"UTM Campaign Name",S_utm_campaign_source:"UTM Campaign Source",S_utm_campaign_content:"UTM Campaign Content",S_utm_campaign_term:"UTM Campaign Term",S_utm_campaign_medium:"UTM Campaign Medium",L_any_other_box:"Any Other Box",K_cookie:"Cookie",K_local_storage:"Local Storage",K_session_storage:"Session Storage",J_javascript_variable:"JavaScript Variable",J_javascript_function:"JavaScript Function",R_ruleset:"Ruleset",J_custom_condition:"Custom Condition"};function A(e){try{let r=o.DIGIOH_USE_FRAME_COMPATIBILITY?t:t.parent;return Function("window","return (window."+e+")")(r)}catch(r){return function(e=""){e=function(e){return o.DIGIOH_USE_FRAME_COMPATIBILITY?/^(window\.parent\.|window\.)/.test(e)?e.startsWith("window.parent.")?e.replace(/^window\.parent\./,"window."):e:"window."+e:/^(window\.parent\.|window\.)/.test(e)?e.startsWith("window.parent.")?e:e.replace(/^window\./,"window.parent."):"window.parent."+e}(e);const r=e.split(/[\.\[\]\'\"]/).filter((e=>""!==e));let i=o.DIGIOH_USE_FRAME_COMPATIBILITY?t:t.parent;for(let e=0;e<r.length;e++){if(null==i){if(e<r.length)throw new Error("Tried to dereference undefined or null");return}i=i[r[e]]}return i}(e)}}function R(){try{var e="",t="",r="",o=[],i="",a="";b.click={},b.hover={},b.exists={};for(const n of c){n.has_only_load_rules=!1,n.has_exists_rules=!1,n.has_click_rules=!1,n.has_hover_rules=!1,n.has_scroll_rules=!1,n.has_exit_rules=!1,n.has_time_rules=!1,n.has_list_rule=!1,n.has_segment_rule=!1,i=n.lightbox_guid;var l=!1,_=!1,d=!1,g=!1;for(const c of n.conditions){l=!1;for(const w of c){if(e=w.p,t=w.o,r=w.v,o=w.s,a="","I_total_time_seconds"==e||"I_active_time_seconds"==e||"I_idle_time_seconds"==e)n.has_time_rules=!0,l=!0,-1==s.inArray(i,E)&&E.push(i);else if("I_scroll_percent"==e||"I_scroll_pixels"==e||"E_scroll_speed"==e)n.has_scroll_rules=!0,l=!0,-1==s.inArray(i,G)&&G.push(i);else if("E_exit_intent"==e)n.has_exit_rules=!0,l=!0,-1==s.inArray(i,D)&&D.push(i);else if("C_click_jquery_selector"==e)n.has_click_rules=!0,l=!0,a="click";else if("C_hover_jquery_selector"==e)n.has_hover_rules=!0,l=!0,a="hover";else if("C_exists_jquery_selector"==e)n.has_exists_rules=!0,l=!0,a="exists";else if("P_in_list"==e)n.has_list_rule=!0;else if("P_in_segment"==e)n.has_segment_rule=!0;else if("R_ruleset"===e&&u[r])for(var f=0;f<u[r].length;f++){d=!1;for(var p=0;p<u[r][f].length;p++){var I=u[r][f][p].p,v=u[r][f][p].o,y=u[r][f][p].v,x=u[r][f][p].s;if("I_total_time_seconds"==I||"I_active_time_seconds"==I||"I_idle_time_seconds"==I?(n.has_time_rules=!0,d=!0,-1==s.inArray(i,E)&&E.push(i)):"I_scroll_percent"==I||"I_scroll_pixels"==I||"E_scroll_speed"==I?(n.has_scroll_rules=!0,d=!0,-1==s.inArray(i,G)&&G.push(i)):"E_exit_intent"==I?(n.has_exit_rules=!0,d=!0,-1==s.inArray(i,D)&&D.push(i)):"C_click_jquery_selector"==I?(n.has_click_rules=!0,d=!0,a="click"):"C_hover_jquery_selector"==I?(n.has_hover_rules=!0,d=!0,a="hover"):"C_exists_jquery_selector"==I?(n.has_exists_rules=!0,d=!0,a="exists"):"P_in_list"==I?n.has_list_rule=!0:"P_in_segment"==I&&(n.has_segment_rule=!0),""!=a&&0===I.indexOf("C_")&&I.indexOf("jquery_selector")>0)if("in_set"==v||"not_in_set"==v)for(var H=0;H<x.length;H++)""!=x[H]&&(b[a].hasOwnProperty(x[H])?-1==s.inArray(i,b[a][x[H]])&&b[a][x[H]].push(i):b[a][x[H]]=[i],"click"==a&&-1==s.inArray(x[H],O)?O.push(x[H]):"hover"==a&&-1==s.inArray(x[H],m)?m.push(x[H]):"exists"==a&&-1==s.inArray(x[H],h)&&h.push(x[H]));else""!=y&&(b[a].hasOwnProperty(y)?-1==s.inArray(i,b[a][y])&&b[a][y].push(i):b[a][y]=[i],"click"==a&&-1==s.inArray(y,O)?O.push(y):"hover"==a&&-1==s.inArray(y,m)?m.push(y):"exists"==a&&-1==s.inArray(y,h)&&h.push(y))}d||(g=!0)}else g=!0;if(!l&&g&&(_=!0),""!=a&&"R_ruleset"!==e)if("in_set"==t||"not_in_set"==t)for(H=0;H<o.length;H++)""!=o[H]&&(b[a].hasOwnProperty(o[H])?-1==s.inArray(i,b[a][o[H]])&&b[a][o[H]].push(i):b[a][o[H]]=[i],"click"==a&&-1==s.inArray(o[H],O)?O.push(o[H]):"hover"==a&&-1==s.inArray(o[H],m)?m.push(o[H]):"exists"==a&&-1==s.inArray(o[H],h)&&h.push(o[H]));else""!=r&&(b[a].hasOwnProperty(r)?-1==s.inArray(i,b[a][r])&&b[a][r].push(i):b[a][r]=[i],"click"==a&&-1==s.inArray(r,O)?O.push(r):"hover"==a&&-1==s.inArray(r,m)?m.push(r):"exists"==a&&-1==s.inArray(r,h)&&h.push(r))}}n.has_only_load_rules=!(n.has_click_rules||n.has_hover_rules||n.has_scroll_rules||n.has_exit_rules||n.has_time_rules),n.has_or_block_with_only_load_rules=_}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"buildConditionSelectorsToBoxesMap")}}function T(e,t,r,o){let i=[];try{let n=!1;t=t||"",r=r||"",!0!==o&&(o=!1);for(const a of c)if(!(""===t&&_.hasOwnProperty(a.lightbox_guid)||""===t&&g(a.lightbox_guid))){if(""!==t){if(a.lightbox_guid===t){if(n=M(a.conditions,a.lightbox_guid,d().VARS),n&&!o)return a.lightbox_guid;if(!n&&!o)return"";if(n&&o)return[a.lightbox_guid];if(!n&&o)return[""]}}else""!==r&&"string"==typeof r&&r.length>1?b.hasOwnProperty(e)&&b[e].hasOwnProperty(r)&&s.inArray(a.lightbox_guid,b[e][r])>-1&&(n=M(a.conditions,a.lightbox_guid,d().VARS)):("load"===e&&(a.has_only_load_rules||a.has_or_block_with_only_load_rules)||"exists"===e&&a.has_exists_rules||"click"===e&&a.has_click_rules||"hover"===e&&a.has_hover_rules||"scroll"===e&&a.has_scroll_rules||"exit"===e&&a.has_exit_rules||"time"===e&&a.has_time_rules)&&(n=M(a.conditions,a.lightbox_guid,d().VARS));if(n&&!o)return a.lightbox_guid;n&&o&&i.push(a.lightbox_guid),n=!1}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"checkConditions")}return o?0===i.length?[""]:i:""}function L(e){for(const t of c)if(l[t.lightbox_guid]==e)return t}function C(e){const t=L(e);return!!t&&M(t.conditions,t.lightbox_guid,d().VARS)}function P(e){return e.every((e=>e.rule_result))}function N(e){for(let t=0;t<e.length;t++){if(P(e[t]))return t+1}return 0}function U(e,t=!1){const r=L(e)?.conditions;if(!r&&!t)throw new Error(`No conditions found for Box ${e}`);const o=H[e],n=x[e]||[[]],s=r?.length||0,a={boxId:e,summary:"",detail:"",passed:void 0,resultsRaw:n,resultsLinearPrintable:[],failingRulesLinearPrintable:[]};if(!0===o)a.summary="Conditions Passed",a.detail=1==s?"All rules passed":`OR block ${N(n)} of ${s} passed`,a.passed=!0;else if(!1===o)a.summary="Conditions Failed",a.passed=!1;else if("object"==typeof o){const e=o;a.summary="Conditions FATAL ERROR: Please contact support",a.detail=e.stack||e.message||i.stringifyVal(obj),a.passed=void 0}else"string"==typeof o?(a.summary="Conditions Rejected",a.detail=o,a.passed=void 0):void 0===o&&(a.summary="Conditions not yet evaluated",a.detail="Status unknown",a.passed=void 0);let l=1;for(const e of n){const r=s>1?`OR block ${l}: `:"",o=P(e)?"Pass":"FAIL";r&&a.resultsLinearPrintable.push(`${r}${o}`);let i=1;for(const o of e){let e=o.rule_error?"ERROR":o.rule_result?"Pass":"FAIL";if(t&&(e=`${e}: ${o.rule_func}`),a.resultsLinearPrintable.push(`${i}: ${e}: ${w(o.rule_prop)}: ${o.rule_visual}`),!o.rule_result){const e=`${r}${w(o.rule_prop)}: ${o.rule_visual}`;a.failingRulesLinearPrintable.push(e)}i++}l++}return(0==n.length||1==n.length&&0==n[0].length)&&a.resultsLinearPrintable.push("No rule results available"),a}function k(e,t=15){return null==e?`<<${e}>>`:"string"==typeof e?e?`"${i.stringifyVal(e,t)}"`:'"<<empty>>"':i.stringifyVal(e,t)}function M(e,t,r,o=!1,i=!0){const s=l[t],a=[];if(o||(x[s]=a),i&&_[t])return"string"!=typeof H[s]&&(H[s]="Not evaluated: this box is in an A/B test and was not selected"),!1;if(!e||!e.length||!e[0].length)return H[s]="Box has no conditions, which automatically fail to prevent display on every pageview",!1;try{for(const o of e){const e=[];a.push(e);for(const i of o){i.k=i.hasOwnProperty("k")?i.k:"";const o={rule_prop:i.p,rule_operator:i.o,rule_set:i.s,rule_val:i.v,rule_start_date:i.sd||void 0,rule_end_date:i.ed||void 0,rule_var_key:i.k,rule_func:"Evaluating...",rule_visual:"Not Evaluated",rule_error:!1,rule_result:void 0};if(e.push(o),"R_ruleset"===i.p){o.rule_func=M.name;const e=i.v;if(u[e]){const n=M(u[e],t,r,!0),s="does_not_equal"===i.o;o.rule_result=s?!n:n,o.rule_visual=`Ruleset #${e} -> ${n} IS ${s?"FALSE":"TRUE"}`,o.rule_error=!1}else o.rule_result=!1,o.rule_visual=`Ruleset #${e} not found: assumed passing rule`,o.rule_error=!0}else B(o,t,r)}}const i=N(a)>0;return o||"string"!=typeof H[s]&&(H[s]=i),i}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"evalConditions"),o||(H[s]=e),!1}}function B(e,r,s){e.rule_func=B.name;const c=e.rule_prop,u=e.rule_operator,_=e.rule_val,g=e.rule_set,f=e.rule_var_key,p=l[r];let I=o.DIGIOH_USE_FRAME_COMPATIBILITY?o.DIGIOH_TOP_WINDOW_CONTEXT:t.parent;if("E_lightbox_activity"==c){const t={view:"v",submit:"s",redirect:"r",download:"d",close:"c"};if("equals"==u){const r=t[_],o=s.lightbox_events[p]?.[r]?.c||0;return 0==o?(e.rule_visual="no "+_+" events found for this lightbox, so continue displaying",e.rule_result=!0,e):(e.rule_visual=o+" "+_+" events found for this lightbox, so stop displaying",e.rule_result=!1,e)}if("in_set"==u){for(const r of g){const o=t[r],i=s.lightbox_events[p]?.[o]?.c||0;if(i>0)return e.rule_visual=i+" "+r+" events found for this lightbox, so stop displaying",e.rule_result=!1,e}return e.rule_visual="no matching events found for this lightbox, so continue displaying",e.rule_result=!0,e}return e.visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if("D_date_range"==c){var h=d().getCorrectedDate();return K(e,h.getMonth()+1+"/"+h.getDate()+"/"+h.getFullYear())}if("D_date_of_visit"==c)return K(e,s.date_of_visit.getMonth()+1+"/"+s.date_of_visit.getDate()+"/"+s.date_of_visit.getFullYear());if("E_visitor_activity_visitor"==c)return s.lightbox_events.hasOwnProperty(p)?"equals"==u?s.lightbox_events[p].hasOwnProperty("v")?s.lightbox_events[p].v.c<parseInt(_)?(e.rule_visual=s.lightbox_events[p].v.c+" displays found for this Box, so continue displaying (max of "+_+" displays per visitor)",e.rule_result=!0,e):(e.rule_visual=s.lightbox_events[p].v.c+" displays found for this Box, so stop displaying (max of "+_+" displays allowed per visitor)",e.rule_result=!1,e):(e.rule_visual="no displays found for this Box, so continue displaying",e.rule_result=!0,e):(e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e):(e.rule_visual="no displays found for this Box, so continue displaying",e.rule_result=!0,e);if("E_visitor_activity_session"==c){if(s.lightbox_events.hasOwnProperty(p)){if("equals"==u){if(!s.lightbox_events[p].hasOwnProperty("v")||!s.lightbox_events[p].v.hasOwnProperty("t")||0==s.lightbox_events[p].v.t.length)return e.rule_visual="no session displays found for this lightbox, so continue displaying",e.rule_result=!0,e;for(var O=0,m=0;m<s.lightbox_events[p].v.t.length;m++)s.lightbox_events[p].v.t[m]>=d().SessionStart()&&O++;return O<parseInt(_)?(e.rule_visual=O+" session displays found for this lightbox, so continue displaying (max of "+_+" displays allowed per session)",e.rule_result=!0,e):(e.rule_visual=O+" session displays found for this lightbox, so stop displaying (max of "+_+" displays allowed per session)",e.rule_result=!1,e)}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}return e.rule_visual="no session displays found for this lightbox, so continue displaying",e.rule_result=!0,e}if("E_visitor_activity_pageview"==c){if(s.lightbox_events.hasOwnProperty(p)){if("equals"==u){if(!s.lightbox_events[p].hasOwnProperty("v")||!s.lightbox_events[p].v.hasOwnProperty("t")||0==s.lightbox_events[p].v.t.length)return e.rule_visual="no current page displays found for this lightbox, so continue displaying",e.rule_result=!0,e;var v=0;for(m=0;m<s.lightbox_events[p].v.t.length;m++)s.lightbox_events[p].v.t[m]>=d().PageviewStart()&&v++;return v<parseInt(_)?(e.rule_visual=v+" session displays found for this lightbox, so continue displaying (max of "+_+" displays allowed per pageview)",e.rule_result=!0,e):(e.rule_visual=v+" session displays found for this lightbox, so stop displaying (max of "+_+" displays allowed per pageview)",e.rule_result=!1,e)}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}return e.rule_visual="no current page displays found for this lightbox, so continue displaying",e.rule_result=!0,e}if("I_page_visits"==c)return z(e,s.page_visits);if("I_page_visits_session"==c)return z(e,s.page_visits_session);if("I_past_visits"==c)return z(e,s.past_visits);if("I_days_since_last_view"==c)return j(e,"view",s,p,u,_,g);if("I_days_since_last_submit"==c)return j(e,"submit",s,p,u,_,g);if("I_total_time_seconds"==c)return z(e,s.total_time_seconds);if("I_active_time_seconds"==c)return z(e,s.active_time_seconds);if("I_idle_time_seconds"==c)return z(e,s.idle_time_seconds);if("I_scroll_percent"==c)return z(e,s.scroll_percent);if("I_scroll_pixels"==c)return z(e,s.scroll_pixels);if("E_scroll_speed"==c)return q(e,$(s.scroll_speed||0));if("I_browser_version"==c)return isNaN(s.browser_version)?(e.rule_visual="browser version is Not a Number (NaN), so evaluate to false",e.rule_result=!1,e):z(e,Math.floor(parseFloat(s.browser_version)));if("I_latitude"==c)return isNaN(s.latitude)?(e.rule_visual="latitude is Not a Number (NaN), so evaluate to false",e.rule_result=!1,e):z(e,Math.floor(parseFloat(s.latitude)));if("I_longitude"==c)return isNaN(s.longitude)?(e.rule_visual="longitude is Not a Number (NaN), so evaluate to false",e.rule_result=!1,e):z(e,Math.floor(parseFloat(s.longitude)));if("E_web_source"==c)return q(e,s.web_source);if("E_search_engine"==c)return q(e,s.search_engine);if("E_device"==c)return W(e,s.device);if("E_browser_type"==c)return q(e,s.browser_type);if("E_operating_system"==c)return q(e,s.operating_system);if("E_language"==c)return Q(e);if("E_country"==c)return q(e,s.country);if("E_state"==c)return q(e,s.state);if("E_continent"==c)return q(e,s.continent);if("S_lytics"==c){var y=[];try{var b=a.get("ly_segs",!0);if(null!==b&&"string"==typeof b&&b.length>0){b=decodeURIComponent(b);var G=JSON.parse(b);for(var D in G)y.push(G[D])}}catch(e){n.log("S_lytics - error parsing cookie")}return V(e,y)}if("S_current_page_url"==c)return X(e,s.current_page_url);if("S_referring_website_url"==c)return X(e,s.referring_website_url);if("S_landing_page"==c)return X(e,s.landing_page);if("S_pages_navigated"==c)return F(e,s.pages_navigated);if("S_current_page_url_protocol"==c){const t=I.location.protocol.replace(":",""),r=_&&_.includes(":")?_.replace(":","").toLowerCase():"";return e.rule_val=r,Y(e,t)}if("S_current_page_url_host"==c)return Y(e,I.location.hostname);if("S_current_page_url_path"==c)return Y(e,I.location.pathname);if("S_current_page_url_query"==c)return Y(e,I.location.search);if("S_current_page_url_hash"==c)return Y(e,I.location.hash);if("S_city"==c)return Y(e,s.city);if("S_ip_address"==c)return Y(e,s.ip_address);if("S_zipcode"==c)return Y(e,s.zipcode);if("S_metro_code"==c)return Y(e,s.metro_code);if("S_area_code"==c)return Y(e,s.area_code);if("S_utm_campaign_name"==c)return Y(e,s.utm_campaign_name);if("S_utm_campaign_source"==c)return Y(e,s.utm_campaign_source);if("S_utm_campaign_content"==c)return Y(e,s.utm_campaign_content);if("S_utm_campaign_term"==c)return Y(e,s.utm_campaign_term);if("S_utm_campaign_medium"==c)return Y(e,s.utm_campaign_medium);if("C_click_jquery_selector"==c){if("equals"==u)return""==_?(e.rule_visual="you entered a blank jquery click selector, which will automatically evaluate to false",e.rule_result=!1,e):(e.rule_result=s.click_jquery_selector.hasOwnProperty(_)&&1==s.click_jquery_selector[_],e.rule_visual="jquery click selector ("+_+") occurred ("+e.rule_result+")",e);if("in_set"==u){for(m=0;m<g.length;m++)if(""!=g[m]&&s.click_jquery_selector.hasOwnProperty(g[m])&&1==s.click_jquery_selector[g[m]])return e.rule_result=!0,e.rule_visual="jquery click selector ("+g[m]+") from group item number ("+m+") occurred ("+e.rule_result+")",e;return e.rule_result=!1,e.rule_visual="jquery click selector from set did not occur",e}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if("C_hover_jquery_selector"==c){if("equals"==u)return""==_?(e.rule_visual="you entered a blank jquery hover selector, which will automatically evaluate to false",e.rule_result=!1,e):(e.rule_result=s.hover_jquery_selector.hasOwnProperty(_)&&1==s.hover_jquery_selector[_],e.rule_visual="jquery hover selector ("+_+") occurred ("+e.rule_result+")",e);if("in_set"==u){for(m=0;m<g.length;m++)if(""!=g[m]&&s.hover_jquery_selector.hasOwnProperty(g[m])&&1==s.hover_jquery_selector[g[m]])return e.rule_result=!0,e.rule_visual="jquery hover selector ("+g[m]+") from group item number ("+m+") occurred ("+e.rule_result+")",e;return e.rule_result=!1,e.rule_visual="jquery hover selector from set did not occur",e}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if("C_exists_jquery_selector"==c){if("equals"==u)return""==_?(e.rule_visual="you entered a blank jquery exists selector, which will automatically evaluate to false",e.rule_result=!1,e):(e.rule_result=s.exists_jquery_selector.hasOwnProperty(_)&&1==s.exists_jquery_selector[_],e.rule_visual="jquery exists selector ("+_+") exists ("+e.rule_result+")",e);if("does_not_equal"==u)return""==_?(e.rule_visual="you entered a blank jquery exists selector, which will automatically evaluate to false",e.rule_result=!1,e):(e.rule_result=!s.exists_jquery_selector.hasOwnProperty(_)||0==s.exists_jquery_selector[_],e.rule_visual="jquery exists selector ("+_+") does not exist ("+e.rule_result+")",e);if("in_set"==u){for(m=0;m<g.length;m++)if(""!=g[m]&&s.exists_jquery_selector.hasOwnProperty(g[m])&&1==s.exists_jquery_selector[g[m]])return e.rule_result=!0,e.rule_visual="jquery exists selector ("+g[m]+") from group item number ("+m+") exists ("+e.rule_result+")",e;return e.rule_result=!1,e.rule_visual="jquery exists selector from set did not occur",e}if("not_in_set"==u){for(m=0;m<g.length;m++)if(""!=g[m]&&s.exists_jquery_selector.hasOwnProperty(g[m])&&1==s.exists_jquery_selector[g[m]])return e.rule_result=!1,e.rule_visual="jquery exists selector ("+g[m]+") from group item number ("+m+") exists ("+e.rule_result+")",e;return e.rule_result=!0,e.rule_visual="jquery exists selector from set did not occur",e}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if("E_exit_intent"==c)return q(e,s.exit_intent);if("L_any_other_box"==c){if("equals"==u){var E=d().getEventCountAcrossAllLightboxesExcept(_,r);return e.rule_result=E>0,e.rule_visual=_+" event has occurred "+E+" times across all other Boxes, so this rule is evaluated as "+e.rule_result,e}if("does_not_equal"==u){E=d().getEventCountAcrossAllLightboxesExcept(_,r);return e.rule_result=0==E,e.rule_visual=_+" event has occurred "+E+" times across all other Boxes, so this rule is evaluated as "+e.rule_result,e}if("in_set"==u){for(m=0;m<g.length;m++){if((E=d().getEventCountAcrossAllLightboxesExcept(g[m],r))>0)return e.rule_result=!0,e.rule_visual=g[m]+" event from group has occurred "+E+" times across all other Boxes, so this rule is evaluated as "+e.rule_result,e}return e.rule_result=!1,e.rule_visual="no events from group have occurred across all other lightboxes, so this rule is evaluated as "+e.rule_result,e}if("not_in_set"==u){for(m=0;m<g.length;m++){if((E=d().getEventCountAcrossAllLightboxesExcept(g[m],r))>0)return e.rule_result=!1,e.rule_visual=g[m]+" event from group has occurred "+E+" times across all other lightboxes, so this rule is evaluated as "+e.rule_result,e}return e.rule_result=!0,e.rule_visual="no events from group have occurred across all other lightboxes, so this rule is evaluated as "+e.rule_result,e}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if(0==c.indexOf("L_other_box_")){var x=c.split("_")[3];if("equals"==u){E=d().getEventCountByLightbox(_,x);return e.rule_result=E>0,e.rule_visual=_+" event has occurred "+E+" times for other lightbox guid "+x+", so this rule is evaluated as "+e.rule_result,e}if("does_not_equal"==u){E=d().getEventCountByLightbox(_,x);return e.rule_result=0==E,e.rule_visual=_+" event has occurred "+E+" times for other lightbox guid "+x+", so this rule is evaluated as "+e.rule_result,e}if("in_set"==u){for(m=0;m<g.length;m++){if((E=d().getEventCountByLightbox(g[m],x))>0)return e.rule_result=!0,e.rule_visual=g[m]+" event from group has occurred "+E+" times for other lightbox guid "+x+", so this rule is evaluated as "+e.rule_result,e}return e.rule_result=!1,e.rule_visual="no events from group for other lightbox guid "+x+" have occurred, so this rule is evaluated as "+e.rule_result,e}if("not_in_set"==u){for(m=0;m<g.length;m++){if((E=d().getEventCountByLightbox(g[m],x))>0)return e.rule_result=!1,e.rule_visual=g[m]+" event from group has occurred "+E+" times for other lightbox guid "+x+", so this rule is evaluated as "+e.rule_result,e}return e.rule_result=!0,e.rule_visual="no events in from group for other lightbox guid "+x+" have occurred, so this rule is evaluated as "+e.rule_result,e}return e.rule_visual="invalid operator: "+u,e.rule_error=!0,e.result=!1,e}if("K_cookie"==c||"K_local_storage"==c||"K_session_storage"==c){if(!f)return e.rule_result=!1,e.rule_visual="Key Name was not specified.",e;var H="";let r="unknown";try{if("K_cookie"==c)H=a.getEncoded(f),r="Cookie";else if("K_local_storage"==c)H=t.localStorage.getItem(f),r="Local Storage";else{if("K_session_storage"!=c)throw new Error(`Invalid storage type: ${f}`);H=t.sessionStorage.getItem(f),r="Session Storage"}}catch(t){return e.rule_result=!1,e.rule_error=!0,e.rule_visual=`Error accessing ${r}: ${t.message}`,e}const o=`${r}[${f}] `;return"exists"===u?null==H?(e.rule_result=!1,e.rule_visual=`${o} does not exist.`,e):(e.rule_result=!0,e.rule_visual=`${o} exists.`,e):"does_not_exist"===u?null==H?(e.rule_result=!0,e.rule_visual=`${o} does not exist.`,e):(e.rule_result=!1,e.rule_visual=`${o} exists.`,e):"string"!=typeof H?(e.rule_visual=`${o} does not exist.`,e.rule_result="does_not_contain"===u||"does_not_start_with"===u||"does_not_end_with"===u||"does_not_equal"===u,e):"greater_than"!==u&&"less_than"!==u?Y(e,H):i.isStringAnInteger(H)?z(e,parseInt(H)):(e.rule_result=!1,e.rule_error=!0,e.rule_visual="value is not a number",e)}if(/^J_javascript_variable/.test(c)||"J_custom_condition"==c||/^P_/.test(c)){if(!f)return e.rule_result=!1,e.rule_error=!0,e.rule_visual="var name not specified in rule",e;/^\d+\s*-\s*/.test(f)&&(f=f.replace(/^\d+\s*-\s*/,""));let t="";try{t=A(f),null==t&&(t="")}catch(t){return e.rule_result=!1,e.rule_error=!0,e.rule_visual=`var ${f}: ${t.message}`,e}if("equals"!==u&&"does_not_equal"!==u||!i.isBoolean(_))if("greater_than"==u||"greater_than_or_equal"==u||"less_than"==u||"less_than_or_equal"==u){if("number"!=typeof t&&!i.isStringAnInteger(t))return e.rule_result=!1,e.rule_error=!0,e.rule_visual=`var ${f} is not a number: "${i.stringifyVal(t,15)}"`,e;z(e,parseInt(t))}else Y(e,t);else e.rule_val=i.asBoolean(_).toString(),Y(e,t.toString().toLowerCase());return e.rule_visual=`var ${f} ${e.rule_visual}`,e}return"J_javascript_function"==c?J(e):(e.rule_result=!0,e.rule_error=!0,e.rule_visual=`corrupted conditions with unknown rule type ${c}, please contact support`,e)}function j(e,t,r,o,i,n,s){const a=`Days since last ${t}`,l=`Time since last ${t}`;if(!r.lightbox_activity.hasOwnProperty(o)||-1==r.lightbox_activity[o][a])return e.rule_visual=`no ${t}s found for this box, so continue displaying`,e.rule_result=!0,e;const c=r.lightbox_activity[o][l],u=Math.floor(c/864e5),_=c%864e5,d=Math.floor(_/36e5),g=_%36e5,f=Math.floor(g/6e4),p=c/864e5,I=n.includes(".")?p.toFixed(1):Math.floor(p),h=`${u} days, ${d} hours, ${f} minutes`;if("greater_than"==i){const t=Math.floor(24*parseFloat(n)*60*60*1e3);e.rule_result=c>t,e.rule_visual=`${I} GREATER THAN ${n} (actual time: ${h})`}else if("greater_than_or_equal"==i){const t=Math.floor(24*parseFloat(n)*60*60*1e3);e.rule_result=c>=t,e.rule_visual=`${I} GREATER OR EQUAL ${n} (actual time: ${h})`}else if("less_than"==i){const t=Math.floor(24*parseFloat(n)*60*60*1e3);e.rule_result=c<t,e.rule_visual=`${I} LESS THAN ${n} (actual time: ${h})`}else if("less_than_or_equal"==i){const t=Math.floor(24*parseFloat(n)*60*60*1e3);e.rule_result=c<=t,e.rule_visual=`${I} LESS OR EQUAL ${n} (actual time: ${h})`}else if("equals"==i){const t=parseInt(n);e.rule_result=u>=t&&u<t+1,e.rule_visual=`${I} EQUALS ${t} (actual time: ${h})`}else if("does_not_equal"==i){const t=parseInt(n);e.rule_result=!(u>=t&&u<t+1),e.rule_visual=`${I} DOES NOT EQUAL ${t} (actual time: ${h})`}else"in_set"==i?(e.rule_result=s.some((e=>{const t=parseInt(e);return u>=t&&u<t+1})),e.rule_visual=`${I} EQUALS ANY OF [${s.join(",")}] (actual time: ${h})`):"not_in_set"==i?(e.rule_result=!s.some((e=>{const t=parseInt(e);return u>=t&&u<t+1})),e.rule_visual=`${I} DOES NOT EQUAL ANY OF [${s.join(",")}] (actual time: ${h})`):(e.rule_visual="invalid operator: "+i,e.rule_error=!0,e.result=!1);return e}function J(e){e.rule_func=J.name;const t=e.rule_val;if(!t||/^\s+$/.test(t))return e.rule_error=!0,e.rule_result=!1,e.rule_visual="JS Function was not specified in rule",e;const r=i.decodeHtml(t),o=`{${i.stringifyVal(r,15)}}`;let n;try{n=Function("'use strict';"+r)()}catch(t){return e.rule_result=!1,e.rule_error=!0,e.rule_visual=`condition function error: ${o} -> ${t.message}`,e}return"boolean"!=typeof n?(e.rule_result=!1,e.rule_error=!0,e.rule_visual=`invalid condition function returned non-boolean type: ${o} -> ${typeof n}`,e):(e.rule_result=n,e.rule_visual=`${o} -> ${n}`,e)}function V(e,t){e.rule_func=V.name;const r=e.rule_operator,o=e.rule_set,n=e.rule_val;try{if("equals"==r)return e.rule_visual="Array EQUALS "+n,e.rule_result=s.inArray(n,t)>-1,e;if("does_not_equal"==r)return e.rule_visual="Array DOES NOT EQUAL "+n,e.rule_result=-1===s.inArray(n,t),e;if("starts_with"==r){if(""==n)return e.rule_visual="Array STARTS WITH "+n,e.rule_result=!1,e;e.rule_visual="Array STARTS WITH "+n;for(var a=!1,l=0;l<t.length;l++)i.stringStartsWith(t[l],n)&&(a=!0);return e.rule_result=a,e}if("does_not_start_with"==r){if(""==n)return e.rule_visual="Array DOES NOT START WITH "+n,e.rule_result=!1,e;e.rule_visual="Array DOES NOT START WITH "+n;for(a=!1,l=0;l<t.length;l++)i.stringStartsWith(t[l],n)&&(a=!0);return e.rule_result=!a,e}if("ends_with"==r){if(""==n)return e.rule_visual="Array ENDS WITH "+n,e.rule_result=!1,e;e.rule_visual="Array ENDS WITH "+n;for(a=!1,l=0;l<t.length;l++)i.stringEndsWith(t[l],n)&&(a=!0);return e.rule_result=a,e}if("does_not_end_with"==r){if(""==n)return e.rule_visual="Array DOES NOT END WITH "+n,e.rule_result=!1,e;e.rule_visual="Array DOES NOT END WITH "+n;for(a=!1,l=0;l<t.length;l++)i.stringEndsWith(t[l],n)&&(a=!0);return e.rule_result=!a,e}if("contains"==r){if(""==n)return e.rule_visual="Array CONTAINS "+n,e.rule_result=!1,e;e.rule_visual="Array CONTAINS "+n;for(a=!1,l=0;l<t.length;l++)t[l].indexOf(n)>=0&&(a=!0);return e.rule_result=a,e}if("does_not_contain"==r){if(""==n)return e.rule_visual="Array DOES NOT CONTAIN "+n,e.rule_result=!1,e;e.rule_visual="Array DOES NOT CONTAIN "+n;for(a=!1,l=0;l<t.length;l++)t[l].indexOf(n)>=0&&(a=!0);return e.rule_result=!a,e}if("in_set"==r){for(var c=0;c<o.length;c++)for(var u=0;u<t.length;u++)if(t[u]==o[c])return e.rule_visual="Array MATCHED VALUE #"+c+" IN GROUP",e.rule_result=!0,e;return e.rule_visual="Array MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(c=0;c<o.length;c++)for(u=0;u<t.length;u++)if(t[u]==o[c])return e.rule_visual="Array MATCHED VALUE #"+c+" IN GROUP",e.rule_result=!1,e;return e.rule_visual="Array MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}if("in_set_contains"==r){for(c=0;c<o.length;c++)for(u=0;u<t.length;u++)if(""!=o[c]&&t[u].indexOf(o[c])>=0)return e.rule_visual="Array CONTAINS VALUE #"+c+" IN GROUP ("+o[c]+")",e.rule_result=!0,e;return e.rule_visual="Array CONTAINS NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set_contains"==r){for(c=0;c<o.length;c++)for(u=0;u<t.length;u++)if(""!=o[c]&&t[u].indexOf(o[c])>=0)return e.rule_visual="Array CONTAINS VALUE #"+c+" IN GROUP ("+o[c]+")",e.rule_result=!1,e;return e.rule_visual="Array CONTAINS NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function Y(e,t){e.rule_func=Y.name;const r=e.rule_operator,o=e.rule_set,n=e.rule_val,s=k(t),a=k(n,50);try{if("string"!=typeof t&&(t=void 0!==t?String(t):""),"equals"==r)return e.rule_visual=s+" EQUALS "+a,e.rule_result=t==n,e;if("does_not_equal"==r)return e.rule_visual=s+" DOES NOT EQUAL "+a,e.rule_result=t!=n,e;if("starts_with"==r)return""==n?(e.rule_visual=s+" STARTS WITH "+a,e.rule_result=!1,e):(e.rule_visual=s+" STARTS WITH "+a,e.rule_result=i.stringStartsWith(t,n),e);if("does_not_start_with"==r)return""==n?(e.rule_visual=s+" DOES NOT START WITH "+a,e.rule_result=!1,e):(e.rule_visual=s+" DOES NOT START WITH "+a,e.rule_result=!i.stringStartsWith(t,n),e);if("ends_with"==r)return""==n?(e.rule_visual=s+" ENDS WITH "+a,e.rule_result=!1,e):(e.rule_visual=s+" ENDS WITH "+a,e.rule_result=i.stringEndsWith(t,n),e);if("does_not_end_with"==r)return""==n?(e.rule_visual=s+" DOES NOT END WITH "+a,e.rule_result=!1,e):(e.rule_visual=s+" DOES NOT END WITH "+a,e.rule_result=!i.stringEndsWith(t,n),e);if("contains"==r)return""==n?(e.rule_visual=s+" CONTAINS "+a,e.rule_result=!1,e):(e.rule_visual=s+" CONTAINS "+a,e.rule_result=t.indexOf(n)>=0,e);if("does_not_contain"==r)return""==n?(e.rule_visual=s+" DOES NOT CONTAIN "+a,e.rule_result=!1,e):(e.rule_visual=s+" DOES NOT CONTAIN "+a,e.rule_result=-1==t.indexOf(n),e);if("in_set"==r){for(var l=0;l<o.length;l++)if(t==o[l])return e.rule_visual=s+" MATCHED VALUE #"+l+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=s+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(l=0;l<o.length;l++)if(t==o[l])return e.rule_visual=s+" MATCHED VALUE #"+l+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=s+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}if("in_set_contains"==r){for(l=0;l<o.length;l++)if(""!=o[l]&&t.indexOf(o[l])>=0)return e.rule_visual=s+" CONTAINS VALUE #"+l+" IN GROUP ("+o[l]+")",e.rule_result=!0,e;return e.rule_visual=s+" CONTAINS NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set_contains"==r){for(l=0;l<o.length;l++)if(""!=o[l]&&t.indexOf(o[l])>=0)return e.rule_visual=s+" CONTAINS VALUE #"+l+" IN GROUP ("+o[l]+")",e.rule_result=!1,e;return e.rule_visual=s+" CONTAINS NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function F(e,t){e.rule_func=F.name;const r=e.rule_operator,o=e.rule_set,n=e.rule_val;try{if("equals"==r)return e.rule_visual=t+" EQUALS "+n,e.rule_result=i.compareUrlEqualityWithAndWithoutTrailingSlash(t,n),e;if("does_not_equal"==r)return e.rule_visual=t+" DOES NOT EQUAL "+n,e.rule_result=!i.compareUrlEqualityWithAndWithoutTrailingSlash(t,n),e;if("starts_with"==r)return""==n?(e.rule_visual=t+" STARTS WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" STARTS WITH "+n,e.rule_result=i.stringStartsWith(t.toLowerCase(),n.toLowerCase()),e);if("does_not_start_with"==r)return""==n?(e.rule_visual=t+" DOES NOT START WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT START WITH "+n,e.rule_result=!i.stringStartsWith(t.toLowerCase(),n.toLowerCase()),e);if("ends_with"==r)return""==n?(e.rule_visual=t+" ENDS WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" ENDS WITH "+n,e.rule_result=i.compareUrlEndingWithAndWithoutTrailingSlash(t,n),e);if("does_not_end_with"==r)return""==n?(e.rule_visual=t+" DOES NOT END WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT END WITH "+n,e.rule_result=!i.compareUrlEndingWithAndWithoutTrailingSlash(t,n),e);if("contains"==r)return""==n?(e.rule_visual=t+" CONTAINS "+n,e.rule_result=!1,e):(e.rule_visual=t+" CONTAINS "+n,e.rule_result=t.toLowerCase().indexOf(n.toLowerCase())>=0,e);if("does_not_contain"==r)return""==n?(e.rule_visual=t+" DOES NOT CONTAIN "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT CONTAIN "+n,e.rule_result=-1==t.toLowerCase().indexOf(n.toLowerCase()),e);if("in_set"==r){var s=[];i.stringOrArrayContains(t,"|")?s=t.split("|"):t&&s.push(t);for(var a=0;a<o.length;a++)for(let t=0;t<s.length;t++)if(i.compareUrlEqualityWithAndWithoutTrailingSlash(s[t],o[a]))return e.rule_visual=s[t]+" MATCHED VALUE #"+a+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=(s.length>0?s[s.length-1]:"No navigated url available")+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){s=[];i.stringOrArrayContains(t,"|")?s=t.split("|"):t&&s.push(t);for(a=0;a<o.length;a++)for(let t=0;t<s.length;t++)if(i.compareUrlEqualityWithAndWithoutTrailingSlash(s[t],o[a]))return e.rule_visual=s[t]+" MATCHED VALUE #"+a+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=(s.length>0?s[s.length-1]:"No navigated url available")+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}if("in_set_contains"==r){s=[];i.stringOrArrayContains(t,"|")?s=t.split("|"):t&&s.push(t);for(a=0;a<o.length;a++)for(let t=0;t<s.length;t++)if(""!=o[a]&&s[t].toLowerCase().indexOf(o[a].toLowerCase())>=0)return e.rule_visual=s[t]+" CONTAINS VALUE #"+a+" IN GROUP ("+o[a]+")",e.rule_result=!0,e;return e.rule_visual=(s.length>0?s[s.length-1]:"No navigated url available")+" CONTAINS NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set_contains"==r){s=[];i.stringOrArrayContains(t,"|")?s=t.split("|"):t&&s.push(t);for(a=0;a<o.length;a++)for(let t=0;t<s.length;t++)if(""!=o[a]&&s[t].toLowerCase().indexOf(o[a].toLowerCase())>=0)return e.rule_visual=s[t]+" CONTAINS VALUE #"+a+" IN GROUP ("+o[a]+")",e.rule_result=!1,e;return e.rule_visual=(s.length>0?s[s.length-1]:"No navigated url available")+" CONTAINS NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function X(e,t){e.rule_func=X.name;const r=e.rule_operator,o=e.rule_set,n=e.rule_val;try{if("equals"==r)return e.rule_visual=t+" EQUALS "+n,e.rule_result=i.compareUrlEqualityWithAndWithoutTrailingSlash(t,n),e;if("does_not_equal"==r)return e.rule_visual=t+" DOES NOT EQUAL "+n,e.rule_result=!i.compareUrlEqualityWithAndWithoutTrailingSlash(t,n),e;if("starts_with"==r)return""==n?(e.rule_visual=t+" STARTS WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" STARTS WITH "+n,e.rule_result=i.stringStartsWith(t.toLowerCase(),n.toLowerCase()),e);if("does_not_start_with"==r)return""==n?(e.rule_visual=t+" DOES NOT START WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT START WITH "+n,e.rule_result=!i.stringStartsWith(t.toLowerCase(),n.toLowerCase()),e);if("ends_with"==r)return""==n?(e.rule_visual=t+" ENDS WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" ENDS WITH "+n,e.rule_result=i.compareUrlEndingWithAndWithoutTrailingSlash(t,n),e);if("does_not_end_with"==r)return""==n?(e.rule_visual=t+" DOES NOT END WITH "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT END WITH "+n,e.rule_result=!i.compareUrlEndingWithAndWithoutTrailingSlash(t,n),e);if("contains"==r)return""==n?(e.rule_visual=t+" CONTAINS "+n,e.rule_result=!1,e):(e.rule_visual=t+" CONTAINS "+n,e.rule_result=t.toLowerCase().indexOf(n.toLowerCase())>=0,e);if("does_not_contain"==r)return""==n?(e.rule_visual=t+" DOES NOT CONTAIN "+n,e.rule_result=!1,e):(e.rule_visual=t+" DOES NOT CONTAIN "+n,e.rule_result=-1==t.toLowerCase().indexOf(n.toLowerCase()),e);if("in_set"==r){for(var s=0;s<o.length;s++)if(i.compareUrlEqualityWithAndWithoutTrailingSlash(t,o[s]))return e.rule_visual=t+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(s=0;s<o.length;s++)if(i.compareUrlEqualityWithAndWithoutTrailingSlash(t,o[s]))return e.rule_visual=t+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}if("in_set_contains"==r){for(s=0;s<o.length;s++)if(""!=o[s]&&t.toLowerCase().indexOf(o[s].toLowerCase())>=0)return e.rule_visual=t+" CONTAINS VALUE #"+s+" IN GROUP ("+o[s]+")",e.rule_result=!0,e;return e.rule_visual=t+" CONTAINS NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set_contains"==r){for(s=0;s<o.length;s++)if(""!=o[s]&&t.toLowerCase().indexOf(o[s].toLowerCase())>=0)return e.rule_visual=t+" CONTAINS VALUE #"+s+" IN GROUP ("+o[s]+")",e.rule_result=!1,e;return e.rule_visual=t+" CONTAINS NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function W(e,t){e.rule_func=W.name;const r=e.rule_operator,o=e.rule_set,i=e.rule_val;var n=t;try{if("equals"==r)return n=i&&-1===i.indexOf("Desktop/Laptop")&&-1===i.indexOf("Phone/Tablet")?p()?"Phone":f()?"Tablet":"Desktop":t,e.rule_visual=n+" EQUALS "+i,e.rule_result=n==i,e;if("does_not_equal"==r)return n=i&&-1===i.indexOf("Desktop/Laptop")&&-1===i.indexOf("Phone/Tablet")?p()?"Phone":f()?"Tablet":"Desktop":t,e.rule_visual=n+" DOES NOT EQUAL "+i,e.rule_result=n!=i,e;if("in_set"==r){for(var s=0;s<o.length;s++)if((n=o[s]&&-1===o[s].indexOf("Desktop/Laptop")&&-1===o[s].indexOf("Phone/Tablet")?p()?"Phone":f()?"Tablet":"Desktop":t)==o[s])return e.rule_visual=n+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=n+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(s=0;s<o.length;s++)if((n=o[s]&&-1===o[s].indexOf("Desktop/Laptop")&&-1===o[s].indexOf("Phone/Tablet")?p()?"Phone":f()?"Tablet":"Desktop":t)==o[s])return e.rule_visual=n+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=n+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function Q(e){e.rule_func=Q.name;const t=e.rule_operator,r=e.rule_set,o=e.rule_val;var i="en";var n=function(){if("object"==typeof navigator){var e,t="anguage",r=navigator;return(e=r["l"+t+"s"])&&e.length?e:(t=r["l"+t]||r["browserL"+t]||r["userL"+t])?[t]:t}}();"object"==typeof n&&null!=n&&n.length>0&&(i=n[0]);var s=i;try{if("equals"==t)return s=o&&-1===o.indexOf("_")?i.split("-")[0]:i.split("-").join("_"),e.rule_visual=s+" EQUALS "+o,e.rule_result=s.toLowerCase()==o.toLowerCase(),e;if("does_not_equal"==t)return s=o&&-1===o.indexOf("_")?i.split("-")[0]:i.split("-").join("_"),e.rule_visual=s+" DOES NOT EQUAL "+o,e.rule_result=s.toLowerCase()!=o.toLowerCase(),e;if("in_set"==t){for(var a=0;a<r.length;a++)if((s=r[a]&&-1===r[a].indexOf("_")?i.split("-")[0]:i.split("-").join("_")).toLowerCase()==r[a].toLowerCase())return e.rule_visual=s+" MATCHED VALUE #"+a+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=s+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==t){for(a=0;a<r.length;a++)if((s=r[a]&&-1===r[a].indexOf("_")?i.split("-")[0]:i.split("-").join("_")).toLowerCase()==r[a].toLowerCase())return e.rule_visual=s+" MATCHED VALUE #"+a+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=s+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+t,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function q(e,t){e.rule_func=q.name;const r=e.rule_operator,o=e.rule_set,i=e.rule_val;try{if("equals"==r)return e.rule_visual=t+" EQUALS "+i,e.rule_result=t==i,e;if("does_not_equal"==r)return e.rule_visual=t+" DOES NOT EQUAL "+i,e.rule_result=t!=i,e;if("in_set"==r){for(var n=0;n<o.length;n++)if(t==o[n])return e.rule_visual=t+" MATCHED VALUE #"+n+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(n=0;n<o.length;n++)if(t==o[n])return e.rule_visual=t+" MATCHED VALUE #"+n+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function $(e){return e<=1e3?"slow":e<=3e3?"medium":e<=4500?"fast":"very fast"}function z(e,t){e.rule_func=z.name;const r=e.rule_operator,o=e.rule_set,n=e.rule_val;try{if("equals"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" EQUALS "+n,e.rule_result=t==parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("does_not_equal"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" DOES NOT EQUAL "+n,e.rule_result=t!=parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("less_than"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" LESS THAN "+n,e.rule_result=t<parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("less_than_or_equal"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" LESS OR EQUAL "+n,e.rule_result=t<=parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("greater_than"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" GREATER THAN "+n,e.rule_result=t>parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("greater_than_or_equal"==r)return i.isStringAnInteger(n)?(e.rule_visual=t+" GREATER OR EQUAL "+n,e.rule_result=t>=parseInt(n),e):(e.rule_error=!0,e.rule_visual="value is not a number",e);if("in_set"==r){for(var s=0;s<o.length;s++)if(i.isStringAnInteger(o[s])&&t==parseInt(o[s]))return e.rule_visual=t+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!0,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!1,e}if("not_in_set"==r){for(s=0;s<o.length;s++)if(i.isStringAnInteger(o[s])&&t==parseInt(o[s]))return e.rule_visual=t+" MATCHED VALUE #"+s+" IN GROUP",e.rule_result=!1,e;return e.rule_visual=t+" MATCHED NO VALUES IN GROUP",e.rule_result=!0,e}return e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function K(e,t){e.rule_func=K.name;const r=e.rule_operator,o=e.rule_start_date,i=e.rule_end_date;try{var n,s,a,l,c,u=[];return-1==t.indexOf("/")?(e.rule_visual="comparison date in invalid format, does not contain slash: "+t,e.rule_error=!0,e):3!=(s=t.split("/")).length?(e.rule_visual="comparison date in invalid format, less than 3 date parts: "+t,e.rule_error=!0,e):(c=new Date(parseInt(s[2]),parseInt(s[0]-1),parseInt(s[1]),0,0,0),-1==o.indexOf("/")?(e.rule_visual="start date in invalid format, does not contain slash: "+o,e.rule_error=!0,e):3!=(n=o.split("/")).length?(e.rule_visual="start date in invalid format, less than 3 date parts: "+o,e.rule_error=!0,e):(a=new Date(parseInt(n[2]),parseInt(n[0]-1),parseInt(n[1]),0,0,0),"equals"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" EQUALS "+o,e.rule_result=c.getTime()==a.getTime(),e):"does_not_equal"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" DOES NOT EQUAL "+o,e.rule_result=c.getTime()!=a.getTime(),e):"less_than"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" LESS THAN "+o,e.rule_result=c.getTime()<a.getTime(),e):"less_than_or_equal"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" LESS OR EQUAL "+o,e.rule_result=c.getTime()<=a.getTime(),e):"greater_than"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" GREATER THAN "+o,e.rule_result=c.getTime()>a.getTime(),e):"greater_than_or_equal"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" GREATER OR EQUAL "+o,e.rule_result=c.getTime()>=a.getTime(),e):"between"==r||"is_not_between"==r?-1==i.indexOf("/")?(e.rule_visual="end date in invalid format, does not contain slash: "+i,e.rule_error=!0,e):3!=(u=i.split("/")).length?(e.rule_visual="end date in invalid format, less than 3 date parts: "+i,e.rule_error=!0,e):(l=new Date(parseInt(u[2]),parseInt(u[0]-1),parseInt(u[1]),0,0,0)).getTime()<a.getTime()?(e.rule_visual="start date must be less than or equal to end date: "+o+" (start date), "+i+" (end date)",e.rule_error=!0,e):"between"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" BETWEEN "+o+", "+i,e.rule_result=c.getTime()>=a.getTime()&&c.getTime()<=l.getTime(),e):"is_not_between"==r?(e.rule_visual=c.getMonth()+1+"/"+c.getDate()+"/"+c.getFullYear()+" IS NOT BETWEEN "+o+", "+i,e.rule_result=c.getTime()<a.getTime()||c.getTime()>l.getTime(),e):(e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e):(e.rule_visual="invalid operator: "+r,e.rule_error=!0,e.result=!1,e)))}catch(t){return e.rule_error=!0,e.rule_result=!1,e.rule_visual=t.message,e}}function Z(){try{for(var e=0;e<h.length;e++)s(h[e]).length?d().VARS.exists_jquery_selector[h[e]]=!0:d().VARS.exists_jquery_selector[h[e]]=!1}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"initExistsSelectors")}}function ee(e,t){try{var r=T("hover","",e,!1);r&&r.length>0&&(n.log("checkConditionsHover, true "+r),t(r))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"checkConditionsHover")}}function te(e){try{for(var t="",r="",o=G,i=0;i<o.length;i++)y.hasOwnProperty(o[i])||(y[o[i]]=!1),(t=T("scroll",o[i],"",!1))&&t.length>0?(""!==r||y[o[i]]||(r=t),y[o[i]]=!0):y[o[i]]=!1;r&&r.length>0&&(n.log("loadLightbox: checkConditionsScroll, "+r),e(r))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"checkConditionsScroll")}}function re(e){try{if(I){var t=T("exit","","",!0);n.log("checkConditionsExit:  AllowMultipleBoxes(true) => lbguidsMatched => "+JSON.stringify(t));for(var r=0;r<t.length;r++)t[r]&&t[r].length>0&&(n.log("loadLightbox: checkConditionsExit, "+t[r]),e(t[r]))}else{var o=T("exit","","",!1);n.log("checkConditionsExit:  AllowMultipleBoxes(false) => lbguidMatched => "+o),o&&o.length>0&&(n.log("checkConditionsExit, true "+o),e(o))}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"checkConditionsExit")}}function oe(e,t){try{for(const r of e)for(const e of r||[]){if(e.p===t)return e.v;if("R_ruleset"===e.p&&u?.[e.v]&&oe(u[e.v],t))return!0}}catch(e){n.logError(e,"rulesetHasProp")}return!1}function ie(e,t){try{for(const r of e.conditions)for(const e of r||[]){if(e.p===t)return e.v;if("R_ruleset"===e.p&&u?.[e.v]&&oe(u[e.v],t))return!0}}catch(e){n.logError(e,"cInfoHasProp")}return!1}return{buildConditionSelectorsToBoxesMap:R,checkConditions:T,evalConditions:M,getConditionsOutput:function(e,t=!1){const r=U(e,t),o=r.detail||r.failingRulesLinearPrintable.join("\n");return`--Summary-------------------------\n${r.summary}\n${o}\n--Rules---------------------------\n${r.resultsLinearPrintable.join("\n")}\n`},checkConditionsTime:function(e){try{for(let t of E){if(v[t])continue;if(C(l[t])){e(t),v[t]=!0;break}}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"checkConditionsTime")}},resetConditionsTime:function(){v={}},initExistsSelectors:Z,recheckExistsSelectors:function(){Z()},initClickSelectors:function(e){try{for(var t=0;t<O.length;t++)d().VARS.click_jquery_selector[O[t]]=!1,s(r).off("click",O[t]),s(r).on("click",O[t],(function(t){for(var r=s(this)[0],o=0;o<O.length;o++)for(var i=s(O[o]),a=0;a<i.length;a++)if(i[a]===r){d().VARS.click_jquery_selector[O[o]]=!0;var l=O[o],c=T("click","",l,!1);if(c&&c.length>0&&(t.preventDefault(),n.log("initClickSelectors, true "+c),e(c)),d().VARS.click_jquery_selector[l]=!1,!I)break}}))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"initClickSelectors")}},initHoverSelectors:function(e){try{for(var t=0;t<m.length;t++)d().VARS.hover_jquery_selector[m[t]]=!1,s(m[t]).mouseenter((function(){for(var t=s(this)[0],r=0;r<m.length;r++)for(var o=s(m[r]),i=0;i<o.length&&(o[i]!==t||(d().VARS.hover_jquery_selector[m[r]]=!0,ee(m[r],e),I));i++);})).mouseleave((function(){for(var e=s(this)[0],t=0;t<m.length;t++)for(var r=s(m[t]),o=0;o<r.length&&(r[o]!==e||(d().VARS.hover_jquery_selector[m[t]]=!1,I));o++);}))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"initHoverSelectors")}},checkConditionsHover:ee,initScrollSelectors:function(e){try{if(G.length>0){const o=s(r),i=s(t);i.scroll((function(){var t=i.scrollTop(),r=Date.now();if(void 0!==d().VARS.last_scroll_time&&void 0!==d().VARS.last_scroll_top){var n=(r-d().VARS.last_scroll_time)/1e3,s=Math.abs(t-d().VARS.last_scroll_top);if(n>0){var a=Math.round(s/n);d().VARS.scroll_speed=a,d().VARS.scroll_speed_category=$(a)}}d().VARS.scroll_pixels=Math.round(t),d().VARS.scroll_percent=Math.round(100*t/(o.height()-i.height())),d().VARS.last_scroll_top=t,d().VARS.last_scroll_time=r,te(e)})),n.log("initScrollSelectors")}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"initScrollSelectors")}},checkConditionsScroll:te,resetConditionsScroll:function(){y={}},initExitSelectors:function(e){try{if(D.length>0){var i=-1,a=-1,l=-1,c=-1,u=0,_=0,g=0,f="",p="";const m=s(r),v=s(t);var I=v.width(),h=v.height(),O=v.scrollTop();m.mousemove((function(e){i=e.pageX,a=e.pageY,_=Math.abs(i-l),g=Math.abs(a-c),l>-1&&c>-1&&(u=Math.max(_,g)),i<l?f="right":i>l&&(f="left"),a>c?p="down":a<c&&(p="up"),l=i,c=a})),m.mouseleave((function(t){O=v.scrollTop(),i=t.clientX+v.scrollLeft(),a=t.clientY+v.scrollTop(),I=v.width(),h=v.height(),n.log(`Captured coordinates: (${i}, ${a}), Viewport dimensions: (${I}, ${h})`),_=Math.abs(i-l),g=Math.abs(a-c),u=Math.max(_,g),f=i<l?"left":i>l?"right":"",p=a<c?"up":a>c?"down":"",n.log(`Exit intent detected with mousetravel = ${u}, directionx = ${f}, directiony = ${p}`),"right"==f&&i>I-200&&a>O+50&&a<h+O-50&&u>0&&_>=g/2?(d().VARS.exit_intent="Mouse exits window right",n.log("Exit intent: Mouse exits window right"),re(e),m.trigger("lightboxExitEvent",["right"])):"left"==f&&i<200&&a>O+50&&a<h+O-50&&u>0&&_>=g/2?(d().VARS.exit_intent="Mouse exits window left",n.log("Exit intent: Mouse exits window left"),re(e),m.trigger("lightboxExitEvent",["left"])):"up"==p&&a<O+200&&u>0?(d().VARS.exit_intent="Mouse exits window top",n.log("Exit intent: Mouse exits window top"),re(e),m.trigger("lightboxExitEvent",["top"])):"down"==p&&a>h+O-100&&u>0?(d().VARS.exit_intent="Mouse exits window bottom",n.log("Exit intent: Mouse exits window bottom"),re(e),m.trigger("lightboxExitEvent",["bottom"])):"Safari"==o.GET_ANALYTICS().VARS.DeviceAtlas.browserName&&(d().VARS.exit_intent="Mouse exits window top",n.log("Exit intent: Mouse exits window from unknown position in Safari.  Registering Exit intent anyway."),re(e),m.trigger("lightboxExitEvent",["unknown"])),l=i,c=a,setTimeout((function(){d().VARS.exit_intent=""}),1e3)})),v.resize((function(){I=v.width(),h=v.height(),O=v.scrollTop()}))}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"initExitSelectors")}},checkConditionsExit:re,addExistsSelector:function(e){-1==s.inArray(e,h)&&(h.push(e),R(),Z(),n.log("addExistsSelector: "+e))},removeExistsSelector:function(e){var t=s.inArray(e,h);t>-1&&(h.splice(t,1),b.exists.hasOwnProperty(e)&&delete b.exists[e],R(),Z(),n.log("removeExistsSelector: "+e))},getExistsSelectors:function(){return h},evalBoxConditions:C,getStructuredConditionsResults:U,setSuppressionReason:function(e,t){const r=l[e];try{const o=`setSuppressionReason(${e},${t})`;if(!r)throw new Error(`${o} - invalid box guid`)}catch(e){return n.logError(e),!1}return H[r]=t,!0},openConditionsMonitor:function(e){if(e("#digiohConditionsContainer").length)return;let t=!1;var n=e('<div id="digiohConditionsContainer"></div>').css({backgroundColor:"#fff",padding:"20px",border:"4px solid black",borderRadius:"3px",width:"33%",maxHeight:"100vh",position:"fixed",top:"0",right:"0",zIndex:9948033,overflowY:"auto",overflowX:"hidden"}),s=e('<div id="conditionsTitle">&#9776; Conditions Monitor</div>').css({"margin-bottom":"20px","font-size":"24px",cursor:"move"});n.append(s);var a=e('<button id="closeConditionsMonitor">CLOSE</button>').css({position:"absolute",top:"20px",right:"20px",fontSize:"16px",padding:"2px 5px",cursor:"pointer"});a.on("click",(function(){n.remove(),clearInterval(p)})),n.append(a);var l,c,u,_=o.getAllBoxIds(),d=e('<div id="conditionsList"></div>'),g={};function f(e){for(var t="<ul>",r=!1,o=0;o<e.length;o++){var n=e[o];0===n.indexOf("OR block")?(r&&(t+="</ul></li>",r=!1),t+="<li><strong>"+i.escapeHtml(n)+"</strong><ul>",r=!0):t+="<li>"+i.escapeHtml(n)+"</li>"}return r&&(t+="</ul></li>"),t+="</ul>"}_.forEach((function(r){var n,s=o.getBoxName(r),a=o.getStructuredConditionsResults(r,t),l=i.escapeHtml(r)+": <strong>"+i.escapeHtml(s)+"</strong> - "+i.escapeHtml(a.summary);n=!0===a.passed?"#c8e6c9":!1===a.passed?"#ffcdd2":"#e0e0e0";var c=e('<div class="conditionsHeader"></div>').html(l).css({padding:"10px",cursor:"pointer",marginTop:"10px",backgroundColor:n}),u=e('<div class="conditionsContent"></div>').css({display:"none",padding:"10px",border:"1px solid #ddd"}),_=e('<div class="conditionsDetail"></div>').html("<strong>Detail:</strong> "+i.escapeHtml(a.detail));a.detail||_.hide(),u.append(_);var p=e('<div class="failingRules"></div>');if(Array.isArray(a.failingRulesLinearPrintable)&&a.failingRulesLinearPrintable.length>0){var I="<strong>Failing Rules:</strong><ul>";a.failingRulesLinearPrintable.forEach((function(e){I+="<li>"+i.escapeHtml(e)+"</li>"})),I+="</ul>",p.html(I)}u.append(p);var h=e('<div class="resultsRules"></div>');if(Array.isArray(a.resultsLinearPrintable)&&a.resultsLinearPrintable.length>0){var O="<strong>All Rules:</strong>"+f(a.resultsLinearPrintable);h.html(O)}u.append(h),c.on("click",(function(){u.slideToggle()})),d.append(c).append(u),g[r]={header:c,detail:_,failRules:p,resultsRules:h}})),n.append(d),e("body").append(n),l=!1,c=0,u=0,n.find("#conditionsTitle").on("mousedown",(function(e){l=!0;var t=n.offset();c=e.pageX-t.left,u=e.pageY-t.top,e.preventDefault()})),e(r).on("mousemove",(function(e){l&&n.css({left:e.pageX-c,top:e.pageY-u})})),e(r).on("mouseup",(function(){l=!1}));var p=setInterval((function(){Object.keys(g).forEach((function(e){!function(e){var r,n=o.getBoxName(e),s=o.getStructuredConditionsResults(e,t),a=i.escapeHtml(e)+": <strong>"+i.escapeHtml(n)+"</strong> - "+i.escapeHtml(s.summary);if(r=!0===s.passed?"#c8e6c9":!1===s.passed?"#ffcdd2":"#e0e0e0",g[e].header.html(a).css({backgroundColor:r}),s.detail?g[e].detail.html("<strong>Detail:</strong> "+i.escapeHtml(s.detail)).show():g[e].detail.hide(),Array.isArray(s.failingRulesLinearPrintable)&&s.failingRulesLinearPrintable.length>0){var l="<strong>Failing Rules:</strong><ul>";s.failingRulesLinearPrintable.forEach((function(e){l+="<li>"+i.escapeHtml(e)+"</li>"})),l+="</ul>",g[e].failRules.html(l)}else g[e].failRules.empty();if(Array.isArray(s.resultsLinearPrintable)&&s.resultsLinearPrintable.length>0){var c="<strong>All Rules:</strong>"+f(s.resultsLinearPrintable);g[e].resultsRules.html(c)}else g[e].resultsRules.empty()}(e)}))}),1e3)},hasEndPlatformListConditions:function(){try{for(const e of c){if(e)if(void 0!==e.has_list_rule?!!e.has_list_rule:ie(e,"P_in_list"))return!0}return!1}catch(e){return n.logError(e,"hasEndPlatformListConditions"),!1}},hasEndPlatformSegmentConditions:function(){try{for(const e of c){if(e)if(void 0!==e.has_segment_rule?!!e.has_segment_rule:ie(e,"P_in_segment"))return!0}return!1}catch(e){return n.logError(e,"hasEndPlatformSegmentConditions"),!1}}}}"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={createBoxConditionsModule:Qe});const qe=Qe({window:t,DIGIOH_API:DIGIOH_API,UTIL:DIGIOH_GUTIL,DLOG:DIGIOH_LOG,DIGIOH_LIGHTBOX_CONDITIONS:DIGIOH_LIGHTBOX_CONDITIONS,JQUERY_DIGIOH:JQUERY_DIGIOH,DIGIOH_COOKIE:DIGIOH_COOKIE,DIGIOH_LIGHTBOX_IDS:DIGIOH_LIGHTBOX_IDS,DIGIOH_LIGHTBOX_RULESETS:DIGIOH_LIGHTBOX_RULESETS,AB_BOXES_SKIP_MAP:J,getDigiohLightboxAnalytics:function(){return DIGIOH_LIGHTBOX_ANALYTICS},isInlineLightbox:De,isTablet:Qt,isPhone:Wt,AllowMultipleBoxes:DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes});function $e(e){return DIGIOH_LIGHTBOX_NAMES[DIGIOH_API.getBoxGUID(e)]}function ze(e=[],t=""){try{e.forEach((e=>qe.setSuppressionReason(e,t))),q(),DIGIOH_LIGHTBOX_ANALYTICS.loadLightboxActivity?.(),DIGIOH_API.isInitConditionsExecuted=!0,qe.buildConditionSelectorsToBoxesMap(),qe.initExistsSelectors(),Ke().then((()=>{!function(){for(var e of DIGIOH_LIGHTBOX_PRELOAD_ARR)ft(e)}(),qe.initClickSelectors(It),qe.initHoverSelectors(It),qe.initScrollSelectors(It),qe.initExitSelectors(It),Ze(),DIGIOH_LOG.log("STOPWATCH (initConditions finished) - "+Math.ceil(((new Date).getTime()-a)/1e3))}))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initConditions")}}qe.checkConditionsLoad=Ze,DIGIOH_API.getStructuredConditionsResults=qe.getStructuredConditionsResults,DIGIOH_API.getBoxName=$e,DIGIOH_API.getAllBoxIds=function(){return Object.values(DIGIOH_LIGHTBOX_IDS)};const Ke=async function(){const e=[];for(const t of DIGIOH_LIGHTBOX_INLINES){const r=t.GUID,o=DIGIOH_LIGHTBOX_IDS[r],i=qe.evalBoxConditions(o);Ee(t)?(qe.setSuppressionReason('Box configuration is "Always Display" which bypasses conditions'),e.push(ct(r))):i&&e.push(ct(r))}await Promise.all(e)};function Ze(){const e=!!DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes;const t=[];for(const e of Object.keys(DIGIOH_LIGHTBOX_IDS)){if(re(e))continue;const r=DIGIOH_LIGHTBOX_IDS[e];qe.evalBoxConditions(r)&&t.push(e)}0!=t.length&&(pt(t.shift()),e?t.forEach((e=>pt(e))):t.forEach((e=>qe.setSuppressionReason(e,'Sitewide Rule "Allow Multiple Boxes to Display Simultaneously" prevented box from displaying'))))}function et(e){const r=DIGIOH_CONFIG,o=G,i=D,n=DIGIOH_LIGHTBOX_MASTER_RULES||{},s=(DIGIOH_LIGHTBOX_ANALYTICS.VARS||{}).master_rules||{},a=r.USE_GLOBAL_BOX_SUPPRESSION||!1,l=s["Once per pageview"],c=s["Once per session"],u=s["Once per visitor"],_=s["Until form is submitted"],d=DIGIOH_STORAGE.isCookie()&&DIGIOH_STORAGE.areCookiesDisabled()||DIGIOH_STORAGE.isCrossDomain()&&!DIGIOH_CROSS_DOMAIN.isWorking,g=/ignore_lightbox_master_rules/.test(t.location?.href);if(lt(e))return"Box is already displaying";if(!re(e)&&a){if(DIGIOH_COOKIE.get("__bxsuppress",!0))return"Found customer suppression cookie __bxsuppress which suppresses ALL boxes";DIGIOH_COOKIE.set("__bxsuppress","1",1/48)}if(g)return"";let f="";if(!n.AllowMultipleBoxes){(o.some((e=>Z(e)||ee(e)||te(e)))||i.some((e=>Z(e)||ee(e)||te(e))))&&(f="Allow Multiple Boxes to Display Simultaneously")}return re(e)&&!1!==n.IgnoreForInlineBoxes||(!0===n.OneBoxPerVisitor&&!1===u?f="Limit to One Box per Visitor":!0===n.OneBoxPerSession&&!1===c?f="Limit to One Box per Session":!0===n.OneBoxPerPageview&&!1===l?f="Limit to One Box per Pageview":!0===n.StopAfterFormSubmitted&&!1===_?f="Do Not Show Boxes After Form Submission":!0===n.DisableIfCookiesDisabled&&d&&(f="Do Not Show Boxes to Visitors with Disabled Cookies")),f?`Sitewide Rule ${f} prevented box from displaying`:""}function tt(e){try{N[e].sidebar.auto_close.time>0&&t.setTimeout((function(){!H.hasOwnProperty(e)&&lt(e)&&Ot(e)}),1e3*N[e].sidebar.auto_close.time)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerCloseSidebarTime")}}function rt(e){try{const r=N[e].sidebar.auto_close,o=JQUERY_DIGIOH(t);if(r.scroll_up>0||r.scroll_down>0){w[e]=Math.round(o.scrollTop());const t=JQUERY_DIGIOH("body");t.hasClass("sidebar-body-scroll")||(t.addClass("sidebar-body-scroll"),o.scroll((function(){for(var e in w){if(H.hasOwnProperty(e)||!lt(e))continue;const t=N[e].sidebar.auto_close;(t.scroll_up>0&&w[e]-o.scrollTop()>=t.scroll_up||t.scroll_down>0&&o.scrollTop()-w[e]>=t.scroll_down)&&Ot(e)}}))),DIGIOH_LOG.log("registerCloseSidebarScroll")}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerCloseSidebarScroll")}}function ot(e){try{if(N[e].sidebar.auto_close.click){const t=JQUERY_DIGIOH("body");t.hasClass("sidebar-body-click")||t.addClass("sidebar-body-click"),JQUERY_DIGIOH(r).on(qt()?"touchstart":"mousedown",".sidebar-body-click",(function(t){qt()?setTimeout((function(){Ot(e)}),150):setTimeout((function(){Ot(e)}),50)}))}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerCloseSidebarClick")}}function it(){(DIGIOH_LIGHTBOX_ANALYTICS.VARS||{}).idle_time_seconds=++M}function nt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};e.total_time_seconds=++B,e.active_time_seconds=B-M,qe.checkConditionsTime(It)}async function st(e,t){const r=DIGIOH_API.CONFIG.CACHE_VALUES?.boxes??{};try{const o=DIGIOH_CONFIG.BOX_BASE_URL;if(t=t||g,!DIGIOH_API||!DIGIOH_API.LIGHTBOX)return!1;if(!0===DIGIOH_API.suppressBreakpoints)return!1;DIGIOH_API.LIGHTBOX.PixelThresholdSettings=DIGIOH_API.LIGHTBOX.PixelThresholdSettings||{};const i=DIGIOH_API.LIGHTBOX.PixelThresholdSettings;return i.hasOwnProperty(e)||(i[e]=""),DIGIOH_API.hasTriedLoadingBreakpointFile=DIGIOH_API.hasTriedLoadingBreakpointFile||{},DIGIOH_API.hasTriedLoadingBreakpointFile[e]?(DIGIOH_LOG.log("breakpoint_file: awaiting B"),await DIGIOH_API.hasTriedLoadingBreakpointFile[e]):DIGIOH_API.hasTriedLoadingBreakpointFile[e]||DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[e]||!l.isObj(DIGIOH_API.BREAKPOINT_POINTER[e])||(DIGIOH_LOG.log("breakpoint_file: trying to load breakpoints.js"),DIGIOH_API.hasTriedLoadingBreakpointFile[e]=new Promise((async(i,n)=>{let s=`${o}/vendor/${DIGIOH_VENDOR_GUID}/lightbox/${e}/breakpoints${t.resourceSuffix}`;r[e]&&(s=s.replace(/cb=.*&?/,"cb="+r[e])),DIGIOH_LOG.log("breakpoint_file_url: "+s);try{DIGIOH_LOG.log("tryLoadBreakpointFile started");var a=await async function(e){let t=new Promise((function(t,r){JQUERY_DIGIOH.ajax({url:e,crossDomain:!0,dataType:"script",cache:!0,success:function(){DIGIOH_LOG.log("breakpoint_file_download_success"),t("breakpoint_file_download_success")},complete:function(){DIGIOH_LOG.log("breakpoint_file_download_complete"),t("breakpoint_file_download_complete")},error:function(e,r,o){DIGIOH_LOG.log("breakpoint_file_download_error: "+r),t("breakpoint_file_download_error")}})})),r=await t;return DIGIOH_LOG.log("breakpoint_file: tryLoadBreakpointFile: "+r),r}(s);DIGIOH_LOG.log("tryLoadBreakpointFile finished: "+a),i("breakpoint_file_loaded")}catch(e){DIGIOH_LOG.log("breakpoint_file_error..."),console.error(e),n("breakpoint_file_error")}})),DIGIOH_LOG.log("breakpoint_file: awaiting A"),await DIGIOH_API.hasTriedLoadingBreakpointFile[e]),!0}catch(e){return DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"loadBreakpointsFile"),!1}}function at(e,r){try{if(!DIGIOH_API?.LIGHTBOX||!0===DIGIOH_API?.suppressBreakpoints)return!1;DIGIOH_API.LIGHTBOX.PixelThresholdSettings=DIGIOH_API.LIGHTBOX.PixelThresholdSettings||{};const c=DIGIOH_API.LIGHTBOX.PixelThresholdSettings;c[e]=c[e]||"";let u=c[e];const _=N[e];if(!r&&l.isObj(u))return!1;if("object"==typeof DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS&&!DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[e])return!1;var o=l.isObj(u)&&u.pixel_version?u.pixel_version:"",i=function(e,r){try{var o=!1;const u=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[e];if(l.isObj(u)){if(qt()){for(var i in u)if(0==i.indexOf("mobile")){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[e]=u[i],o=!0,DIGIOH_LOG.log("breakpoint_file: DIGIOH_API.LIGHTBOX.PixelThresholdSettings["+e+"] - foundMatch ("+r+") "+i);break}if(o)return!0}var n=[];for(var i in u){var s=0;(s=0==i.indexOf("mobile_")?parseInt(i.split("_")[1]):parseInt(i))>0&&-1===JQUERY_DIGIOH.inArray(s,n)&&n.push(s)}if(n.length>0){n.sort((function(e,t){return e-t}));var a=JQUERY_DIGIOH(t).width();(qt()||Qt())&&(a=Me());for(var c=0;c<n.length;c++)if(n[c]>a){if(u.hasOwnProperty(n[c].toString())){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[e]=u[n[c].toString()],o=!0,DIGIOH_LOG.log("breakpoint_file: DIGIOH_API.LIGHTBOX.PixelThresholdSettings["+e+"] - foundMatch ("+r+") "+n[c]);break}if(u.hasOwnProperty("mobile_"+n[c].toString())){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[e]=u["mobile_"+n[c].toString()],o=!0,DIGIOH_LOG.log("breakpoint_file: DIGIOH_API.LIGHTBOX.PixelThresholdSettings["+e+"] - foundMatch ("+r+") mobile_"+n[c]);break}}}}return o}catch(e){return!1}}(e,"Existing");if(!i){const t=Xt(e);t&&(c[e]=t)}if(u=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[e],_&&u){u.iframe&&(_.iframe=u.iframe);for(var n="",s=1;s<=102;s++){if(1==s)n="";else if(2==s)n="thx";else if(s>=3&&s<=6)n="ep"+(s-2);else if(s>=7&&(n="ep"+(s-2),!u.hasOwnProperty(n+"layout")))continue;const t=n+"layout",r=n+"width",o=n+"height";u.hasOwnProperty(t)&&(_[r]=u[t].width,_[o]=u[t].height,delete _.fullscreen,u.fullscreen?.use&&(_[r]="100vw",_[o]="100vh",_.fullscreen=u.fullscreen,Je(n,u[t].width,u[t].height,e))),_.edge_to_edge={use:!!u.edge_to_edge?.use},_.responsive={use:!!u.responsive?.use},["responsive_display","scaling"].forEach((e=>{const t=n+e;if(u.hasOwnProperty(t))for(var r in _[t]={},u[t])_[t][r]=u[t][r]}))}}var a="";return"object"==typeof u&&u.hasOwnProperty("pixel_version")&&(a=u.pixel_version),o!==a}catch(e){return DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"setPixelThreshold"),!1}}function lt(e){return G.includes(e)}const ct=async function(e,t,r){let o="";try{t=t||g,r=r||!1;await He(e,t);if(o=et(e),o)return!1;const n=N[e];if(!n)return!1;const s=n.inline;s.position_using;let a=function(e){const t=N[e];if(!t)return!1;const r=t.inline;if(!r||!r.position_using)return!1;switch(r.position_using){case"jquery_selector":return r.jquery_selector;case"smart_tag":return`#lightbox-inline-form-${e}`;case"universal_smart_tag":return".digioh_universal_smart_tag";default:return!1}}(e);if(!a)return o=`FATAL ERROR: Unsupported inline position_using ${s.position_using} for box ${e}`,!1;const c=JQUERY_DIGIOH(a);if(!t.isPreview&&!c.length&&!r)return o=`Did not find insertion point "${a}" on page, retrying...`,setTimeout((()=>{if(lt(e))return!0;if(!Ee(s)){if(!qe.evalBoxConditions(DIGIOH_API.getBoxId(e)))return!1}ct(e,t)}),500),!1;await st(e,t);if(at(e,!0),"remove"===s.removal_rules&&(DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox("submit",e)>0||DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox("redirect",e)>0)&&(o="Inline Box Removal Rules: box has already submitted"),!t.isPreview&&!r&&(o=Nt(e),o))return o;var i="";if(ne(e)||(i+="width:"+ae(e)+"px;",i+="height:"+le(e)+"px;"),"none"===s.border.style||"0"===s.border.width||0===s.border.width?(i+="border-style:none;",i+="border-width:0px;"):(i+="border-color:"+s.border.color+";",i+="border-style:"+s.border.style+";",i+="border-width:"+s.border.width+"px;",i+="border-radius:"+s.border.radius+"px;"),t.isPreview||r)return i+="position:absolute;",ne(e)?(i+="top:0;",i+="left:0;"):(i+="top:50%;",i+="left:50%;",i+="margin-top:"+(1-Math.round(le(e)/2))+"px;",i+="margin-left:"+(1-Math.round(ae(e)/2))+"px;"),l.isCss(s.css)&&(i+=s.css),await ft(e,i,"","","",t),!0;{const r=s.jquery_method||"append";let o=s.margin,n="";return i+=o.top>0?`margin-top:${o.top}px;`:"",i+=o.right>0?`margin-right:${o.right}px;`:"",i+=o.bottom>0?`margin-bottom:${o.bottom}px;`:"",i+=o.left>0?`margin-left:${o.left}px;`:"","none"!==s.float&&""!==s.float&&(i+=`float:${s.float};`,"none"!==s.clear&&""!==s.clear&&(n='<div style="float:none;clear:'+s.clear+';"></div>')),l.isCss(s.css)&&(i+=s.css),await ft(e,i,a,r,n,t),!0}}catch(t){return DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.logError(t,"embedInlineLightboxForm"),DIGIOH_LOG.log("DIGIOH::::embedInlineLightboxForm("+e+") ==> FAIL:EXCEPTION"),`EXCEPTION during inline box insertion: ${t.message}`}finally{o&&qe.setSuppressionReason(e,o)}};function ut(e=!0){for(const t of G)re(t)&&mt(t,e)}function _t(e){if(!e||e.length<10)return;DIGIOH_API.LOADED_BOX_DOM_ID_MAP=DIGIOH_API.LOADED_BOX_DOM_ID_MAP||{};const t=`lightbox-${e}-${(new Date).getTime()}`;return DIGIOH_API.LOADED_BOX_DOM_ID_MAP[e]=t,t}function dt(e){return DIGIOH_API.LOADED_BOX_DOM_ID_MAP?.[e]||""}function gt(){return G.length>0?dt(G[G.length-1]):""}async function ft(e,t,r,o,i,n){try{const G=JQUERY_DIGIOH("body"),D=DIGIOH_CONFIG.BOX_BASE_URL;n=n||g;await He(e,n);const E=N[e];if(!E)return DIGIOH_LOG.log("preloadIframe: EFFECTS does not have boxGuid: "+e),!0;t=t??"",r=r??"",o=o??"",i=i??"";var s=await st(e,n);if(DIGIOH_LOG.log("preloadIframe breakpoint_file_loaded, bpRes = "+s),at(e),L.includes(e)&&JQUERY_DIGIOH("#lightbox-iframe-"+e).length)return DIGIOH_LOG.log("preloadIframe: Already Preloaded Lightbox: "+e),!0;L.push(e),DIGIOH_LOG.log("preloadIframe: Preload Lightbox Started: "+e);var a=_t(e),c="preloaded_lightbox",u="",_="",d="",p=E.iframe?.use_custom;if(p)u+="width: "+E.iframe.width+"px;",u+="height: "+E.iframe.height+"px;",c+=" preloaded_custom_iframe";else if(ne(e)){u+="width: "+ue(e)+"px;",u+="height: "+_e(e)+"px;";var I=fe(e),h=Ie(e),O=pe(e),m=he(e);_=";width:"+de(e)+"%;height:"+ge(e)+"%;",_+="max-width:"+I+"px;min-width:"+h+"px;max-height:"+O+"px;min-height:"+m+"px;"}else u+="width: "+ae(e)+"px;",u+="height: "+le(e)+"px;",d=Fe(e);if(Z(E)){var v=l.isCss(E.fancybox.css)?E.fancybox.css:"";G.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+a+"' class='"+c+"' style='z-index: 9948035; position: fixed; display: none; left: -2000px; top: -2000px; overflow: visible !important; "+u+d+v+"'><div title='Close' class='widget_fb_close' style='"+xe(E.fancybox.close_button,e)+"' aria-label='Close Modal'></div></div>"),JQUERY_DIGIOH("#"+a+" .widget_fb_close").click((function(){X[e]=!0,JQUERY_DIGIOH.fb_lightbox.close()}))}else if(te(E))G.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+a+"' class='"+c+"' style='display: none; "+Oe(E.banner,e)+"'><div title='Close' class='banner-iframe-close' style='"+xe(E.banner.close_button,e)+"' aria-label='Close Banner'></div></div>");else if(ee(E))G.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+a+"' class='"+c+"' style='display: none; "+me(E.sidebar,e)+"'><div title='Close' class='sidebar-iframe-close' style='"+xe(E.sidebar.close_button,e)+"' aria-label='Close Modal'></div></div>");else{if(re(E)&&""===t)return!1;if(re(E)&&""!==t)if(-1===t.indexOf("position:")&&(t="position:relative;"+t),n.isPreview)JQUERY_DIGIOH("body").append('<div role="dialog" aria-label="Inline Form" id="'+a+'" style="display:none;'+t+_+'"></div>');else if("custom_function"==E.inline.position_using)JQUERY_DIGIOH("body").append('<div role="dialog" aria-label="Inline Form" id="'+a+'" style="display:none;'+t+_+'"></div>'),JQUERY_DIGIOH("#"+a).hide();else if(""===r)JQUERY_DIGIOH("body").append('<div role="dialog" aria-label="Inline Form" id="'+a+'" style="display:none;'+t+_+'"></div>');else{if(!JQUERY_DIGIOH(r).length)return!1;JQUERY_DIGIOH(r).length>1?JQUERY_DIGIOH(r).eq(0)[o]('<div role="dialog" aria-label="Inline Form" id="'+a+'" style="display:none;'+t+_+'"></div>'+i):JQUERY_DIGIOH(r)[o]('<div role="dialog" aria-label="Inline Form" id="'+a+'" style="display:none;'+t+_+'"></div>'+i)}}if(p){if(E.iframe.is_self_hosted)y="https://"==f&&0==E.iframe.self_hosted_url?.indexOf("http://")?"https://"+E.iframe.self_hosted_url.substring(7):E.iframe.self_hosted_url;else{let t="";n.isQa&&(t="_qa"),n.isPreview&&(t="_preview"),y=`${D}/vendor/${DIGIOH_VENDOR_GUID}/lightbox/${e}/custom_iframe${t}.html?v=${E.iframe.html_last_uploaded}`}let t=DIGIOH_API.getWidgetMetadata(e,"boxtabindex");t="remove"==t?"":t&&!isNaN(t)?`tabindex='${t}'`:"tabindex='1'",JQUERY_DIGIOH("#"+a).append("<iframe "+t+" aria-label='Modal Overlay Box Frame' title='Modal Overlay Box Frame' src="+y+" width='"+ae(e)+"' height='"+le(e)+"' frameborder='0' scrolling='no'></iframe>"),C.includes(e)||C.push(e)}else Ft(e,a,n),re(E)&&ne(e)&&setTimeout((function(){je(e,a,(new Date).getTime(),0,0)}),100);const x=oe(E).metadata_kvps||[];for(var b=0;b<x.length;b++)x[b].k&&x[b].v&&l.trySetAttribute(a,x[b]);return!0}catch(e){return DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"preloadIframe"),!1}}function pt(e,t,r){t=!!t,He(e,r=r||g).then((()=>{let o="";try{const n=N[e];if(!n)return DIGIOH_LOG.log(`${pt.name}: ${e}, EFFECTS or EFFECTS[popupGuid] missing`),o="FATAL ERROR: box is missing EFFECTS",!1;if(!t&&(o=et(e),o))return!1;if((i=e)&&!D.includes(i)&&D.push(i),!r.isPreview&&(o=Nt(e),o))return Lt(e),!1;n&&n.iframe?.use_custom&&(n.width=n.iframe.width,n.height=n.iframe.height),L.includes(e)?Dt(e):ft(e,"","","","",r).then((function(){DIGIOH_LOG.log("loadLightbox_3: preloadIframe Promise complete - "+e),Dt(e)})).catch((function(t){DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.log("loadLightbox_4: preloadIframe Promise ERROR - "+t.message),Dt(e)}))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"loadLightbox"),o=`EXCEPTION: ${e.message}`}finally{o&&(qe.setSuppressionReason(e,o),Lt(e))}var i}))}function It(e,t,r){re(e)&&!lt(e)?ct(e,r,t):pt(e,t,r)}function ht(e,t=!0){const r=N[e];try{var o=dt(e);if(JQUERY_DIGIOH("#"+o).length&&1!=k[e]){const i=JQUERY_DIGIOH("body");k[e]=1,setTimeout((function(){k[e]=0}),1e3),Tt(e),i.hasClass("sidebar-body-click")&&(JQUERY_DIGIOH(".sidebar-body-click").off(),i.removeClass("sidebar-body-click")),H[e]&&delete H[e],x[e]=!1,w[e]&&delete w[e],Mt({sender:"lightbox",action:"before_lightbox_close"},e,100,0),t&&Re(e),JQUERY_DIGIOH("#"+o).hide(),"bottom"!==r?.banner?.placement&&JQUERY_DIGIOH("#banner-spacer-"+e).length&&JQUERY_DIGIOH("#banner-spacer-"+e).remove()}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"closeBanner")}}function Ot(e,o=!0){const i=N[e]||{};try{var n=dt(e);if(console.log("closeSidebar started"),We(e),JQUERY_DIGIOH("#"+n).length&&1!=U[e]){const l=JQUERY_DIGIOH("body");U[e]=1,setTimeout((function(){U[e]=0}),1e3),Tt(e),l.hasClass("sidebar-body-click")&&(JQUERY_DIGIOH(r).off(qt()?"touchstart":"mousedown",".sidebar-body-click"),l.removeClass("sidebar-body-click"));var s=DIGIOH_API.getAccountMetadata("bgscroll_enable");"true"!==DIGIOH_API.getWidgetMetadata(e,"bgscroll_enable")&&"true"!==s&&"center-center"===N[e].sidebar.position&&(JQUERY_DIGIOH("html").hasClass("box_active_disable_scrolling")&&JQUERY_DIGIOH("html").removeClass("box_active_disable_scrolling"),JQUERY_DIGIOH("body").hasClass("box_active_disable_scrolling")&&JQUERY_DIGIOH("body").removeClass("box_active_disable_scrolling"),DIGIOH_LOG.log("bgscroll_reenable_on_close")),H[e]&&delete H[e],x[e]=!1,w[e]&&delete w[e],Mt({sender:"lightbox",action:"before_lightbox_close"},e,100,0),i.sidebar?.overlay&&(JQUERY_DIGIOH("#sidebar-overlay-"+n).length?JQUERY_DIGIOH("#sidebar-overlay-"+n).remove():JQUERY_DIGIOH(".fb_lightbox-overlay").length&&JQUERY_DIGIOH(".fb_lightbox-overlay").remove());var a=function(e,r){var o=e.position.split("-");o[1],o[0];const i=JQUERY_DIGIOH(t);var n=JQUERY_DIGIOH(i).width(),s=JQUERY_DIGIOH(i).height(),a=ce(r),l=dt(r),c=JQUERY_DIGIOH("#"+l).offset(),u=i.scrollTop(),_=Math.ceil(c.top-u),d=Math.ceil(c.left);switch(e.animation.close){case"slideUp":return{top:"-="+Math.ceil(_+a.height)+"px"};case"slideDown":return{top:"+="+Math.ceil(s-_)+"px"};case"slideRight":return{left:"+="+Math.ceil(n-d)+"px"};case"slideLeft":return{left:"-="+Math.ceil(d+a.width)+"px"};case"fade":return{opacity:0};case"elastic":return{opacity:.5,transform:"scale(0.5)","-webkit-transform":"scale(0.5)","-moz-transform":"scale(0.5)","-ms-transform":"scale(0.5)","-o-transform":"scale(0.5)"};default:return!1}}(i.sidebar,e);a?(DIGIOH_LOG.log("DIGIOH: getCloseAnimation..."),DIGIOH_LOG.log(a),console.log("closeSidebar animate"),JQUERY_DIGIOH("#"+n).animate(a,{duration:i.sidebar.speed.close,easing:i.sidebar.easing.close,complete:function(){o&&Re(e),JQUERY_DIGIOH("#"+n).hide()}})):(a={},console.log("closeSidebar registerLightboxClose"),o&&Re(e),JQUERY_DIGIOH("#"+n).hide())}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"closeSidebar")}}function mt(e,t=!0){try{if(L.includes(e)){var r=dt(e);JQUERY_DIGIOH("#"+r).length?setTimeout((function(){JQUERY_DIGIOH("#"+r).length&&(JQUERY_DIGIOH("#"+r).hide(),JQUERY_DIGIOH("#"+r).remove(),DIGIOH_LOG.log("closeInline: "+r))}),100):DIGIOH_LOG.log("closeInline_5::::"+e),Tt(e),Mt({sender:"lightbox",action:"before_lightbox_close"},e,100,0),t&&Re(e),l.arrRm(W,e),l.arrRm(L,e)}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"closeInline")}}function vt(e,t,r=!0){for(var o in DIGIOH_LIGHTBOX_IDS)!lt(o)||e&&e!==o||(Z(o)?(X[o]=!0,JQUERY_DIGIOH.fb_lightbox.close()):ee(o)?Ot(o,r):te(o)?ht(o,r):re(o)&&t&&mt(o,r))}function yt(){return G.length>0}function bt(e){if(lt(e))return DIGIOH_LOG.log("DIGIOH: isActiveBox() called from showInline() - prevented display - "+e),!1;if(Rt(e),kt(e).hasAfterDomReadyJsFinished){var t=kt(e).runCustomJsBeforeDisplay();if(DIGIOH_LOG.log("showInline("+e+") before_lightbox_display: "+t),!1===t)return qe.setSuppressionReason(e,'Custom JS "Before Display" or Extension prevented this box from displaying'),Tt(e),!1;JQUERY_DIGIOH("div.box_loading_placeholder").hide();var r=dt(e);return""!=r&&JQUERY_DIGIOH("#"+r).length&&(JQUERY_DIGIOH("#"+r).show(),W.includes(e)||(W.push(e),DIGIOH_LOG.log("DIGIOH::::showInline("+e+") ==>  SUCCESS")),Ae(e)),!0}return setTimeout((function(){Tt(e),bt(e)}),100),!1}function Gt(e){try{DIGIOH_LOG.log("showPreloadedLightbox:"+e),Z(e)?St(e,!0):ee(e)?function(e){U[e]=0,DIGIOH_LOG.log("showPreloadedSidebar:"+e);var t=dt(e);""!=t&&JQUERY_DIGIOH("#"+t).length?xt(e):function(e){const t=N[e];try{var r=_t(e);const o=JQUERY_DIGIOH("body");JQUERY_DIGIOH("#"+r).length?(DIGIOH_LOG.log("initSidebar_1"),xt(e)):(DIGIOH_LOG.log("initSidebar_2"),o.append("<div id='"+r+"' style='display:none;"+me(t.sidebar,e)+"'><div title='Close' class='sidebar-iframe-close' style='"+xe(t.sidebar.close_button,e)+"' aria-label='Close Modal'></div></div>"),Ft(e,r),t.iframe?.use_custom&&xt(e))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initSidebar")}}(e)}(e):te(e)?function(e){k[e]=0;var t=dt(e);""!=t&&JQUERY_DIGIOH("#"+t).length?Et(e):function(e){const t=N[e];try{var r=_t(e);const o=JQUERY_DIGIOH("body");JQUERY_DIGIOH("#"+r).length?Et(e):(o.append("<div id='"+r+"' style='display:none;"+Oe(t.sidebar,e)+"'><div title='Close' class='sidebar-iframe-close' style='"+xe(t.banner.close_button,e)+"' aria-label='Close Banner'></div></div>"),Ft(e,r),t.iframe?.use_custom&&Et(e))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initBanner")}}(e)}(e):re(e)&&bt(e)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"showPreloadedLightbox")}}function Dt(e){P[e]?delete P[e]:C.includes(e)?Gt(e):setTimeout((function(){Dt(e)}),100)}function Et(e){try{if(lt(e))return DIGIOH_LOG.log("DIGIOH: isActiveBox() called from showBanner() - prevented display - "+e),!1;Rt(e),Lt(e);const n=N[e];if(!kt(e).hasAfterDomReadyJsFinished)return DIGIOH_LOG.log("showBanner("+e+") before_lightbox_display: retry"),setTimeout((function(){Tt(e),Et(e)}),100),!1;var t=kt(e).runCustomJsBeforeDisplay();if(DIGIOH_LOG.log("showBanner("+e+") before_lightbox_display: "+t),!1===t)return qe.setSuppressionReason(e,'Custom JS "Before Display" or Extension prevented this box from displaying'),Tt(e),!1;k[e]=0;var r=dt(e);if(JQUERY_DIGIOH("#"+r+" .banner-iframe-close").click((function(){ht(e)})),n.banner.close_button.display&&JQUERY_DIGIOH("#"+r+" .banner-iframe-close").css({display:"block"}),(!n.banner.hasOwnProperty("placement")||"bottom"!==n.banner.placement)&&"move"===n.banner.page_overlap){if(g===_){var o=ce(e).height;o*=Ye(e),JQUERY_DIGIOH("body").prepend("<div id='banner-spacer-"+e+"' style='width:100%; height:"+o+"px;'></div>")}else{const t=DIGIOH_LIGHTBOX_IDS[e];if(!qe.evalBoxConditions(t))return Tt(e),qe.setSuppressionReason(e,"Conditions no longer met at display time"),!1;o=ce(e).height;o*=Ye(e),JQUERY_DIGIOH("body").prepend("<div id='banner-spacer-"+e+"' style='width:100%; height:"+o+"px;'></div>")}}var i=JQUERY_DIGIOH("#"+r);i.attr("style",Oe(n.banner,e)),i.show(),Ae(e),Ve(e,r)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"showBanner")}}function xt(e){try{if(lt(e))return DIGIOH_LOG.log("DIGIOH: isActiveBox() called from showSidebar() - prevented display - "+e),!1;Rt(e),Lt(e);const c=N[e];if(!kt(e).hasAfterDomReadyJsFinished)return DIGIOH_LOG.log("showSidebar("+e+") before_lightbox_display: retry"),setTimeout((function(){Tt(e),xt(e)}),100),!1;var r=kt(e).runCustomJsBeforeDisplay();if(DIGIOH_LOG.log("showSidebar("+e+") before_lightbox_display: "+r),!1===r)return qe.setSuppressionReason(e,'Custom JS "Before Display" or Extension prevented this box from displaying'),Tt(e),!1;U[e]=0;var o=dt(e);JQUERY_DIGIOH("#"+o+" .sidebar-iframe-close").click((function(){console.log("click sidebar-iframe-close"),qt()?(DIGIOH_LOG.log("closeSidebar("+e+") on native close button click (Mobile)"),setTimeout((function(){Ot(e)}),250)):(DIGIOH_LOG.log("closeSidebar("+e+") on native close button click (Desktop)"),setTimeout((function(){Ot(e)}),50))})),c.sidebar.close_button.display&&JQUERY_DIGIOH("#"+o+" .sidebar-iframe-close").css({display:"block"});var i=DIGIOH_API.getAccountMetadata("bgscroll_enable");if("true"!==DIGIOH_API.getWidgetMetadata(e,"bgscroll_enable")&&"true"!==i&&"center-center"===c.sidebar.position){const e=JQUERY_DIGIOH(t);var n=e.scrollTop();if(!JQUERY_DIGIOH("#dghstyles").length){JQUERY_DIGIOH("head").append('<style id="dghstyles" type="text/css">html.box_active_disable_scrolling, body.box_active_disable_scrolling { touch-action: none !important; overscroll-behavior: none !important; -webkit-overflow-scrolling: auto !important; overflow: hidden !important; }</style>')}JQUERY_DIGIOH("html").hasClass("box_active_disable_scrolling")||JQUERY_DIGIOH("html").addClass("box_active_disable_scrolling"),JQUERY_DIGIOH("body").hasClass("box_active_disable_scrolling")||JQUERY_DIGIOH("body").addClass("box_active_disable_scrolling"),qt()&&e.scrollTop(n),DIGIOH_LOG.log("bgscroll_disable")}var s=function(e,r){var o=e.css_positioning,i=e.position.split("-"),n=i[1],s=i[0],a={};const c=JQUERY_DIGIOH(t).width(),u=JQUERY_DIGIOH(t).height();var _=ce(r),d=Math.round(c/2)+Math.round(_.width/2),g=Math.round(u/2)+Math.round(_.height/2);const f=e.animation?.open||"";if(l.isNumber(e.offset?.left)){const t=e.offset.left;0==t?"slideRight"==f?d=_.width+30:"slideLeft"==f&&(d=c-45):10==t?"slideRight"==f?d=c-30:"slideLeft"==f&&(d=_.width+15):t<5?"slideLeft"==f?d=c-t/5*(c/2-Math.round(_.width/2))-15:"slideRight"==f&&(d=t/5*(c/2-Math.round(_.width/2))+_.width):t>5&&("slideLeft"==f?d=(10-t)/5*(c/2-Math.round(_.width/2))+_.width-15:"slideRight"==f&&(d=(t-5)/5*(c/2-Math.round(_.width/2))+c/2+_.width/2))}if(l.isNumber(e.offset?.top)){const t=e.offset.top;0==t?"slideDown"==f?g=_.height+30:"slideUp"==f&&(g=u-30):10==t?"slideDown"==f?g=u-30:"slideUp"==f&&(g=_.height+30):t<5?"slideUp"==f?g=u-t/5*(u/2-Math.round(_.height/2))-15:"slideDown"==f&&(g=t/5*(u/2-Math.round(_.height/2))+_.height):t>5&&("slideUp"==f?g=(10-t)/5*(u/2-Math.round(_.height/2))+_.height-15:"slideDown"==f&&(g=(t-5)/5*(u/2-Math.round(_.height/2))+u/2+_.height/2))}if("fixed"===o)switch(f){case"slideUp":return"top"==s?a.top="-="+Math.ceil(u):"center"==s?a.top="-="+g:"bottom"==s&&(a.top="-="+Math.ceil(_.height)),a;case"slideDown":return"top"==s?a.top="+="+Math.ceil(_.height):"center"==s?a.top="+="+g:"bottom"==s&&(a.top="+="+Math.ceil(u)),a;case"slideRight":return"left"==n?a.left="+="+Math.ceil(_.width):"center"==n?a.left="+="+d:"right"==n&&(a.left="+="+Math.ceil(c)),a;case"slideLeft":return"left"==n?a.left="-="+Math.ceil(c):"center"==n?a.left="-="+d:"right"==n&&(a.left="-="+Math.ceil(_.width)),a;case"fade":return a.opacity=1,a;case"elastic":return a.opacity=1,a.transform="scale(1)",a["-webkit-transform"]="scale(1)",a["-moz-transform"]="scale(1)",a["-ms-transform"]="scale(1)",a["-o-transform"]="scale(1)",a}else switch(JQUERY_DIGIOH(t).scrollTop(),f){case"slideUp":return"top"==s?a.top="-="+Math.ceil(u):"center"==s?a.top="-="+Math.ceil(u/2+_.height/2):"bottom"==s&&(a.top="-="+Math.ceil(_.height)),a;case"slideDown":return"top"==s?a.top="+="+Math.ceil(_.height):"center"==s?a.top="+="+Math.ceil(u/2+_.height/2):"bottom"==s&&(a.top="+="+Math.ceil(u)),a;case"slideRight":return"left"==n?a.left="+="+Math.ceil(_.width):"center"==n?a.left="+="+Math.ceil(c/2+_.width/2):"right"==n&&(a.left="+="+Math.ceil(c)),a;case"slideLeft":return"left"==n?a.left="-="+Math.ceil(c):"center"==n?a.left="-="+Math.ceil(c/2+_.width/2):"right"==n&&(a.left="-="+Math.ceil(_.width)),a;case"fade":return a.opacity=1,a;case"elastic":return a.opacity=1,a.transform="scale(1)",a["-webkit-transform"]="scale(1)",a["-moz-transform"]="scale(1)",a["-ms-transform"]="scale(1)",a["-o-transform"]="scale(1)",a}return!1}(c.sidebar,e);const u=c.sidebar?.overlay,_=u?.background?.color,d=["rgba(255, 255, 255, 0)","#00000000"].includes(_);if(u&&(u.background?.use_image||!d)){const e=`#sidebar-overlay-${o}`;JQUERY_DIGIOH("body").append(`<div id="sidebar-overlay-${o}" class="fb_lightbox-overlay fb_lightbox-overlay-fixed"></div>`);const t=At(u.background);t.display="block",JQUERY_DIGIOH(e).css(t)}if(Ne("showing_sidebar"),s){DIGIOH_LOG.log("DIGIOH: getOpenAnimation..."),DIGIOH_LOG.log(s);let t=JQUERY_DIGIOH("#"+o);if(s.hasOwnProperty("top")){let e=s.top.substring(0,2),r=parseInt(s.top.substring(2)),o=parseInt(t.css("top"))+("-="==e?1:-1)*r;t.css({top:o})}if(s.hasOwnProperty("left")){let e=s.left.substring(0,2),r=parseInt(s.left.substring(2)),o=parseInt(t.css("left"))+("-="==e?1:-1)*r;t.css({left:o})}s.hasOwnProperty("opacity")&&1===s.opacity&&!s.hasOwnProperty("transform")&&t.css({opacity:0}),s.hasOwnProperty("transform")&&"scale(1)"===s.transform&&t.css({opacity:.1,transform:"scale(0.5)","-webkit-transform":"scale(0.5)","-moz-transform":"scale(0.5)","-ms-transform":"scale(0.5)","-o-transform":"scale(0.5)"}),t.show().animate(s,{duration:c.sidebar.speed.open,easing:c.sidebar.easing.open,complete:function(){Ae(e),ot(e),rt(e),tt(e);var r=me(c.sidebar,e);t.attr("style",r),Ve(e,o),Xe(e,"main","display")}})}else{s={};var a=JQUERY_DIGIOH("#"+o);a.attr("style",me(c.sidebar,e)),a.show(),Ae(e),ot(e),rt(e),tt(e),Xe(e,"main","display")}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"showSidebar")}}function Ht(e,r,o){try{if(X[o])return;var i=JQUERY_DIGIOH(".fb_lightbox-wrap").filter(":first"),n=JQUERY_DIGIOH("#"+e),s={};qt()?s.position="absolute":s.position="fixed",s.top=parseInt(i.css("top"));const l=JQUERY_DIGIOH(t).width()<400&&!qt();s.left=l?parseInt(n.css("left")):parseInt(i.css("left"));var a=Ye(o);n.css({position:s.position,left:s.left,top:s.top,transform:"scale("+a+")","-webkit-transform":"scale("+a+")","-moz-transform":"scale("+a+")","-ms-transform":"scale("+a+")","-o-transform":"scale("+a+")"}),n.show(),r<2&&(r++,t.setTimeout((function(){Ht(e,r,o)}),300))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"updateFancyboxPosition")}}function wt(e,r){r>30?DIGIOH_LOG.log("tryInitFancyboxWhenChildReady - cancelled after "+r+" attempts"):!0!==b[e]?t.setTimeout((function(){wt(e,r++)}),100):(DIGIOH_LOG.log("tryInitFancyboxWhenChildReady - loaded after "+r+" attempts"),St(e,!0))}function St(e,r){const o=N[e];r=!!r;try{if(lt(e))return DIGIOH_LOG.log("DIGIOH: isActiveBox() called from initFancybox() - prevented display - "+e),!1;if(Rt(e),Lt(e),!kt(e).hasAfterDomReadyJsFinished)return DIGIOH_LOG.log("initFancybox("+e+") before_lightbox_display: retry"),setTimeout((function(){St(e,r)}),100),!1;{const t=kt(e).runCustomJsBeforeDisplay();if(DIGIOH_LOG.log("initFancybox("+e+") before_lightbox_display: "+t),!1===t)return qe.setSuppressionReason(e,'Custom JS "Before Display" or Extension prevented this box from displaying'),Tt(e),!1}if(!r)return ft(e),void wt(e,1);var i=dt(e),n={},s=ce(e);if(r){const r=JQUERY_DIGIOH(t).width()<400;(n={content:"<div class='fb_lightbox-content'></div>",width:s.width,height:s.height,autoSize:!1,scrolling:"no",arrows:!1,padding:0,margin:r&&qt()?5:20,autoCenter:!qt(),fixed:!qt(),keys:{close:0}}).afterShow=function(){X[e]=!1,Ae(e),JQUERY_DIGIOH("body").css({"overflow-y":"hidden"}),Ht(i,0,e)},n.onUpdate=function(){qt()&&Y[e]||Ht(i,0,e)},n.beforeClose=function(){X[e]=!0,Tt(e),Mt({sender:"lightbox",action:"before_lightbox_close"},e,100,0)},n.afterClose=function(){X[e]=!0,JQUERY_DIGIOH("#"+i).hide(),JQUERY_DIGIOH("body").css({"overflow-y":"visible"}),JQUERY_DIGIOH("#"+i).css({opacity:1}),Re(e),Y[e]=!1,setTimeout((function(){X[e]=!1}),1500)}}n.beforeLoad=function(){JQUERY_DIGIOH.fb_lightbox.hideLoading()},n.helpers={overlay:{closeClick:o.fancybox.overlay.close_click,css:At(o.fancybox.overlay.background)}},n.topRatio=o.fancybox.position.top/10,n.leftRatio=o.fancybox.position.left/10,"fade"!=o.fancybox.animation.open&&"elastic"!=o.fancybox.animation.open?(n.openEffect="fade",n.openMethod=o.fancybox.animation.open+"In"):(n.openEffect=o.fancybox.animation.open,n.openMethod="zoomInCustom"),"fade"!=o.fancybox.animation.open&&(n.openEasing=o.fancybox.easing.open),n.openSpeed=o.fancybox.speed.open,"fade"!=o.fancybox.animation.close&&"elastic"!=o.fancybox.animation.close?(n.closeEffect="fade",n.closeMethod=o.fancybox.animation.close+"Out"):(n.closeEffect=o.fancybox.animation.close,n.closeMethod="zoomOutCustom"),"fade"!=o.fancybox.animation.close&&(n.closeEasing=o.fancybox.easing.close),n.closeSpeed=o.fancybox.speed.close,n.tpl={closeBtn:'<div title="Close" id="widget_fb_close_hide" style="display:none;" aria-label="Close Modal"></div>'},n.box_id=e,JQUERY_DIGIOH.fb_lightbox.open(n)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initFancybox")}}function At(e){const t=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};try{var r={};return e.use_image&&e.image.length>3&&"none"!=e.image?(r["background-image"]="url("+DIGIOH_CONFIG.S3_BASE_URL+"/vendors/"+DIGIOH_VENDOR_GUID+"/uploads/"+e.image+")",r["background-position"]=e.position,r["background-color"]=e.color,"stretch"===e.repeat?(r["-webkit-background-size"]="cover",r["-moz-background-size"]="cover",r["-o-background-size"]="cover",r["background-size"]="cover"):"contain"===e.repeat?(r["-webkit-background-size"]="contain",r["-moz-background-size"]="contain",r["-o-background-size"]="contain",r["background-size"]="contain",r["background-repeat"]="no-repeat"):r["background-repeat"]=e.repeat):e.use_gradient&&e.gradient.length>3?(r["background-image"]="none","Chrome"==t.browser_type?r.background="-webkit-gradient(linear, left top, left bottom, from("+e.color+"),to("+e.gradient+"))":"Safari"==t.browser_type?r.background="-webkit-linear-gradient(top, "+e.color+","+e.gradient+")":"Opera"==t.browser_type?r.background="-o-linear-gradient(top, "+e.color+","+e.gradient+")":"Firefox"==t.browser_type?r.background="-moz-linear-gradient(top, "+e.color+","+e.gradient+")":"Internet Explorer"==t.browser_type?r.background="-ms-linear-gradient(top, "+e.color+","+e.gradient+")":r.background="linear-gradient(to bottom,"+e.color+","+e.gradient+")"):(r["background-image"]="none",r["background-color"]=e.color),r}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"getBackgroundStyle")}}function Rt(e){e&&!G.includes(e)&&G.push(e)}function Tt(e){e&&G.includes(e)&&G.splice(G.indexOf(e),1)}function Lt(e){e&&D.includes(e)&&D.splice(D.indexOf(e),1)}function Ct(e){var r={};try{if(DIGIOH_CACHE_VERSION||(DIGIOH_CACHE_VERSION=(new Date).getTime()),r.protocol=f||"https://",r.protocol_user_override=p||"https://",r.cache_version=DIGIOH_CACHE_VERSION,r.parent_url=f+t.location.host,r.full_url=t.location.href.split("'").join("%27")||"",r.use_bugsnag=DIGIOH_CONFIG.DIGIOH_USE_BUGSNAG,r.use_console=h,r.is_preview=g.isPreview,r.is_qa=g.isQa,r.user_id=DIGIOH_VENDOR_GUID,r.user_guid=DIGIOH_VENDOR_GUID,r.user_short_id=DIGIOH_VENDOR_SHORT_ID,r.vendor_id=DIGIOH_VENDOR_GUID,r.vendor_guid=DIGIOH_VENDOR_GUID,r.vendor_short_id=DIGIOH_VENDOR_SHORT_ID,r.client_id=m(),r.client_guid=m(),r.is_desktop=Kt(),r.is_phone=Wt(),r.is_tablet=Qt(),r.is_mobile=qt(),"string"==typeof e&&e.length>20){r.widget_type=ie(e),r.lightbox_id=e,r.lightbox_guid=e,r.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[e]||"",r.lightbox_name=DIGIOH_LIGHTBOX_NAMES[e]||"",r.variation_id="",r.variation_guid="",r.variation_short_id="",r.variation_name="",r.is_variation=!1;const t=j[e]||"";r.ab_test_id=t,r.ab_test_guid=t;const o=$(t);r.ab_test_short_id=o?.split_short_id||"",r.ab_test_name=o?.name||"",r.lightbox_or_variation_id=e,r.lightbox_or_variation_guid=e,r.lightbox_or_variation_short_id=r.lightbox_short_id,r.lightbox_or_variation_name=r.lightbox_name}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"getCustomJsMetadata")}return r}function Pt(e,o){if("undefined"!=typeof CJSAPPS_PARENT&&CJSAPPS_PARENT&&"undefined"!=typeof CJSAPPS_ARR&&CJSAPPS_ARR){for(var i of CJSAPPS_ARR){const a=CJSAPPS_PARENT[i]?.[e];if(a){var n=!1;if(n="AfterDocReady"==e?a(DIGIOH_API,t,r,JQUERY_DIGIOH,Ct("")):a(DIGIOH_API,t,r,JQUERY_DIGIOH,o,s,Ct(o)),DIGIOH_LOG.log("CJSAPPS_PARENT: "+i+", "+e),DIGIOH_LOG.log(n),!1===n)return!1}}return!0}}function Nt(e){const o=Ct(e);let i="";return DIGIOH_CUSTOM_JS_SUPER.runCustomJsBeforeLightboxDisplay(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,o)||(i="Global JS Before Display snippet returned false"),DIGIOH_CUSTOM_JS.runCustomJsBeforeLightboxDisplay(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,o)||(i="Parent JS Before Display snippet returned false"),i}function Ut(e){t.setTimeout((function(){DIGIOH_LOG.log("tryOpenAnotherLightbox: loading another lightbox: "+e),DIGIOH_LOG.log("loadLightbox: tryOpenAnotherLightbox, "+e),pt(e,!0),S=!1}),150)}function kt(e){return DIGIOH_API.BOXCOMM=DIGIOH_API.BOXCOMM||{},(e="number"==typeof e?e.toString():e||"").length>10&&(e=DIGIOH_API.getBoxID(e)),DIGIOH_API.BOXCOMM[e]||{hasAfterDomReadyJsFinished:!1,onPixelVersionChange:function(){},runCustomJsBeforeDisplay:function(){}}}function Mt(e,r,o=100,i=0){const n=N[r]||{};var s=Bt(e,r);!s&&i*o<5e3?(re(n)||lt(r))&&t.setTimeout((function(){Mt(e,r,o,i+1)}),o):i>0&&s&&DIGIOH_LOG.log("DIGIOH:  keepSendingEventNotificationToChildUntilReceived: "+i+" misses before SUCCEEDING: "+r)}function Bt(e,t){try{const o=r.getElementById("lightbox-iframe-"+t);return"function"==typeof o?.contentWindow?.receiveMessageFromParent&&(o.contentWindow.receiveMessageFromParent(e),!0)}catch(e){return DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.log("sendMessageToIframe - child not ready: "+t),!1}}function jt(e,t){e&&e.hasOwnProperty("message")&&DIGIOH_LOG.log(e.message),t&&e&&e.hasOwnProperty("sender")&&"lightbox"===e.sender?Yt(e,t):t&&e||DIGIOH_LOG.log("receiveMessageFromIframe ERROR - not all parameters were set correctly")}function Jt(e,t,o){e&&t&&o&&t!=o&&r.getElementById("lightbox-iframe-"+t)&&r.getElementById("lightbox-iframe-"+o)&&b[o]?r.getElementById("lightbox-iframe-"+o).contentWindow.receiveMessageFromIframe(e,t,o):DIGIOH_LOG.log("relayMessageToIframe - child not ready: "+o)}function Vt(e){try{var r=p+DIGIOH_CONFIG.CDN_DOMAIN;if(void 0===e||!e.origin&&!e.originalEvent)return;var o=e.origin||e.originalEvent.origin;if(e.source&&e.source===t.frames.DigiohLocalStorageIframe){var i=/^#localStorage#(\d+)(null)?#([\S\s]*)/.exec(e.data);i&&(DIGIOH_CROSS_DOMAIN.callbacks[i[1]]&&DIGIOH_CROSS_DOMAIN.callbacks[i[1]]("null"===i[2]?null:i[3]),delete DIGIOH_CROSS_DOMAIN.callbacks[i[1]])}else{if(e.data&&"#recaptcha#digioh#solved"===e.data)return DIGIOH_API.isReCaptchaSolved=!0,void DIGIOH_LOG.log("runPostMessageReceiver ("+e.data+") origin="+o);if(e.data&&"#recaptcha#digioh#resize"===e.data)return DIGIOH_API.isReCaptchaResize=!0,void DIGIOH_LOG.log("runPostMessageReceiver ("+e.data+") origin="+o);if(o!==r)return;Yt(function(e){try{var t={};if(e.indexOf("&")>0)for(var r=e.split("&"),o=0;o<r.length;o++){if(r[o].indexOf("=")>0)t[(i=r[o].split("="))[0]]=decodeURIComponent(i[1])}else if(e.indexOf("=")>0){var i;t[(i=e.split("="))[0]]=decodeURIComponent(i[1])}return t}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"parsePostMessageResult")}}(e.data))}}catch(t){DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.logError(t,"runPostMessageReceiver - "+e)}}function Yt(e,o){try{o&&!b[o]&&(b[o]=!0),e.sender&&!e.digioh_identity||(DIGIOH_LOG.log("processPostMessage: "),DIGIOH_LOG.log(he));const he=e,ve=he.lightbox_id,ye=N[ve]||{},be=JQUERY_DIGIOH(t);if(he.child_action&&ve)if("close_lightbox"==he.child_action)ee(ye)?Ot(ve):te(ye)?ht(ve):Z(ye)?(X[o]=!0,JQUERY_DIGIOH.fb_lightbox.close(!0)):re(ye)&&(DIGIOH_LOG.log("closeInline: "+ve),mt(ve));else if("redirect_parent"==he.child_action&&he.url?.length>7){if(he.ui_trigger&&!S){S=!0;var n=j[oe=ve]||"";g.isPreview||(DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe))),DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",oe);var a=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",c=DIGIOH_LIGHTBOX_IDS[oe]||oe||"empty",u=$(n)?.split_short_id||n||"empty",_=t.location?.hostname||"empty",d=i.compressToBase64("e=r&c="+(new Date).getTime()+"&h="+encodeURIComponent(_)+"&u="+a+"&b="+c+"&v=empty&s="+u+"#######"+he.url),f=l.getUrlParam("use_watch"),p=DIGIOH_CONFIG.JSAPI_BASE_URL+"/Event/RedirectProxy?eplz="+d+"&cb="+(new Date).getTime()+(/yes|true|1/i.test(f)?"&use_watch=yes":"");if(he.redirect_type&&"current"!==he.redirect_type)if("tab"===he.redirect_type){var I=Math.floor(1e7*Math.random());JQUERY_DIGIOH("body").append("<a id='new-tab-link-"+I+"' style='display:none;' href='"+p+"' target='_blank'></a>"),r.getElementById("new-tab-link-"+I).click(),t.setTimeout((function(){JQUERY_DIGIOH("#new-tab-link-"+I).remove(),S=!1}),1e3),DIGIOH_LOG.log("redirect_type=tab")}else"window"===he.redirect_type&&(t.open(p,"NewWindow","menubar=yes,height="+(JQUERY_DIGIOH(t).height()-25)+",width="+(JQUERY_DIGIOH(t).width()-25)+",left=25,top=25"),t.setTimeout((function(){S=!1}),1e3),DIGIOH_LOG.log("redirect_type=window"));else S=!1,DIGIOH_LOG.log("IS_REDIRECTING_PARENT: "+S),DIGIOH_LOG.log("redirect_type=current ("+p+")"),t.location.href=p}}else if("lightbox_open"==he.child_action&&he.hasOwnProperty("lightbox_open")&&he.lightbox_open.length>1){if(!S){if(S=!0,he.hasOwnProperty("ui_trigger")&&"button"==he.ui_trigger){n=j[oe=ve]||"";g.isPreview||(DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe))),DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",oe),we("redirect",oe,s,n)}ee(ye)?Ot(ve):te(ye)?ht(ve):Z(ye)&&(X[ve]=!0,JQUERY_DIGIOH.fb_lightbox.close(!0));for(var h=!1,O=DIGIOH_API.getBoxGUID(he.lightbox_open),y=0;y<DIGIOH_LIGHTBOX_CONDITIONS.length;y++)if(O==DIGIOH_LIGHTBOX_CONDITIONS[y].lightbox_guid){h=!0,Ut(O);break}h||DIGIOH_LOG.log("Action lightbox_open invalid, could not find another active Lightbox with GUID: "+O)}}else if("download_file"==he.child_action){!function(e){const t=N[e];try{if("US"!==DIGIOH_CONFIG.REGION)return;var r=j[e]||"";if(T[e]=T[e]+1||1,!g.isPreview&&V)return;var o=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",i=e||"empty",n=$(r)?.split_short_id||r||"empty";i=DIGIOH_LIGHTBOX_IDS[e]||i,Pe();var s=E;s.cache_version=DIGIOH_CACHE_VERSION,s.is_preview=g.isPreview,s.ip_address="${keen.ip}",s.user_agent="${keen.user_agent}",s.vendor_id=DIGIOH_VENDOR_GUID,s.client_id=m(),s.event_id=l.generateGuidWithTimestamp(),s.lightbox_id=e,s.variation_id="",s.ab_test_id=r,s.uid=o,s.bid=i,s.vid="empty",s.sid=n,s.page_total_time=B,s.page_active_time=B-M,s.page_idle_time=M,s.impressions_on_page=A[e]||0,s.downloads_on_page=T[e],s.widget_type=ie(t),DIGIOH_LIGHTBOX_NAMES[e]&&(s.lightbox_name=DIGIOH_LIGHTBOX_NAMES[e]),DIGIOH_LIGHTBOX_IDS[e]&&(s.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[e]),DIGIOH_API.LIGHTBOX.keen_custom_js_data&&(s.custom_js_data=DIGIOH_API.LIGHTBOX.keen_custom_js_data),v.addEvent("lightbox_download",s,(function(e,t){l.isObj(e)&&!0===e.created?(DIGIOH_LOG.log("keenLightboxDownload: success!"),DIGIOH_LOG.log(e)):t?(DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.logErrorText("keenLightboxDownload_ERROR","keenLightboxDownload_ERROR")):DIGIOH_LOG.logErrorText("keenLightboxDownload_ERROR_OTHER","keenLightboxDownload_ERROR_OTHER")}))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logErrorText("keenLightboxDownload_EXCEPTION","keenLightboxDownload_EXCEPTION")}}(ve);n=j[oe=ve]||"";g.isPreview||(Pt("AfterDownload",oe),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxDownload(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxDownload(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,Ct(oe))),DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("download",oe),we("download",oe,s,n)}else if("change_pages"==he.child_action){const e=he.page_prefix?.replace("_","")||"";F[ve]=e;var G=he.width,D=he.height,x=he.width_prev,w=he.height_prev,U=dt(ve),k=ce(ve);JQUERY_DIGIOH("#"+U).offset();if(DIGIOH_LOG.log("Changed Pages: "+e+" ("+k.width+"x"+k.height+")"),re(ye)){const e=ve;if(ne(ve)){var J=ae(e),W=le(e);JQUERY_DIGIOH("#"+U).css({width:"100%",height:W+"px","max-width":"10000px","min-width":J+"px","max-height":W+"px","min-height":W+"px"})}else{J=ae(e),W=le(e);JQUERY_DIGIOH("#"+U).css({width:J+"px",height:W+"px","min-width":J+"px","min-height":W+"px","max-height":W+"px"})}}if(te(ye)){if(JQUERY_DIGIOH("#"+U).attr("style",Oe(ye.banner,ve)),"bottom"!==ye.banner?.placement&&JQUERY_DIGIOH("#banner-spacer-"+ve).length){var Q=ce(ve).height;Q*=Ye(ve),JQUERY_DIGIOH("#banner-spacer-"+ve).height(Q)}Ne("change_pages")}if(ee(ye)&&(JQUERY_DIGIOH("#"+U).attr("style",me(ye.sidebar,ve)),Xe(ve,e,"change_pages"),Ne("change_pages")),Z(ye)){if(Y[ve]=!0,qt()){if(Math.abs(G-x)>20||Math.abs(D-w)>20){var q=Math.round((be.width()-k.width)/2+be.scrollLeft()),z=Math.round((be.height()-k.height)/2+be.scrollTop()),K=Ye(ve);JQUERY_DIGIOH(".fb_lightbox-wrap").filter(":first").css({left:q,top:z,width:k.width+"px",height:k.height+"px",transform:"scale("+K+")","-webkit-transform":"scale("+K+")","-moz-transform":"scale("+K+")","-ms-transform":"scale("+K+")","-o-transform":"scale("+K+")"}),JQUERY_DIGIOH("#"+U).css({left:q,top:z,width:k.width+"px",height:k.height+"px",transform:"scale("+K+")","-webkit-transform":"scale("+K+")","-moz-transform":"scale("+K+")","-ms-transform":"scale("+K+")","-o-transform":"scale("+K+")"})}}else Ht(U,0,ve);Ne("change_pages")}ne(ve)&&(re(ye)?je(ve,U,(new Date).getTime(),0,0):Mt({sender:"lightbox",action:"dimensions_changed",widget_type:ie(ye),width:k.width,height:k.height},ve,100,0));var oe=ve;if(!g.isPreview){var ue=Ct(oe);ue.new_width=he.width,ue.old_width=he.width_prev,ue.new_height=he.height,ue.old_height=he.height_prev,ue.new_page=he.new_page,ue.old_page=he.previous_page,ue.element=he.el_name,ue.trigger=he.ui_source,Pt("AfterChangePages",oe),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnChangePages(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,ue),DIGIOH_CUSTOM_JS.runCustomJsOnChangePages(DIGIOH_API,t,r,JQUERY_DIGIOH,oe,s,ue)}}else if("register_analytics_submit"==he.child_action&&he.hasOwnProperty("submission")&&he.hasOwnProperty("post_to_keen"))if(he.hasOwnProperty("form_display")||DIGIOH_LOG.log("register_analytics_submit: hash does not have property - form_display"),he.hasOwnProperty("form_display")&&1!=he.form_display)DIGIOH_LOG.log("register_analytics_submit: prevented submit event from firing because form is turned off."),DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data=JSON.parse(i.decompressFromBase64(he.submission)),Ce(ve,DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data);else{var _e=l.generateGuidWithTimestamp();DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data=JSON.parse(i.decompressFromBase64(he.submission)),DIGIOH_LIGHTBOX_ANALYTICS.form_submit_query=i.decompressFromBase64(he.post_to_keen);var de={};he.hasOwnProperty("extra")&&he.extra&&(de=he.extra),he.hasOwnProperty("skip_submit")&&he.skip_submit||(function(e,t,r,o){const n=N[t];try{if("US"!==DIGIOH_CONFIG.REGION)return;var s=j[t]||"";if(R[t]=R[t]+1||1,!g.isPreview&&V)return;var a=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",c=DIGIOH_LIGHTBOX_IDS[t]||t||"empty",u=$(s)?.split_short_id||s||"empty",_=DIGIOH_API.LIGHTBOX.INTEGRATION_MAP||{};Pe();var d,f=E;f.cache_version=DIGIOH_CACHE_VERSION,f.is_preview=g.isPreview,f.ip_address="${keen.ip}",f.user_agent="${keen.user_agent}",f.vendor_id=DIGIOH_VENDOR_GUID,f.client_id=m(),f.event_id=l.generateGuidWithTimestamp(),f.submission_id=r,f.lightbox_id=t,f.variation_id="",f.ab_test_id=s,f.uid=a,f.bid=c,f.vid="empty",f.sid=u,f.lightbox_open_time=0,f.page_total_time=B,f.page_active_time=B-M,f.page_idle_time=M,f.impressions_on_page=A[t]||0,f.submits_on_page=R[t],f.integration_map=_,f.widget_type=ie(n),DIGIOH_LIGHTBOX_NAMES[t]&&(f.lightbox_name=DIGIOH_LIGHTBOX_NAMES[t]),DIGIOH_LIGHTBOX_IDS[t]&&(f.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[t]),o.prq&&(f.prqData=i.compressToBase64(JSON.stringify(o.prq)),d=o.prq,delete o.prq),f.extra_data=i.compressToBase64(JSON.stringify(Le(o,t,0,r,s))),d&&(o.prq=d);var p=l.mergeObjectData(f,e),I=[];if("object"==typeof DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ){const e=DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[t];if(e){if("none"===e)return;"all"!==e&&(I=e.split(","))}}if(I.length>0){if(l.stringOrArrayContains(I,"ip")&&(p.geoip.ip_address="****",p.keen.addons.length>0&&"keen:ip_to_geo"==p.keen.addons[0].name&&(p.keen.addons.shift(),delete p.ip_address)),l.stringOrArrayContains(I,"city")&&(p.geoip.city="****"),l.stringOrArrayContains(I,"state")&&(p.geoip.region_code="**",p.geoip.region_name="****"),l.stringOrArrayContains(I,"country")&&(p.geoip.country_code="**",p.geoip.country_name="****"),l.stringOrArrayContains(I,"zip")&&(p.geoip.zipcode="****"),(l.stringOrArrayContains(I,"ip")||l.stringOrArrayContains(I,"city")||l.stringOrArrayContains(I,"state")||l.stringOrArrayContains(I,"country")||l.stringOrArrayContains(I,"zip"))&&(delete p.geoip.latitude,delete p.geoip.longitude,p.keen.hasOwnProperty("location")&&delete p.keen.location),l.stringOrArrayContains(I,"email")&&p.hasOwnProperty("email")&&p.email)if(!p.email.indexOf("@")>1||p.email.split("@")[0].length<1)p.email="***@***.***";else{var h=p.email.split("@")[0];p.email=h.substr(0,1)+"****"+h.slice(-1)+"@"+p.email.split("@")[1]}l.stringOrArrayContains(I,"name")&&p.name&&(p.name="****"),l.stringOrArrayContains(I,"first_name")&&p.first_name&&(p.first_name="****"),l.stringOrArrayContains(I,"last_name")&&p.last_name&&(p.last_name="****"),l.stringOrArrayContains(I,"phone")&&p.phone&&(p.phone="****");for(var O=1;O<=20;O++){var y="custom_"+O;l.stringOrArrayContains(I,y)&&p[y]&&(p[y]="****")}}DIGIOH_API.LIGHTBOX.hasOwnProperty("keen_custom_js_data")&&(p.custom_js_data=DIGIOH_API.LIGHTBOX.keen_custom_js_data),v.addEvent("lightbox_submit",p,(function(e,t){l.isObj(e)&&!0===e.created?(DIGIOH_LOG.log("keenLightboxSubmit: success!"),DIGIOH_LOG.log(e)):t?(DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.logErrorText("keenLightboxSubmit_ERROR","keenLightboxSubmit_ERROR")):DIGIOH_LOG.logErrorText("keenLightboxSubmit_ERROR_OTHER","keenLightboxSubmit_ERROR_OTHER")}))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logErrorText("keenLightboxSubmit_EXCEPTION","keenLightboxSubmit_EXCEPTION")}}(DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data,ve,_e,de),function(e,r,o,n){try{var a=DIGIOH_CONFIG.SUBMIT_BASE_URL+"/Keen/PostToKeen2",c=DIGIOH_CONFIG.SUBMITCUS_BASE_URL+"/Keen/PostToKeen3";"US"==DIGIOH_CONFIG.REGION&&(l.stringOrArrayContains(t.location.host,"robert.lightbox")||l.stringOrArrayContains(t.location.host,"-robert.az")||l.stringOrArrayContains(t.location.host,"robert.digioh"))&&(a=DIGIOH_CONFIG.ROB_BASE_URL+"/Keen/PostToKeenR2"),0===t.location.host.indexOf("beta2")||t.location.href.indexOf("digiohbeta2")>0?a=DIGIOH_CONFIG.BETA2_BASE_URL+"/Keen/PostToKeenB2":(0===t.location.host.indexOf("beta")||t.location.href.indexOf("digiohbeta")>0)&&(a=DIGIOH_CONFIG.BETA_BASE_URL+"/Keen/PostToKeenB"),localStorage.getItem("BOX_SUBMIT_SYNC")&&(a=a.split("/Keen/")[0]+"/Keen/SubmitAndProcess",c=""),/^(|robert|keith|brian|bishoy|beta2?)\.digioh.com$|^localhost:/.test(t.location.host)&&(a="https://"+t.location.host+"/Keen/SubmitAndProcess",c="");const b=DIGIOH_PREVIEW_GLOBALS.DIGIOH_SUBMISSION_OVERRIDE;b&&(a=b,c="");var u=j[r]||"";if(!g.isPreview&&V)return;var _=!1;e.indexOf("delay_integration_3_minutes")>0&&(DIGIOH_LOG.log("delay_integration_3_minutes"),_=!0);const G=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};var d="";d+="_uid="+DIGIOH_VENDOR_GUID+"&",d+="_lid="+r+"&",d+="_vid=&",d+="_tid="+u+"&",d+="_cid="+m()+"&",d+="_sid="+o+"&",n=Le(n,r,0,o,u),d+=G.DeviceAtlas.isRobot?"_bot=1&":"_bot=0&",d+=G.DeviceAtlas.isBrowser?"_bro=1&":"_bro=0&";var f=i.compressToBase64(d+e).split("+").join("%2B"),p="?_form="+f,I="";I+=G.city||"",I+="|_-_|"+(G.region_name||""),I+="|_-_|"+(G.country||""),I+="|_-_|"+(G.country_name||""),I+="|_-_|"+(G.continent||""),I+="|_-_|"+(G.ip_address||""),I+="|_-_|"+(G.zipcode||""),I+="|_-_|"+(G.web_source||""),I+="|_-_|"+(G.search_engine||""),I+="|_-_|"+(G.page_visits||"0"),I+="|_-_|"+(G.past_visits||"0"),I+="|_-_|"+(G.referring_website_url||""),I+="|_-_|"+(G.landing_page||""),I+="|_-_|"+(G.current_page_url||""),I+="|_-_|"+(G.device||""),I+="|_-_|"+(G.browser_type||""),I+="|_-_|"+(G.browser_version||""),I+="|_-_|"+(G.operating_system||""),I+="|_-_|"+(G.date_of_visit||""),I+="|_-_|"+(G.utm_campaign_source||""),I+="|_-_|"+(G.utm_campaign_medium||""),I+="|_-_|"+(G.utm_campaign_term||""),I+="|_-_|"+(G.utm_campaign_content||""),I+="|_-_|"+(G.utm_campaign_name||""),l.stringOrArrayContains(t.location.host,"robert.digioh")?I+="|_-_|1":I+="|_-_|0",g.isPreview?I+="|_-_|1":I+="|_-_|0";var h=i.compressToBase64(I).split("+").join("%2B");p+="&_ext="+h;var O="";const D=DIGIOH_API.LIGHTBOX.INTEGRATION_MAP;if(D){for(var v in O="",D)D[v]&&(""!==O&&(O+="|"),O+=v+"="+D[v]);""!==O&&(p+="&_iov="+(O=i.compressToBase64(O).split("+").join("%2B")))}we("submit",r,s,u);var y="";y+="&_uid="+DIGIOH_VENDOR_SHORT_ID,y+="&_bid="+DIGIOH_API.getBoxID(r),p+=y+="&_ice="+(DIGIOH_API.isCaptchaEnabled(r)?"1":"0");const E=DIGIOH_CONFIG;if(E.USE_SUBMIT_POST){let e=function(e){DIGIOH_LOG.log(e);var t="after_lightbox_submit_failure";e.success&&(t="after_lightbox_submit_success"),Bt({sender:"lightbox",action:t},r)};_||JQUERY_DIGIOH.post(a+"?is_post=1"+y,{_form:f,_ext:h,_iov:O,_extra:i.compressToBase64(JSON.stringify(n))},e),c&&("US"==E.REGION||E.SUBMITCUS_BASE_URL.indexOf("skipendpoint")<0)&&JQUERY_DIGIOH.post(c+"?is_post=1"+y,{_form:f,_ext:h,_iov:O,_extra:i.compressToBase64(JSON.stringify(n))},e)}else _||((new Image).src=a+p),c&&("US"==E.REGION||E.SUBMITCUS_BASE_URL.indexOf("skipendpoint")<0)&&((new Image).src=c+p)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"postToKeen")}}(DIGIOH_LIGHTBOX_ANALYTICS.form_submit_query,ve,_e,de)),function(e){try{DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent?.("submit",e),g.isPreview||(Pt("AfterSubmit",e),DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxSubmit(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)),DIGIOH_CUSTOM_JS.runCustomJsOnLightboxSubmit(DIGIOH_API,t,r,JQUERY_DIGIOH,e,s,Ct(e)))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"registerLightboxSubmit")}}(ve);try{var ge=DIGIOH_LOCAL_STORAGE.getManual("fsdbx");"object"==typeof ge&&ge||(ge={});var fe=DIGIOH_LIGHTBOX_IDS[ve]||ve;for(var pe in DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data)DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data.hasOwnProperty(pe)&&""!==DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[pe]&&(ge[pe]=DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[pe],l.isObj(ge[fe])||(ge[fe]={}),ge[fe][pe]=DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[pe]);DIGIOH_LOCAL_STORAGE.setManual("fsdbx",ge),DIGIOH_LOG.log("fsdbx ==> "),DIGIOH_LOG.log(ge)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.log("fsdbx error - "+e.message)}}else"coupon_used"==he.child_action&&he.hasOwnProperty("coupon_meta_data")&&(!function(e,r){const o=N[e];if("US"!==DIGIOH_CONFIG.REGION)return;const i=j[e]||"",n=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",s=DIGIOH_LIGHTBOX_IDS[e]||e||"empty",a=$(i)?.split_short_id||i||"empty";if(g.isPreview||!V)try{Pe();var c=E;c.coupon_meta_data=r,c.cache_version=DIGIOH_CACHE_VERSION,c.is_preview=g.isPreview,c.ip_address="${keen.ip}",c.user_agent="${keen.user_agent}",c.vendor_id=DIGIOH_VENDOR_GUID,c.client_id=m(),c.event_id=l.generateGuidWithTimestamp(),c.lightbox_id=e,c.variation_id="",c.ab_test_id=i,c.uid=n,c.bid=s,c.vid="",c.sid=a,c.page_total_time=B,c.page_active_time=B-M,c.page_idle_time=M,c.impressions_on_page=A[e]||0,c.widget_type=ie(o),c.lightbox_name=DIGIOH_LIGHTBOX_NAMES[e]||"",DIGIOH_LIGHTBOX_IDS[e]&&(c.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[e]),t.DIGIOH_API.LIGHTBOX.keen_custom_js_data&&(c.custom_js_data=t.DIGIOH_API.LIGHTBOX.keen_custom_js_data),v.addEvent("lightbox_coupon",c,(function(e,t){t?DIGIOH_LOG.logErrorText("keenLightboxCoupon_ERROR","keenLightboxCoupon_ERROR"):DIGIOH_LOG.logErrorText("keenLightboxCoupon_ERROR_OTHER","keenLightboxCoupon_ERROR_OTHER")}))}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logErrorText("keenLightboxCoupon_EXCEPTION","keenLightboxCoupon_EXCEPTION")}}(ve,he.coupon_meta_data),DIGIOH_LOG.log("coupon_used: keenLightboxCoupon"),DIGIOH_LOG.log(he));if(he.hasOwnProperty("parent_action")&&"terminate_lightbox"==he.parent_action&&he.hasOwnProperty("lightbox_id")){P[ve]=!0;var Ie=dt(ve);Ie&&JQUERY_DIGIOH("#"+Ie).length&&JQUERY_DIGIOH("#"+Ie).remove(),l.arrRm(C,ve),l.arrRm(L,ve),DIGIOH_LOG.log("Custom JS Boxes - Before DOM Ready - Terminated Execution of Lightbox: "+ve)}if(he.hasOwnProperty("event")&&("mouseenter"==he.event&&he.hasOwnProperty("lightbox_id")?H[ve]=!0:"mouseleave"==he.event&&he.hasOwnProperty("lightbox_id")&&H.hasOwnProperty(ve)&&delete H[ve]),he.hasOwnProperty("zipcode"))if(he.hasOwnProperty("sender")&&"maxmind2"==he.sender)he.hasOwnProperty("callback_func")&&he.callback_func.length>0&&DIGIOH_API.LIGHTBOX.hasOwnProperty(he.callback_func)&&DIGIOH_API.LIGHTBOX[he.callback_func](he.ip);else{const e=he;e.country_name&&(e.country_name=e.country_name.replace("+"," ")),e.region_name&&(e.region_name=e.region_name.replace("+"," ")),e.city&&(e.city=e.city.replace("+"," ")),e.latitude&&(e.latitude=parseFloat(e.latitude)),e.longitude&&(e.longitude=parseFloat(e.longitude)),e.time_zone&&(e.time_zone=decodeURIComponent(e.time_zone)),e.geo_source="maxmind",DIGIOH_LIGHTBOX_ANALYTICS.setGeoData(e),gr()}if("settings_applied"==he.loading_status){ee(he)&&!L.includes(ve)?xt(ve):te(he)&&!L.includes(ve)?Et(ve):re(he)&&bt(ve),C.includes(ve)||C.push(ve),g.isPreview&&(DIGIOH_PREVIEW_GLOBALS.wasScriptOnLoadedCalled||(DIGIOH_PREVIEW_GLOBALS.DigiohPreviewOnScriptLoaded(),DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_CLICK||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_HOVER||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_SCROLL||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_EXIT||t.setTimeout((function(){pt(DIGIOH_PREVIEW_GLOBALS.LIGHTBOX_GUID_PREVIEW)}),500)));se(ve);if(ne(ve))if(re(ye))je(ve,dt(ve),(new Date).getTime(),0,0);else{k=ce(ve);Mt({sender:"lightbox",action:"dimensions_changed",widget_type:ie(ye),width:k.width,height:k.height},ve,100,0)}}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"processPostMessage")}}function Ft(r,o,n){try{const s=DIGIOH_CONFIG.BOX_BASE_URL,a=DIGIOH_API.CONFIG.CACHE_VALUES?.boxes??{};n=n||g;const l=j[r]||"",c=$(l),u=c?.split_short_id||"",_=c?.name||"",d=DIGIOH_LIGHTBOX_NAMES[r]||"",I=DIGIOH_LIGHTBOX_IDS[r]||"",O="lightbox-iframe-"+r;let v="absolute";qt()&&(v=re(r)?"absolute":"relative");let y=`${s}/vendor/${DIGIOH_VENDOR_GUID}/lightbox/${r}/settings${n.resourceSuffix}`;a[r]&&(y=y.replace(/cb=.*&?/,"cb="+a[r]));const b=(d||"Lightbox Screen Overlay").split('"').join("").split("'").join("");DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[r]?DIGIOH_LOG.log("settings.js already preloaded for "+r):JQUERY_DIGIOH.ajax({url:y,crossDomain:!0,dataType:"script",cache:!0});let G=t.location?.hostname;if(!G)try{G=e?.location?.hostname}catch{}G||(G="");let D=DIGIOH_API.getWidgetMetadata(r,"hosted_iframe:"+G)||DIGIOH_API.getAccountMetadata("hosted_iframe:"+G)||DIGIOH_API.getWidgetMetadata(r,"hosted_iframe")||DIGIOH_API.getAccountMetadata("hosted_iframe")||"";D=D.toLowerCase().replace("https://","").replace("http://","").trim();let E=G&&D&&D.length>7;if(E&&0!==D.indexOf(G+"/")&&(E=!1,DIGIOH_LOG.log("hosted_iframe: host of configured url ("+D+") must match current hostname ("+G+")")),!n.isPreview&&E){let e="";e+="PROTOCOL="+(f||"https://"),e+="|||PROTOCOL_USER_OVERRIDE="+(p||"https://"),e+="|||WIDGET_TYPE="+ie(r),e+="|||CACHE_VERSION="+DIGIOH_CACHE_VERSION,e+="|||CDN_DOMAIN="+DIGIOH_CONFIG.CDN_DOMAIN,e+="|||BOX_BASE_URL="+DIGIOH_CONFIG.BOX_BASE_URL,e+="|||PARENT_URL="+f+t.location.host,e+="|||FULL_URL="+t.location.href.split("'").join("%27"),e+="|||IS_PRODUCTION="+(n.isProd?"true":"false"),e+="|||IS_QA="+(n.isQa?"true":"false"),e+="|||IS_PREVIEW="+(n.isPreview?"true":"false"),e+="|||SHOW_ERRORS="+(h?"true":"false"),e+="|||IS_IE_9_OR_LESS=false",e+="|||VENDOR_GUID="+DIGIOH_VENDOR_GUID,e+="|||VENDOR_SHORT_ID="+DIGIOH_VENDOR_SHORT_ID,e+="|||CLIENT_GUID="+m(),e+="|||LIGHTBOX_GUID="+r,e+="|||LIGHTBOX_SHORT_ID="+I,e+="|||LIGHTBOX_NAME="+d,e+="|||VARIATION_GUID=",e+="|||VARIATION_SHORT_ID=",e+="|||VARIATION_NAME=",e+="|||IS_VARIATION=false",e+="|||AB_TEST_GUID="+l,e+="|||AB_TEST_SHORT_ID="+u,e+="|||AB_TEST_NAME="+_,e+="|||IS_DESKTOP="+Kt().toString().toLowerCase(),e+="|||IS_PHONE="+Wt().toString().toLowerCase(),e+="|||IS_TABLET="+Qt().toString().toLowerCase(),e+="|||IS_MOBILE="+qt().toString().toLowerCase(),e+="|||DIGIOH_USE_RESPONSIVE=false",DIGIOH_CONFIG.DIGIOH_USE_BUGSNAG?e+="|||DIGIOH_USE_BUGSNAG=true":e+="|||DIGIOH_USE_BUGSNAG=false","undefined"!=typeof DIGIOH_USE_PRQ&&DIGIOH_USE_PRQ?e+="|||DIGIOH_USE_PRQ=true":e+="|||DIGIOH_USE_PRQ=false",DIGIOH_API.LIGHTBOX.USE_PRQ="undefined"!=typeof DIGIOH_USE_PRQ&&DIGIOH_USE_PRQ;let s=i.compressToBase64(e),a=D,c="";DIGIOH_CONFIG.CDN_DOMAIN&&"forms.allrecipes.com/w37htfhcq2"!==DIGIOH_CONFIG.CDN_DOMAIN&&(c="&cdn_domain="+encodeURIComponent(DIGIOH_CONFIG.CDN_DOMAIN));let g=DIGIOH_API.getWidgetMetadata(r,"boxtabindex");g="remove"==g?"":g&&!isNaN(g)?`tabindex='${g}'`:"tabindex='1'",JQUERY_DIGIOH("<iframe "+g+" aria-label='Modal Overlay Box Frame' src='//"+a+"?lz="+s+c+"' id='"+O+"' title='"+b+"' class='box-"+I+"' width='100%' height='100%' frameborder='0' scrolling='no' style='display:block;position:"+v+";margin:0;padding:0;border:none;width:100%;height:100%;' sandbox='allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-top-navigation'></iframe>").bind("load",(function(e){})).appendTo("#"+o)}else{let e=DIGIOH_API.getWidgetMetadata(r,"boxtabindex");e="remove"==e?"":e&&!isNaN(e)?`tabindex='${e}'`:"tabindex='1'";const i=JQUERY_DIGIOH("<iframe "+e+" aria-label='Modal Overlay Box Frame' id='"+O+"' title='"+b+"' class='box-"+I+"' width='100%' height='100%' frameborder='0' scrolling='no' style='display:block;position:"+v+";margin:0;padding:0;border:none;width:100%;height:100%;' sandbox='allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-top-navigation' src='about:blank'></iframe>");i.bind("load",(function(e){const o=this.contentDocument||this.contentWindow.document,i=o.getElementsByTagName("head")[0];DIGIOH_API.LIGHTBOX.USE_PRQ="undefined"!=typeof DIGIOH_USE_PRQ&&DIGIOH_USE_PRQ;let s="lightbox_builder.js";n.isPreview&&(s="lightbox_builder_preview.js"),n.isQa&&(s="lightbox_builder_qa.js");const a=o.createElement("script");a.type="text/javascript",a.src=`${DIGIOH_CONFIG.BOX_BASE_URL}/vendor/${DIGIOH_VENDOR_GUID}/${s}?cb=${DIGIOH_CONFIG.CACHE_VALUES.lightbox_builder}`,a.onload=function(){Bt({sender:"main.js",message:"load vars",PROTOCOL:f||"https://",PROTOCOL_USER_OVERRIDE:p||"https://",WIDGET_TYPE:ie(r),CACHE_VERSION:DIGIOH_CACHE_VERSION,CDN_DOMAIN:DIGIOH_CONFIG.CDN_DOMAIN,BOX_BASE_URL:DIGIOH_CONFIG.BOX_BASE_URL,PARENT_URL:f+t.location.host,FULL_URL:t.location.href.split("'").join("%27"),IS_PRODUCTION:n.isProd,IS_PREVIEW:n.isPreview,IS_QA:n.isQa,SHOW_ERRORS:h,IS_IE_9_OR_LESS:!1,VENDOR_GUID:DIGIOH_VENDOR_GUID,VENDOR_SHORT_ID:DIGIOH_VENDOR_SHORT_ID,CLIENT_GUID:m(),LIGHTBOX_GUID:r,LIGHTBOX_SHORT_ID:I,LIGHTBOX_NAME:d,VARIATION_GUID:"",VARIATION_SHORT_ID:"",VARIATION_NAME:"",IS_VARIATION:!1,AB_TEST_GUID:l,AB_TEST_SHORT_ID:u,AB_TEST_NAME:_,IS_DESKTOP:Kt(),IS_PHONE:Wt(),IS_TABLET:Qt(),IS_MOBILE:qt(),DIGIOH_USE_RESPONSIVE:!1,DIGIOH_USE_BUGSNAG:DIGIOH_CONFIG.DIGIOH_USE_BUGSNAG,DIGIOH_USE_PRQ:"undefined"!=typeof DIGIOH_USE_PRQ&&DIGIOH_USE_PRQ},r)},i.appendChild(a)})),i.appendTo("#"+o)}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"loadLightningIframe")}}function Xt(e){const t=DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[e];return"string"==typeof t&&t.indexOf("{")<0?JSON.parse(i.decompressFromBase64(t)):"string"==typeof t&&t.indexOf("{")>=0?JSON.parse(t):t}function Wt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&("boolean"==typeof e.DeviceAtlas?.isMobilePhone?e.DeviceAtlas.isMobilePhone:e.DeviceAtlas?.primaryHardwareType?"Mobile Phone"===e.DeviceAtlas.primaryHardwareType:"Phone/Tablet"===e?.device&&(!e.device_apple||"iphone"===e.device_apple.toLowerCase()))}function Qt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&("boolean"==typeof e.DeviceAtlas?.isTablet?e.DeviceAtlas.isTablet:e.DeviceAtlas?.primaryHardwareType?"Tablet"===e.DeviceAtlas.primaryHardwareType:"Phone/Tablet"===e?.device&&(!e.device_apple||"ipad"===e.device_apple.toLowerCase()))}function qt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&("boolean"==typeof e.DeviceAtlas?.mobileDevice?e.DeviceAtlas.mobileDevice:Wt()||Qt())}function $t(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&("boolean"==typeof e.DeviceAtlas?.osiOs?e.DeviceAtlas.osiOs:Wt()||Qt())}function zt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&("boolean"==typeof e.DeviceAtlas?.osAndroid?e.DeviceAtlas.osAndroid:Wt()||Qt())}function Kt(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};return!!e&&(e.DeviceAtlas?.primaryHardwareType?"Desktop"===e.DeviceAtlas.primaryHardwareType:!Wt()&&!Qt())}function Zt(e){DIGIOH_API.functionsRanMap=DIGIOH_API.functionsRanMap||{};const t=!!DIGIOH_API.functionsRanMap[e.name];return DIGIOH_API.functionsRanMap[e.name]=!0,!t}function er(e){return!!DIGIOH_API.DIGIOH_IS_READY}function tr(e,r,o,i,n){var s={},a="__bxcurr",l=DIGIOH_STORAGE.data[a];l&&("string"==typeof l&&l.length>1&&0===l.indexOf("{")&&"}"===l.substring(l.length-1)?s=JSON.parse(l):"object"==typeof l&&null!==l&&(s=l));let c=DIGIOH_API.DIGIOH_USE_FRAME_COMPATIBILITY?DIGIOH_API.DIGIOH_TOP_WINDOW_CONTEXT:t.parent;("string"!=typeof e||e.indexOf("://")<=0)&&(e=c.location.href),r&&(t.SENT_LIGHTBOX_PV=!1,Se()),qe.resetConditionsTime(),qe.resetConditionsScroll(),B=0,M=0;const u=DIGIOH_LIGHTBOX_ANALYTICS.VARS;u.total_time_seconds=0,u.active_time_seconds=0,u.idle_time_seconds=0;var _=!1;if(e&&e!==u.current_page_url){var d=c.location.host,g=e.replace("https://"+d,"").replace("http://"+d,"");if(u.current_page_url=e,u.pages_navigated+="|"+e,u.PagesNavigated.push(e),DIGIOH_STORAGE.isCookie()){var f=DIGIOH_LOCAL_STORAGE.getManual("xdibx_pgsnavurls");f&&(f.push(g),DIGIOH_LOCAL_STORAGE.setManual("xdibx_pgsnavurls",f))}else s.purl.push(g);_=!0}o&&(u.page_visits++,s.pvcnt=u.page_visits,u.page_visits_session++,s.pvscnt=u.page_visits_session,_=!0),qe.recheckExistsSelectors(),qe.initClickSelectors(It),qe.initHoverSelectors(It),n&&q(),_&&(DIGIOH_STORAGE.data[a]=s,DIGIOH_STORAGE.set()),DIGIOH_API&&!DIGIOH_API.isInitConditionsExecuted?(DIGIOH_LOG.log("initConditions not executed yet, initializing now"),ze()):Ke().then((()=>{Ze()}))}DIGIOH_API.GET_ANALYTICS=function(){return DIGIOH_LIGHTBOX_ANALYTICS},DIGIOH_API.GET_KEEN_SCHEMA=function(){return E},DIGIOH_API.GET_KEEN_CLIENT=function(){return v},DIGIOH_API.GET_KEEN_CLIENT_2=DIGIOH_API.GET_KEEN_CLIENT,DIGIOH_API.GET_EFFECTS=function(e){return N[e]||null},DIGIOH_API.GET_EFFECTS_ASYNC=async function(e){return await He(e),DIGIOH_API.GET_EFFECTS(e)},DIGIOH_API.GET_SETTINGS=function(e){const t=DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS;return l.isObj(t)&&t[e]?t[e]:null},DIGIOH_API.DIGIOH_DYNAMIC_BOXES="undefined"!=typeof DIGIOH_DYNAMIC_BOXES?DIGIOH_DYNAMIC_BOXES:[],DIGIOH_API.COUPON_GROUP_POPULATE_OBJ="undefined"!=typeof COUPON_GROUP_POPULATE_OBJ?COUPON_GROUP_POPULATE_OBJ:{};var rr,or;function ir(e,o){const n=o.DLOG,s=o.UTIL,a=o.DCOND,l=o.JQUERY_DIGIOH,c=o.DIGIOH_COOKIE||{},u=o.DIGIOH_LOCAL_STORAGE||{},_="boolean"==typeof o.IS_PREVIEW&&o.IS_PREVIEW,d=o.DIGIOH_VENDOR_SHORT_ID||0,g=o.DIGIOH_PARTNER_NAME||"",f=o.DIGIOH_VENDOR_GUID||"",p=o.CLIENT_GUID||"",I=o.DIGIOH_LIGHTBOX_IDS||[],h=o.KEEN_SCHEMA||{},O=o.DIGIOH_KEEN_WRITE_KEY||"",m=o.DIGIOH_CACHE_VERSION||(new Date).getTime().toString(),v=o.LZ_STRING||o.LZString||{},y=o.DIGIOH_SPLIT_TESTS_ARR||[],b=o.LOADED_LIGHTBOXES||[],G=o.ACCOUNT_METADATA||[],D=o.updateKeenSchemaBeforeSending,E=o.getDigiohLightboxAnalytics;e.openConditionsMonitor=function(){a.openConditionsMonitor(l)},e.evalBoxConditions=a.evalBoxConditions,e.hasEndPlatformListConditions=a.hasEndPlatformListConditions,e.hasEndPlatformSegmentConditions=a.hasEndPlatformSegmentConditions,e.print=n.print,e.printAll=n.printAll,e.printErrors=n.printErrors,e.debugger=function(t){(e.isPreview()||e.isQaMode())&&t&&confirm("Debug "+t+"?")},e.getCacheBreaker=function(){return m},e.getCookie=function(e,t){return c.getEncoded(e)},e.getCookieLZString=function(e,t){return c.get(e,!1)},e.getCookieBase64=function(e,t){try{var r=c.getEncoded(e);return null!=r&&"string"==typeof r&&""!=r&&"function"==typeof atob?atob(r):r}catch(t){return n.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),n.logError(t,"getCookieBase64"),c.getEncoded(e)}},e.setCookie=function(e,t,r){try{var o=365;"object"==typeof r&&null!==r&&r.hasOwnProperty("expirationDays")&&(o=r.expirationDays),"string"==typeof o&&(o=parseFloat(o)),c.trySet(e,t,!1,o)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"setCookie")}},e.setCookieLZString=function(e,t,r){try{var o=365;"object"==typeof r&&null!==r&&r.hasOwnProperty("expirationDays")&&(o=r.expirationDays),"string"==typeof o&&(o=parseFloat(o)),c.trySet(e,t,!0,o)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"setCookieLZString")}},e.setCookieBase64=function(e,t,r){try{var o=365;"object"==typeof r&&null!==r&&r.hasOwnProperty("expirationDays")&&(o=r.expirationDays),"string"==typeof o&&(o=parseFloat(o)),c.trySet(e,btoa(t),!1,o)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"setCookieBase64")}},e.deleteCookie=function(e,t){c.erase(e)},e.getUrlParameter=function(e,t){return s.getUrlParam(e)},e.getCurrentUrl=function(e){return t.location.href},e.getHostname=function(e){return t.location.host},e.getPagePath=function(e){return t.location.pathname},e.getQueryString=function(e){return t.location.search},e.getUrlHash=function(e){return t.location.hash},e.getLandingPageUrl=function(t){return e.GET_ANALYTICS().VARS.landing_page},e.getReferrer=function(e){return r.referrer},e.getLandingPageReferrer=function(t){return e.GET_ANALYTICS().VARS.referring_website_url},e.getClientIpAddress=function(t){return e.GET_ANALYTICS().VARS.ip_address},e.getClientContinentCode=function(t){return e.GET_ANALYTICS().VARS.continent},e.getClientContinentName=function(t){return e.GET_ANALYTICS().VARS.continent_name},e.getClientCountryCode=function(t){return e.GET_ANALYTICS().VARS.country},e.getClientCountryName=function(t){return e.GET_ANALYTICS().VARS.country_name},e.getClientCountryISO=function(t){return e.GET_ANALYTICS().VARS.country},e.isClientInEU=function(t){return"EU"===e.getClientContinentCode||"Europe"===e.getClientContinentName},e.getClientRegionOrStateCode=function(t){return e.GET_ANALYTICS().VARS.state},e.getClientRegionOrStateName=function(t){return e.GET_ANALYTICS().VARS.region_name},e.getClientCity=function(t){return e.GET_ANALYTICS().VARS.city},e.getClientPostalCode=function(t){return e.GET_ANALYTICS().VARS.zipcode},e.getOperatingSystem=function(t){return e.GET_ANALYTICS().VARS.operating_system},e.getBrowserType=function(t){return e.GET_ANALYTICS().VARS.browser_type},e.getBrowserVersion=function(t){return e.GET_ANALYTICS().VARS.browser_version},e.getDeviceType=function(){return e.GET_ANALYTICS().VARS.device},e.getTrafficSource=function(){return e.GET_ANALYTICS().VARS.web_source},e.getSearchEngineSource=function(){return e.GET_ANALYTICS().VARS.search_engine},e.getTotalPageViews=function(){return e.GET_ANALYTICS().VARS.page_visits},e.getTotalSessions=function(){return e.GET_ANALYTICS().VARS.past_visits},e.isQaMode=function(){return e.getQueryString().indexOf("boxqamode")>-1||1==sessionStorage.getItem("xdibx_boxqamode")},e.turnOffQAMode=function(){sessionStorage.removeItem("xdibx_boxqamode"),t.location.href.indexOf("boxqamode")>-1?t.location.href=t.location.href.replace("boxqamode",""):t.location.reload()},e.turnOnQAMode=function(){sessionStorage.setItem("xdibx_boxqamode",1),t.location.reload()},e.isMobile=function(t){return e.LIGHTBOX.isMobile()},e.isTablet=function(t){return e.LIGHTBOX.isTablet()},e.isDesktop=function(t){return e.LIGHTBOX.isDesktop()},e.isIOS=function(t){return e.LIGHTBOX.isiOs()},e.isAndroid=function(t){return e.LIGHTBOX.isAndroid()},e.isNewSession=function(t){return e.GET_ANALYTICS().IsNewSession()},e.isNewVisitor=function(t){return e.GET_ANALYTICS().IsNewVisitor()},e.getPagesNavigatedAllTime=function(t){return e.GET_ANALYTICS().VARS.PagesNavigated},e.getDaysSinceLastPageview=function(t){try{var r=(new Date).getTime();return Math.floor((r-e.GET_ANALYTICS().PreviousPageviewTs)/864e5)}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getDaysSinceLastPageview"),0}},e.closeAllBoxes=function(){try{e.LIGHTBOX.closeAllOpenLightboxes()}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"closeAllBoxes")}},e.closeBox=function(t){try{if(t=e.getBoxGUID(t)){e.LIGHTBOX.closeAllOpenLightboxes(t,!0)}else e.LIGHTBOX.closeAllOpenLightboxes()}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"closeBox")}},e.openBox=function(t,r={}){if(t)try{var o=e.getBoxGUID(t),i=!!r.evalConditions,s=DIGIOH_LIGHTBOX_CONDITIONS;if(e.log("loadLightbox: DAPI.openBox, "+o+" conditions: "+i),i)for(var l=0;l<s.length;l++){var c=s[l];c.lightbox_guid==o&&(a.evalConditions(c.conditions,o,E().VARS,!1,!1)?(n.log("loadLightbox: DAPI.openBox conditions passed"),e.LIGHTBOX.loadLightbox(o)):n.log("loadLightbox: DAPI.openBox conditions failed"))}else{e.LIGHTBOX.loadLightbox(o,!0)}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"openBox")}else e.log("DAPI.openBox ==> boxId parameter is required!")},e.getOpenBoxIds=function(){for(var t=[],r=b||[],o=0;o<r.length;o++)t.push(e.getBoxID(r[o]));return t},e.addBoxIntegration=function(t,r){try{if(t&&t.length<20&&(t=e.getBoxGUID(t)),!t)return void e.log("DAPI.addBoxIntegration ==> boxId parameter is required!");if(!r||"string"==typeof r&&r.indexOf("-")>0)return void e.log("DAPI.addBoxIntegration ==> integrationId parameter is required!  It should be the short id value of the integration.");"string"!=typeof r&&(r=r.toString()),e.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(t)?-1===e.LIGHTBOX.INTEGRATION_MAP[t].indexOf(r)&&(e.LIGHTBOX.INTEGRATION_MAP[t].length>1&&(e.LIGHTBOX.INTEGRATION_MAP[t]+=","),e.LIGHTBOX.INTEGRATION_MAP[t]+=r,e.log("DAPI.addBoxIntegration ==> (BOX #"+t+") - Added integration_id "+r+" to INTEGRATION_MAP"),e.log(e.LIGHTBOX.INTEGRATION_MAP)):(e.LIGHTBOX.INTEGRATION_MAP[t]=r,e.log("DAPI.addBoxIntegration ==> (BOX #"+t+") - Added integration_id "+r+" to INTEGRATION_MAP"),e.log(e.LIGHTBOX.INTEGRATION_MAP))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"addBoxIntegration")}},e.removeBoxIntegration=function(t,r){try{if(!(t=e.getBoxGUID(t)))return void e.log("DAPI.removeBoxIntegration ==> boxId parameter is required!");if(!r||"string"==typeof r&&r.indexOf("-")>0)return void e.log("DAPI.removeBoxIntegration ==> integrationId parameter is required!  It should be the short id value of the integration.");"string"!=typeof r&&(r=r.toString()),e.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(t)&&e.LIGHTBOX.INTEGRATION_MAP[t].indexOf(r)>=0&&(e.LIGHTBOX.INTEGRATION_MAP[t]=e.LIGHTBOX.INTEGRATION_MAP[t].replace(","+r,"").replace(r+",","").replace(r,""),e.log("DAPI.removeBoxIntegration ==> (BOX #"+t+") - Removed integration_id "+r+" from INTEGRATION_MAP"),e.log(e.LIGHTBOX.INTEGRATION_MAP))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"removeBoxIntegration")}},e.resetBoxIntegrations=function(t){try{if(!(t=e.getBoxGUID(t)))return void e.log("DAPI.resetBoxIntegrations ==> boxId parameter is required!");e.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(t)&&delete e.LIGHTBOX.INTEGRATION_MAP[t]}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"resetBoxIntegrations")}},e.getBoxType=function(t){try{return(t=e.getBoxGUID(t))?e.GET_EFFECTS(t)?"sidebar"===e.GET_EFFECTS(t).widget_type&&e.GET_EFFECTS(t).sidebar.hasOwnProperty("is_converted_lightbox")&&e.GET_EFFECTS(t).sidebar.is_converted_lightbox||"fancybox"===e.GET_EFFECTS(t).widget_type?"lightbox":e.GET_EFFECTS(t).widget_type:(e.log("DAPI.getBoxType ==> boxId "+t+" not found in EFFECTS object!"),""):(e.log("DAPI.getBoxType ==> boxId parameter is required!"),"")}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getBoxType"),""}},e.isCaptchaEnabled=function(e){try{var t=JSON.parse(i.decompressFromBase64(DIGIOH_API.GET_SETTINGS(e))),r=Object.keys(t).filter((e=>e.indexOf("html")>=0));for(var o of r){var s=t[o]?.metadata_kvps?.find((e=>"recaptcha"===e.k));if(s&&"true"===s.v)return!0}return!1}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"isCaptchaEnabled"),""}},e.isValidEmail=function(t,r){try{if("string"!=typeof t||t.indexOf("@")<=0)return e.log("DAPI.isValidEmail ==> email parameter is required!"),!1;if(0===t.toLowerCase().indexOf("mailto:"))return e.log('DAPI.isValidEmail ==> emails with "mailto:" prefix are not allowed'),!1;var o=t.split("@"),i=o[0],s=o[1],a=s.split("."),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_";if(!/^(?!.*;)\S+@(?!.*;)\S+\.\S+$/.test(t))return e.log("DAPI.isValidEmail ==> Failed regex format test"),!1;if(2!==o.length)return e.log("DAPI.isValidEmail ==> Wrong number of @ signs"),!1;if(i.length<1||s.length<3)return e.log("DAPI.isValidEmail ==> Wrong number of characters before or after @ sign"),!1;if(s.indexOf(".")<=0)return e.log("DAPI.isValidEmail ==> Domain must include but not start with ."),!1;if(t.indexOf(",")>=0||t.indexOf("'")>=0||t.indexOf("`")>=0||t.indexOf('"')>=0||t.indexOf(" ")>=0)return e.log("DAPI.isValidEmail ==> Email must exclude most special characters"),!1;if(l.indexOf(i.substr(i.length-1))<0)return e.log("DAPI.isValidEmail ==> no special chars immediately before @ symbol"),!1;if(l.indexOf(s.substr(0,1))<0)return e.log("DAPI.isValidEmail ==> no special chars immediately after @ symbol"),!1;if(a[a.length-1].length<2)return e.log("DAPI.isValidEmail ==> Domains last . should be 2 chars or more from the end"),!1;if(i.indexOf(" ")>0||s.indexOf(" ")>0||i.indexOf("..")>=0||s.indexOf("..")>=0)return e.log("DAPI.isValidEmail ==> Found extra spaces or chained periods"),!1;const r=["con","cmo","cno","cmom","kcom","conm","kom","cm","c","o","coom","comm","ccom"];return["gogglemail","googlmail","goglemail","hotmial","hotmal","hoitmail","homail","hotnail","hotrmail","hotmil","hotmaill","ntlwolrd","ntlword","ntl.world","ntlwrold","tiscale","tiscalli","tiscally","tiscaly","btinterent","btinternt","yaho.","uahoo","ayhoo","ymial","ymal","ymaill","ynail","yail","gmial","gmal","gmil","gnail","gmaill","gail"].filter((e=>s.toLowerCase().indexOf(e.toLowerCase())>-1)).length>0?(e.log("DAPI.isValidEmail ==> Found email typo"),!1):!(r.filter((e=>a[1]==e)).length>0)||(e.log("DAPI.isValidEmail ==> Found email typo"),!1)}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"isValidEmail"),!1}},e.writeCustomFlag=function(t,r){try{if(!t)return void e.log("DAPI.writeCustomFlag ==> flagId parameter is required!");l("body").append('<div id="'+t+'" class="box_custom_flag"></div>')}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"writeCustomFlag")}},e.reload=function(t){try{var r="",o=!0,i=!0,s=!0,a=!1;t&&"object"==typeof t&&t.hasOwnProperty("url")&&(r=t.url),t&&"object"==typeof t&&t.hasOwnProperty("sendPvEvent")&&(o=t.sendPvEvent),t&&"object"==typeof t&&t.hasOwnProperty("updatePvVars")&&(i=t.updatePvVars),t&&"object"==typeof t&&t.hasOwnProperty("useMasterRules")&&(s=t.useMasterRules),t&&"object"==typeof t&&t.hasOwnProperty("recalculateAbTests")&&(a=t.recalculateAbTests),e.LIGHTBOX.onPageUrlChanged(r,o,i,s,a)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"reload")}},e.enableReloadOnUrlChange=function(r){e.CURRENT_PAGE_URL=e.CURRENT_PAGE_URL||t.location.href;var o=!0,i=!0,s=!0,a=!1,l=500;try{r&&"object"==typeof r&&r.hasOwnProperty("sendPvEvent")&&(o=r.sendPvEvent),r&&"object"==typeof r&&r.hasOwnProperty("updatePvVars")&&(i=r.updatePvVars),r&&"object"==typeof r&&r.hasOwnProperty("useMasterRules")&&(s=r.useMasterRules),r&&"object"==typeof r&&r.hasOwnProperty("recalculateAbTests")&&(a=r.recalculateAbTests),r&&"object"==typeof r&&r.hasOwnProperty("checkIntervalMillis")&&"number"==typeof r.checkIntervalMillis&&(l=r.checkIntervalMillis)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"enableReloadOnUrlChange ")}function c(){try{t.location.href!=e.CURRENT_PAGE_URL&&(e.CURRENT_PAGE_URL=t.location.href,e.LIGHTBOX.closeAllInlineForms(),e.LIGHTBOX.closeAllOpenLightboxes(),e.LIGHTBOX.onPageUrlChanged(e.CURRENT_PAGE_URL,o,i,s,a),DIGIOH_CUSTOM_JS.log("enableReloadOnUrlChange  - Lightbox_Page_URL_Changed_SUCCESS: "+e.CURRENT_PAGE_URL))}catch(t){e.log("enableReloadOnUrlChange  - Lightbox_Page_URL_Changed_ERROR ==> "+e.CURRENT_PAGE_URL),e.log(t.message)}}e.enableReloadOnUrlChangeInterval=setInterval((function(){c()}),l),c()},e.isReady=function(t){return e.LIGHTBOX.isDigiohReady()},e.hideUrlParameter=function(r){try{if("string"!=typeof r||!r)return;let i=e.DIGIOH_USE_FRAME_COMPATIBILITY?e.DIGIOH_TOP_WINDOW_CONTEXT:t.top;if(i.location.search.indexOf(r+"=")>=0){var o=new RegExp("[?&]"+r+"=[^&]+","gi");i.history.replaceState(null,null,i.location.protocol+"//"+i.location.host+i.location.pathname+i.location.search.replace(o,"").replace(/^&/,"?"))}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"hideUrlParameter")}},e.getDataLayerValue=function(t,r){try{if("string"!=typeof t||!t)return null;var o=u.getManual("fsdbx");if("object"!=typeof o||!o)return null;if("number"==typeof r&&(r=r.toString()),"string"==typeof r&&r.length>2){var i=e.getBoxID(r);return o.hasOwnProperty(i)&&"object"==typeof o[i]&&null!==o[i]&&o[i].hasOwnProperty(t)?o[i][t]:null}if(o.hasOwnProperty(t))return o[t]}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getDataLayerValue")}return null},e.setDataLayerValue=function(t,r,o){try{if("string"!=typeof t||!t)return;var i=u.getManual("fsdbx");if("object"==typeof i&&i||(i={}),"number"==typeof o&&(o=o.toString()),"string"==typeof o&&o.length>2){var s=e.getBoxID(o);i.hasOwnProperty(s)&&"object"==typeof i[s]&&null!==i[s]||(i[s]={}),i[s][t]=r,u.setManual("fsdbx",i)}else i[t]=r,u.setManual("fsdbx",i)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"setDataLayerValue")}},e.removeDataLayerValue=function(t,r){try{if("string"!=typeof t||!t)return;var o=u.getManual("fsdbx");if("object"!=typeof o||!o)return;if("number"==typeof r&&(r=r.toString()),"string"==typeof r&&r.length>2){var i=e.getBoxID(r);if(!o.hasOwnProperty(i)||"object"!=typeof o[i]||null===o[i]||!o[i].hasOwnProperty(t))return;delete o[i][t],u.setManual("fsdbx",o)}else o.hasOwnProperty(t)&&(delete o[t],u.setManual("fsdbx",o))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"removeDataLayerValue")}},e.getDataLayer=function(t){try{var r=u.getManual("fsdbx");if("object"!=typeof r||!r)return{};if("number"==typeof t&&(t=t.toString()),"string"==typeof t&&t.length>2){var o=e.getBoxID(t);return r.hasOwnProperty(o)&&"object"==typeof r[o]&&null!==r[o]?r[o]:{}}return r}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getDataLayer")}return{}},e.setDataLayer=function(t,r){try{if("object"!=typeof t||!t)return;var o=u.getManual("fsdbx");if("object"==typeof o&&o||(o={}),"number"==typeof r&&(r=r.toString()),"string"==typeof r&&r.length>2){var i=e.getBoxID(r);for(var s in o.hasOwnProperty(i)&&"object"==typeof o[i]&&null!==o[i]||(o[i]={}),t)t.hasOwnProperty(s)&&(o[i][s]=t[s]);u.setManual("fsdbx",o)}else{for(var s in t)t.hasOwnProperty(s)&&(o[s]=t[s]);u.setManual("fsdbx",o)}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"setDataLayer")}},e.clearDataLayer=function(t){try{if("number"==typeof t&&(t=t.toString()),"string"==typeof t&&t.length>2){var r=u.getManual("fsdbx");"object"==typeof r&&r||(r={}),r[e.getBoxID(t)]={},u.setManual("fsdbx",r)}else r={},u.setManual("fsdbx",r)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"clearDataLayer")}},e.getFormData=function(t){try{"number"==typeof t&&(t=t.toString());var r=e.getBoxID(t).toString();if(e.LIGHTBOX.hasOwnProperty("SINGLE_PAGE_FORM_DATA")&&e.LIGHTBOX.SINGLE_PAGE_FORM_DATA&&e.LIGHTBOX.SINGLE_PAGE_FORM_DATA.hasOwnProperty(r))return e.LIGHTBOX.SINGLE_PAGE_FORM_DATA[r]}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getFormData")}return null},e.getWidgetMetadata=function(t,r){try{if("string"!=typeof t&&"number"!=typeof t)return null;var o=e.getBoxGUID(t);if(!o||o.length<20)return null;var i=e.GET_EFFECTS(o);if(i&&i.widget_type&&i[i.widget_type]&&i[i.widget_type].metadata_kvps){if("string"!=typeof r||!r)return i[i.widget_type].metadata_kvps;for(var s=0;s<i[i.widget_type].metadata_kvps.length;s++)if(i[i.widget_type].metadata_kvps[s].k===r)return i[i.widget_type].metadata_kvps[s].v}}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getWidgetMetadata")}return null},e.getAccountMetadata=function(e){try{if((null==e||!e)&&"object"==typeof G)return G;if("string"==typeof e&&e.length>0&&"object"==typeof G&&null!==G&&G.hasOwnProperty(e))return G[e]}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getAccountMetadata")}return null},e.get$=function(){return l},e.reset=function(){try{e.clearDataLayer(),c.erase("xdibx"),localStorage.removeItem("fsdbx"),localStorage.removeItem("xdibx"),localStorage.removeItem("xdibx_pgsnavurls")}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"reset")}},e.resetAll=function(){try{e.reset(),localStorage.clear();for(var r=(e.DIGIOH_USE_FRAME_COMPATIBILITY?t:t.parent).document.cookie.split(";"),o=0;o<r.length;o++)c.erase(r[o].split("=")[0])}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"resetAll")}},e.getClientTimeZone=function(){try{return e.GET_ANALYTICS().VARS.time_zone||""}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getClientTimeZone")}return""},e.getLongitude=function(){try{return e.GET_ANALYTICS().VARS.longitude||""}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getLongitude")}return""},e.getLatitude=function(){try{return e.GET_ANALYTICS().VARS.latitude||""}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getLatitude")}return""},e.isPreview=function(e){return _},e.getAccountId=function(e){return d},e.getPartnerName=function(){return g},e.getAccountGuid=function(e){return f},e.getClientId=function(e){return p},e.getBoxGUID=function(t){try{if(!t)return e.log("DAPI.getBoxGUID ==> boxIDorGUID parameter is required!"),"";if("string"!=typeof t&&(t=t.toString()),t.indexOf("-")>0&&t.length>30)return t;var r=t;for(var o in I)if(I.hasOwnProperty(o)&&I[o].toString()===r)return o;return""}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getBoxGUID"),""}},e.getBoxId=function(t){try{if(!t)return e.log("DAPI.getBoxID ==> boxIDorGUID parameter is required!"),"";if("string"!=typeof t&&(t=t.toString()),t.indexOf("-")<0&&t.length<30)return t;var r=t;return I.hasOwnProperty(r)?I[r].toString():""}catch(e){return n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"getBoxID"),""}},e.getBoxID=e.getBoxId,e.logEvent=function(t,o){try{if("US"!==e.CONFIG.REGION||e.CONFIG.LOG_BASE_URL.indexOf("skipendpoint")>=0)return void e.log("DAPI.logEvent ==> will not run for accounts that are based outside the US!");if(!t||"object"!=typeof t)return void e.log("DAPI.logEvent ==> data param is required!");D();var i={};i.geoip=h.geoip,i.device_atlas=h.device_atlas,i.entry_point=h.entry_point,i.referrer_url=r.referrer,i.current_url=r.location.href,i.cache_version=m,i.is_preview=_,i.client_id=p,i.event_id=s.generateGuidWithTimestamp(),i.user_id=e.getAccountId(),i.user_guid=e.getAccountGuid(),i.page_total_time=0,i.page_active_time=0,i.page_idle_time=0;var a=(new Date).getTime();o&&"object"==typeof o||(o={}),o.hasOwnProperty("group")||(o.group="default");var l=!1;o.hasOwnProperty("exp")||(o.exp=a+2592e5,l=!0);try{"string"==typeof o.exp&&(o.exp.indexOf("/")>0||o.exp.indexOf("-")>0||o.exp.indexOf(".")>0)&&(o.exp=Date.parse(o.exp))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),o.exp=a+2592e5,l=!0,n.logError(err,"DAPI.logEvent.Date.parse(options.exp)")}var c={};try{var u=localStorage.getItem("__d_widget_logs");"string"==typeof u&&u.length>7&&(c=JSON.parse(v.decompressFromBase64(u))).hasOwnProperty(o.group)&&c[o.group].hasOwnProperty("exp")&&l&&(o.exp=c[o.group].exp)}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(err,"DAPI.logEvent.localOptions")}if(c[o.group]={},c[o.group].exp=o.exp,localStorage.setItem("__d_widget_logs",v.compressToBase64(JSON.stringify(c))),a>o.exp)return void e.log("DAPI.logEvent ==> Log event suppressed.  Log group ("+o.group+") expired on "+new Date(o.exp));e.log("DAPI.logEvent ==> Log event sent!  Log group ("+o.group+") expires on "+new Date(o.exp)),i.options_group=o.group,i.options_exp=o.exp;var d=s.mergeObjectData(i,t);if("US"==e.CONFIG.REGION||e.CONFIG.LOG_BASE_URL.indexOf("skipendpoint")<0)(new Image).src=e.CONFIG.LOG_BASE_URL+"/Keen/LgEv?u="+e.getAccountId()+"&k="+encodeURIComponent(O)+"&p="+encodeURIComponent(v.compressToBase64(JSON.stringify(d)))}catch(e){n.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),n.logError(e,"logEvent")}},e.getMVTestGroups=function(){const t=[];for(const r of y){const o=r.split_short_id,i=r.split_guid;if("multivariate"==r.test_type){let n=o+"-";const s=r.box_guids.split(",");for(const r of s)if(e.LIGHTBOX.AB_BOXES_TAKE_MAP[r]==i){n+=e.getBoxID(r),t.push(n);break}if(/-$/.test(n))throw new Error("Could not find box in test")}}return t},e.printConditionsOutput=function(e){"undefined"!=typeof console&&e&&("number"==typeof e&&(e=String(e)),console.log(`--${e}: ${$e(e)}\n${a.getConditionsOutput(e)}`))},e.contains=s.stringOrArrayContains;e.sendGAEvent=function(){n.logError("GA3 sendGAEvent no longer supported")},e.setGATracker=function(){n.logError("GA3 setGATracker no longer supported")},e.sendGADisplayEvent=function(){n.logError("GA3 sendGADisplayEvent no longer supported")},e.sendGASubmitEvent=function(){n.logError("GA3 sendGASubmitEvent no longer supported")},e.sendGARedirectEvent=function(){n.logError("GA3 sendGARedirectEvent no longer supported")},e.sendGACloseEvent=function(){n.logError("GA3 sendGACloseEvent no longer supported")},e.GoogleAnalytics={},e.GoogleAnalytics.num_checks=0,e.GoogleAnalytics.tracker=!1,e.GoogleAnalytics.is_ga_classic=!1,e.GoogleAnalytics.is_ga_universal=!1,e.GoogleAnalytics.is_new_diuid=!1,e.GoogleAnalytics.tryInitGADigioh=e.tryInitGADigioh,e.GoogleAnalytics.sendGAEvent=e.sendGAEvent,e.GoogleAnalytics.uaIdManual="",e.tryInitGADigioh=e.tryInitGADigioh,e.warnNotify=function(e,t){},e.errorNotify=function(e,t){},e.successNotify=function(e,t){},e.infoNotify=function(e,t){},e.warnNotifyApp=function(e,t){},e.errorNotifyApp=function(e,t){},e.successNotifyApp=function(e,t){},e.infoNotifyApp=function(e,t){},e.initAppNotifications=function(t,r){return notifier={infoNotifyApp:e.infoNotifyApp,warnNotify:e.warnNotify,errorNotify:e.errorNotify,successNotify:e.successNotify,infoNotify:e.infoNotify,warnNotifyApp:e.warnNotifyApp,errorNotifyApp:e.errorNotifyApp,successNotifyApp:e.successNotifyApp}}}function nr(){try{DIGIOH_LIGHTBOX_ANALYTICS.onDocumentReady(),DIGIOH_LIGHTBOX_ANALYTICS.loadAllVars(),DIGIOH_LIGHTBOX_ANALYTICS.VARS.IsLoaded=!0,function(){if(function(e){return e&&e.constructor&&"Cash"===e.constructor.name}(JQUERY_DIGIOH())){var e=JQUERY_DIGIOH("body")[0];JQUERY_DIGIOH.idleTimer(3e3,e),JQUERY_DIGIOH("body").on("idle",(function(){M+=3,DIGIOH_API.IDLE_INTERVAL=o.setInterval(it,1e3)})),JQUERY_DIGIOH("body").on("active",(function(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};DIGIOH_API.IDLE_INTERVAL&&(o.clearInterval(DIGIOH_API.IDLE_INTERVAL),DIGIOH_API.IDLE_INTERVAL=null,M=0,e.idle_time_seconds=M)}))}else JQUERY_DIGIOH.idleTimer(3e3),JQUERY_DIGIOH(r).bind("idle.idleTimer",(function(){M+=3,DIGIOH_API.IDLE_INTERVAL=o.setInterval(it,1e3)})),JQUERY_DIGIOH(r).bind("active.idleTimer",(function(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};DIGIOH_API.IDLE_INTERVAL&&(o.clearInterval(DIGIOH_API.IDLE_INTERVAL),DIGIOH_API.IDLE_INTERVAL=null,M=0,e.idle_time_seconds=M)}));o.setInterval(nt,1e3)}(),function(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS||{};try{(E={cache_version:DIGIOH_CACHE_VERSION,is_preview:g.isPreview,ip_address:"${keen.ip}",user_agent:"${keen.user_agent}",vendor_id:DIGIOH_VENDOR_GUID,client_id:m(),referrer_url:r.referrer,page_url:r.location.href,geoip:{ip_address:e.ip_address,continent_code:e.continent,country_code:e.country,country_name:e.country_name,region_code:e.state,region_name:e.region_name,city:e.city,zipcode:e.zipcode,metro_code:e.metro_code,time_zone:e.time_zone,area_code:e.area_code,latitude:e.latitude,longitude:e.longitude,geo_source:e.geo_source,blip_matched:V},device:{hardware:e.device,os:e.operating_system,browser_type:e.browser_type,browser_version:e.browser_version},entry_point:{referrer_url:e.referring_website_url,landing_page_url:e.landing_page,landing_page_ip:e.landing_page_ip,landing_page_date:e.date_of_visit,web_source:e.web_source,past_visits:e.past_visits,page_visits:e.page_visits,search_engine:e.search_engine,utm_campaign_source:e.utm_campaign_source,utm_campaign_medium:e.utm_campaign_medium,utm_campaign_term:e.utm_campaign_term,utm_campaign_content:e.utm_campaign_content,utm_campaign_name:e.utm_campaign_name}}).keen={},E.keen.addons=[{name:"keen:ip_to_geo",input:{ip:"ip_address"},output:"ip_to_geo_addon"},{name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"ua_parser_addon"},{name:"keen:url_parser",input:{url:"page_url"},output:"url_parser_addon"},{name:"keen:referrer_parser",input:{referrer_url:"referrer_url",page_url:"page_url"},output:"referrer_parser_addon"}],e.latitude&&e.longitude&&(E.keen.location={},E.keen.location.coordinates=[e.latitude,e.longitude])}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initKeenSchema")}}()}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initAnalytics")}}function sr(e){try{var t="abcxyz";DIGIOH_CROSS_DOMAIN.setManual("__bxtest",t),DIGIOH_CROSS_DOMAIN.getManual("__bxtest",(function(r){(DIGIOH_CROSS_DOMAIN.isWorkingFinished=!0,"string"==typeof r&&DIGIOH_CONFIG.USE_LZ&&i.decompressFromBase64(r)===t?DIGIOH_CROSS_DOMAIN.isWorking=!0:"string"!=typeof r||DIGIOH_CONFIG.USE_LZ||r!==t?DIGIOH_CROSS_DOMAIN.isWorking=!1:DIGIOH_CROSS_DOMAIN.isWorking=!0,!DIGIOH_CROSS_DOMAIN.isWorking&&e<5)?(DIGIOH_CONFIG.USE_LZ?DIGIOH_LOG.log("setIsCrossDomainStorageWorking failed: cnt="+e+", val="+i.decompressFromBase64(r)+", testVal="+t):DIGIOH_LOG.log("setIsCrossDomainStorageWorking failed: cnt="+e+", val="+r+", testVal="+t),setTimeout(sr,1e3,e+1)):(DIGIOH_LOG.log("setIsCrossDomainStorageWorking("+e+") ==> succeeded"),_r())}))}catch(t){DIGIOH_LOG.tryShowError(t)&&(t.message="DIGIOH_ERROR: user.js -- "+t.message,console.error(t)),DIGIOH_LOG.logError(t,"setIsCrossDomainStorageWorking"),DIGIOH_CROSS_DOMAIN.isWorking=!1,DIGIOH_LOG.log("setIsCrossDomainStorageWorking exception: cnt="+e),_r()}}function ar(){const e=r.readyState;"complete"===e||"loaded"===e||"interactive"===e?(DIGIOH_LOG.log("STOPWATCH (DOMContentLoaded) - "+Math.ceil(((new Date).getTime()-a)/1e3)),ur()):setTimeout(ar,250)}function lr(e,t){DIGIOH_API.BLIP_ARR="undefined"!=typeof DIGIOH_BLIP_LZ&&DIGIOH_CONFIG.USE_LZ?JSON.parse(i.decompressFromBase64(DIGIOH_BLIP_LZ)):[],"object"==typeof e?.geo&&e.geo.ip&&(DIGIOH_API.BLIP_ARR.includes(e.geo.ip)?(e.geo.blip_matched=1,V=1):(e.geo.blip_matched=0,V=0)),e.ltso&&DIGIOH_LIGHTBOX_ANALYTICS.setLocalTimeOffset(e.ltso),"object"==typeof e?.geo&&(DIGIOH_LIGHTBOX_ANALYTICS.setGeoData(e),function(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS;e?.ip_address?.length>=7&&(E.geoip={ip_address:e.ip_address,continent_code:e.continent,country_code:e.country,country_name:e.country_name,region_code:e.state,region_name:e.region_name,city:e.city,zipcode:e.zipcode,metro_code:e.metro_code,time_zone:e.time_zone,area_code:e.area_code,latitude:e.latitude,longitude:e.longitude,geo_source:e.geo_source,blip_matched:V})}(),n.geo=!0),"string"==typeof e?.da&&(DIGIOH_LIGHTBOX_ANALYTICS.setDeviceData(e),function(){const e=DIGIOH_LIGHTBOX_ANALYTICS.VARS;e?.DeviceAtlas?.primaryHardwareType&&(E.device_atlas={primaryHardwareType:e.DeviceAtlas.primaryHardwareType,isApp:e.DeviceAtlas.isApp,isTablet:e.DeviceAtlas.isTablet,isMobilePhone:e.DeviceAtlas.isMobilePhone,model:e.DeviceAtlas.model,vendor:e.DeviceAtlas.vendor,touchScreen:e.DeviceAtlas.touchScreen,osName:e.DeviceAtlas.osName,osVersion:e.DeviceAtlas.osVersion,browserName:e.DeviceAtlas.browserName,browserVersion:e.DeviceAtlas.browserVersion,osAndroid:e.DeviceAtlas.osAndroid,osiOs:e.DeviceAtlas.osiOs,device_source:e.device_source})}(),n.device=!0),"function"==typeof t&&t()}function cr(e){(e||n.geo&&n.device)&&gr()}function ur(){try{Zt(ur)&&(DIGIOH_LOG.log("STOPWATCH (afterDomLoaded) - "+Math.ceil(((new Date).getTime()-a)/1e3)),t.addEventListener?t.addEventListener("message",Vt,!1):t.attachEvent("message",Vt),DIGIOH_STORAGE.isCrossDomain()?(DIGIOH_CROSS_DOMAIN.callbacks[999999999]=function(e){DIGIOH_LOG.log("identityChildReady999999999: "+e),sr(0)},function(e){try{var r=`${e}/lclst/${DIGIOH_VENDOR_GUID}/ls.html`;r+="?purl="+encodeURIComponent(t.location.href),r+="&vid="+DIGIOH_VENDOR_GUID,r+="&se="+(h?"1":"0"),r+="&prev="+(g.isPreview?"1":"0"),DIGIOH_CACHE_VERSION?r+="&cb="+DIGIOH_CACHE_VERSION:r+="&cb="+(new Date).getTime(),JQUERY_DIGIOH('<iframe title="DigiohLocalStorageIframe" name="DigiohLocalStorageIframe" id="DigiohLocalStorageIframe" src="'+r+'" width="0" height="0" style="position:absolute;visibility:hidden;left:-100px;top:-100px;width:0;height:0;margin:0;padding:0;border-width:0px;border-style:none;" frameborder="0" scrolling="no"></iframe>').appendTo("body")}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"createIdentityIframe")}}(DIGIOH_CONFIG.BOX_BASE_URL),setTimeout((function(){DIGIOH_CROSS_DOMAIN.isWorkingFinished?(DIGIOH_LOG.log("DIGIOH_CROSS_DOMAIN.isWorkingFinished: "+DIGIOH_CROSS_DOMAIN.isWorkingFinished.toString()+" (skipping short circuit)"),DIGIOH_STORAGE.DATA_LOADING&&!DIGIOH_STORAGE.DATA_LOADED&&(_r(),DIGIOH_LOG.log("retrying to loadAllClientSideDataFromClientStorage - using short circuit due to possible race-condition - 1"))):(DIGIOH_LOG.log("Calling setIsCrossDomainStorageWorking using short circuit!!!!"),sr(0))}),2e3)):(DIGIOH_STORAGE.isLocalStorage()||DIGIOH_STORAGE.isCookie())&&_r())}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"afterDomLoaded")}}function _r(){if(!DIGIOH_STORAGE.DATA_LOADING||!DIGIOH_STORAGE.DATA_LOADED){DIGIOH_STORAGE.DATA_LOADING=!0;try{DIGIOH_LOG.log("loadAllClientSideDataFromClientStorage() --\x3e storage_type = "+DIGIOH_STORAGE.storage_type),DIGIOH_STORAGE.get((function(e){if("string"==typeof e&&e.length>7){var t=e;if((DIGIOH_CONFIG.USE_LZ||e.indexOf("{")<0)&&(t=i.decompressFromBase64(e)),t&&0===t.indexOf("{")){DIGIOH_LOG.log("compressed / json : "+e.length+" / "+t.length);var r=JSON.parse(t);DIGIOH_GUTIL.isObj(r)&&r.__bxcurr&&(DIGIOH_STORAGE.data=r,DIGIOH_LOG.log(DIGIOH_STORAGE.data))}}DIGIOH_STORAGE.DATA_LOADING=!1,DIGIOH_STORAGE.DATA_LOADED=!0,dr()}))}catch(e){DIGIOH_STORAGE.DATA_LOADING=!1,DIGIOH_STORAGE.DATA_LOADED=!0,DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"loadAllClientSideDataFromClientStorage"),dr()}}}function dr(){var e=!1;DIGIOH_GUTIL.isNullish(DIGIOH_STORAGE.data)&&(DIGIOH_STORAGE.data={},e=!0),DIGIOH_STORAGE.data.__bxcurr||(DIGIOH_STORAGE.data.__bxcurr={},e=!0),DIGIOH_STORAGE.data.__bxprev||(DIGIOH_STORAGE.data.__bxprev={},e=!0),DIGIOH_STORAGE.data.__bxevents||(DIGIOH_STORAGE.data.__bxevents={},e=!0),DIGIOH_STORAGE.data.__bxcid||(DIGIOH_STORAGE.data.__bxcid=DIGIOH_GUTIL.generateGuidWithTimestamp(),e=!0),e&&DIGIOH_STORAGE.set(),DIGIOH_COOKIE.getEncoded("xdibx")&&(DIGIOH_STORAGE.isLocalStorage()||DIGIOH_STORAGE.isCrossDomain())&&DIGIOH_COOKIE.erase("xdibx"),function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS;try{("string"!=typeof DIGIOH_STORAGE.data.__bxcid||DIGIOH_STORAGE.data.__bxcid.length<7)&&(DIGIOH_STORAGE.data.__bxcid=l.generateGuidWithTimestamp()),O=DIGIOH_STORAGE.data.__bxcid,JQUERY_DIGIOH(".digioh-lightbox-container").length&&JQUERY_DIGIOH("div.digioh-lightbox-container:first").hide(),DIGIOH_LIGHTBOX_ANALYTICS=createDigiohAnalyticsModule({DLOG:DIGIOH_LOG,VENDOR_GUID:DIGIOH_VENDOR_GUID,IS_PREVIEW:g.isPreview}),function(){try{if(g.isPreview)gr();else{var e=DIGIOH_VENDOR_SHORT_ID||DIGIOH_VENDOR_GUID||"empty",r=t?.location?.hostname||"empty",o=(s?p+"lightboxapitest.azurewebsites.net":DIGIOH_CONFIG.API_BASE_URL)+"/z9gd/"+e+"/"+r+"/jsonp/z?cb="+(new Date).getTime();"true"===DIGIOH_API.getAccountMetadata("disable_geoip")&&(o+="&skip_geo=true"),async function(e){try{let t=DIGIOH_LOADER.loads.dgdr,r=!0;if(!t){t={},t.promise=new Promise(((e,r)=>{t.resolveCallback=e,t.rejectCallback=r})),DIGIOH_LOADER.loads.dgdr=t;let o=DIGIOH_LOCAL_STORAGE.getManual("dgdr");o&&("number"!=typeof o.ts||Date.now()-o.ts<36e5)?(r=!1,t.resolveCallback(o)):(e+="&dre=l",JQUERY_DIGIOH.ajax({dataType:"jsonp",url:e,success:t.resolveCallback,error:t.rejectCallback}))}const o=new Promise(((e,t)=>{setTimeout(t,7e3)})),n=await Promise.race([DIGIOH_LOADER.loads.dgdr.promise,o]);let s=n;if(DIGIOH_LOG.log("callGeoDevice ==> success"),DIGIOH_LOG.log(n),"l"==s?.dre&&(s=JSON.parse(i.decompressFromBase64(s.response))),r){const e=(s.ts||Date.now())+36e5-Date.now();e>0&&DIGIOH_LOCAL_STORAGE.setManual("dgdr",s,e)}s&&lr(s)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"callGeoDevice"),n.geo=!0,n.device=!0}finally{cr(!0)}}(o)}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"analyticsGeoDevice"),gr()}var s}()}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"afterDomLoadedAndStorageLoadedAndPostMessageInit")}}()}function gr(){try{Zt(gr)&&(nr(),function(){try{!function(e,r){r.transitions.slideDownIn=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id);var t=ce(r.current.box_id),o=r._getPosition(!0),i=parseInt(o.top,10)+t.height+"px";o.top=-1*t.height+"px",L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).css(o).show().animate({top:"+="+i},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn}):r.wrap.css(o).show().animate({top:"+="+i},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn})},r.transitions.slideDownOut=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var o=e(t).height(),i=e(".fb_lightbox-wrap").filter(":first").offset().top,n=Math.ceil(o-i)+"px";L.includes(r.current.box_id)?(r.wrap.removeClass("fb_lightbox-opened"),e("#"+dt(r.current.box_id)).animate({top:"+="+n},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})):r.wrap.removeClass("fb_lightbox-opened").animate({top:"+="+n},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})},r.transitions.slideUpIn=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var o=r._getPosition(!0),i=e(t).height(),n=Math.ceil(i-parseInt(o.top,10))+"px";o.top=Math.ceil(i)+"px",L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).css(o).show().animate({top:"-="+n},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn}):r.wrap.css(o).show().animate({top:"-="+n},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn})},r.transitions.slideUpOut=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id);var t=ce(r.current.box_id),o=r._getPosition(!0),i=parseInt(o.top,10)+t.height+"px";L.includes(r.current.box_id)?(r.wrap.removeClass("fb_lightbox-opened"),e("#"+dt(r.current.box_id)).animate({top:"-="+i},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})):r.wrap.removeClass("fb_lightbox-opened").animate({top:"-="+i},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})},r.transitions.slideLeftIn=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var o=e(t).width(),i=r._getPosition(!0),n=Math.ceil(o-parseInt(i.left,10))+"px";i.left=Math.ceil(o)+"px",L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).css(i).show().animate({left:"-="+n},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn}):r.wrap.css(i).show().animate({left:"-="+n},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn})},r.transitions.slideLeftOut=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id);var t=ce(r.current.box_id),o=e(".fb_lightbox-wrap").filter(":first").offset().left,i=Math.ceil(o+t.width)+"px";L.includes(r.current.box_id)?(r.wrap.removeClass("fb_lightbox-opened"),e("#"+dt(r.current.box_id)).animate({left:"-="+i},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})):r.wrap.removeClass("fb_lightbox-opened").animate({left:"-="+i},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})},r.transitions.slideRightIn=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id);var t=ce(r.current.box_id),o=r._getPosition(!0),i=Math.ceil(parseInt(o.left,10)+t.width)+"px";o.left=-1*t.width+"px",L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).css(o).show().animate({left:"+="+i},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn}):r.wrap.css(o).show().animate({left:"+="+i},{easing:r.current.openEasing,duration:r.current.openSpeed,complete:r._afterZoomIn})},r.transitions.slideRightOut=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var o=e(t).width(),i=e(".fb_lightbox-wrap").filter(":first").offset().left,n=Math.ceil(o-i)+"px";L.includes(r.current.box_id)?(r.wrap.removeClass("fb_lightbox-opened"),e("#"+dt(r.current.box_id)).animate({left:"+="+n},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})):r.wrap.removeClass("fb_lightbox-opened").animate({left:"+="+n},{easing:r.current.closeEasing,duration:r.current.closeSpeed,complete:r._afterZoomOut})},r.transitions.zoomInCustom=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var t=r.current,o=t.pos,i=t.openEffect,n="elastic"===i,s=e.extend({opacity:1},o);delete s.position,n?(o=this.getOrigPosition(),t.openOpacity&&(o.opacity=.1)):"fade"===i&&(o.opacity=.1),L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).css(o).show().animate(s,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:n?this.step:null,complete:r._afterZoomIn}).css("overflow","visible"):r.wrap.css(o).animate(s,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:n?this.step:null,complete:r._afterZoomIn})},r.transitions.zoomOutCustom=function(){DIGIOH_LOG.log("initFancyboxEffects: "+r.current.box_id),ce(r.current.box_id);var t=r.current,o=t.closeEffect,i="elastic"===o,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),L.includes(r.current.box_id)?e("#"+dt(r.current.box_id)).animate(n,{duration:"none"===o?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut}):r.wrap.animate(n,{duration:"none"===o?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})}}(JQUERY_DIGIOH,JQUERY_DIGIOH.fb_lightbox)}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initFancyboxEffects")}}(),DIGIOH_API.getUrlParameter("digioh_conditions_monitor")&&qe.openConditionsMonitor(JQUERY_DIGIOH),(DIGIOH_API.DIGIOH_USE_FRAME_COMPATIBILITY?DIGIOH_API.DIGIOH_TOP_WINDOW_CONTEXT:t.parent).location.href.indexOf("lightbox-jquery-selector-generator")>0&&Q(),Pt("AfterDocReady",""),fr())}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initDependentScripts")}}function fr(){const e="JS_GLOBAL.runCustomJsOnDocumentReady()";try{var o=!0;if(g.isPreview||(o=DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnDocumentReady(DIGIOH_API,t,r,JQUERY_DIGIOH,Ct("")),DIGIOH_LOG.log(e)),"string"==typeof o&&0===o.indexOf("async_retry"))DIGIOH_LOG.log(e+" - async_retry - retrying in 300ms..."),setTimeout((function(){fr()}),300);else{if("string"==typeof o&&0===o.indexOf("async_callback"))return void DIGIOH_LOG.log(e+" - async_callback - waiting for callback...");!function(e){try{if("boolean"!=typeof e||!0===e)pr();else{Object.keys(DIGIOH_LIGHTBOX_IDS).forEach((e=>qe.setSuppressionReason(e,"All boxes suppressed due to Global Custom Page JS returning false")))}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"customJsSuperOnDocumentReadyComplete")}}(o)}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"customJsSuperOnDocumentReadyCallback")}}function pr(){const e="DIGIOH: DIGIOH_CUSTOM_JS.runCustomJsOnDocumentReady()";try{var o=!0;if(g.isPreview||(o=DIGIOH_CUSTOM_JS.runCustomJsOnDocumentReady(DIGIOH_API,t,r,JQUERY_DIGIOH,Ct("")),DIGIOH_LOG.log(e)),"string"==typeof o&&0===o.indexOf("async_retry"))DIGIOH_LOG.log(e+"async_retry - retrying in 300ms..."),setTimeout((function(){pr()}),300);else{if("string"==typeof o&&0===o.indexOf("async_callback"))return void DIGIOH_LOG.log(e+" - async_callback - waiting for callback...");!function(e){const o=Object.keys(DIGIOH_LIGHTBOX_IDS);try{if(JQUERY_DIGIOH(t).resize((function(){Ne("window_resize"),Xe("","","window_resize")})),(qt()||Qt())&&(t.addEventListener("orientationchange",Be),DIGIOH_API.PREVIOUS_WINDOW_WIDTH=Me(),DIGIOH_API.previousOrientation=t.orientation,t.setInterval((function(){(Math.abs(DIGIOH_API.PREVIOUS_WINDOW_WIDTH-Me())>50||t.orientation!==DIGIOH_API.previousOrientation)&&(DIGIOH_API.PREVIOUS_WINDOW_WIDTH=Me(),DIGIOH_API.previousOrientation=t.orientation,Be())}),500)),function(){const e=t.DIGIOH_MOBILE_SDK_BOX_ID;if(!e)return!1;const r=DIGIOH_API.getBoxGUID(e);return r?pt(r):DIGIOH_LOG.log("The Box you are trying to display is currently turned OFF."),!0}())return;if(g.isPreview)!async function(e){localStorage.clear();for(var o=parent.document.cookie.split(";"),i=0;i<o.length;i++)"AnalyticsCustom"!=o[i].split("=")[0]&&(DIGIOH_COOKIE.erase(o[i].split("=")[0]),DIGIOH_LOG.log("Preview.initConditions.eraseCookie: "+o[i].split("=")[0]));if(DIGIOH_LOG.log("Preview.clearDataLayer, erase cookies, erase LS, for Preview"),await He(e),re(e))ct(e);else{const o=N[e],y=DIGIOH_LIGHTBOX_ANALYTICS.VARS;o||z(e),ft(e);const b=JQUERY_DIGIOH(t);if(DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_CLICK)JQUERY_DIGIOH("#preview_click_selector").click((function(t){t.preventDefault(),y.click_jquery_selector["#preview_click_selector"]=!0,pt(e),y.click_jquery_selector["#preview_click_selector"]=!1}));else if(DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_HOVER)y.hover_jquery_selector["#preview_hover_selector"]=!1,JQUERY_DIGIOH("#preview_hover_selector").mouseenter((function(){y.hover_jquery_selector["#preview_hover_selector"]=!0,pt(e)})).mouseleave((function(){y.hover_jquery_selector["#preview_hover_selector"]=!1}));else if(DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_SCROLL)y.scroll_pixels_prev=0,y.scroll_pixels=0,b.scroll((function(){y.scroll_pixels=Math.round(b.scrollTop()),y.scroll_pixels<y.scroll_pixels_prev&&(y.scroll_pixels_prev=y.scroll_pixels),y.scroll_pixels>=300+y.scroll_pixels_prev&&(y.scroll_pixels_prev=y.scroll_pixels,pt(e))}));else if(DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_EXIT){var n=-1,s=-1,a=-1,c=-1,u=0,_="",d="",g=b.width(),f=b.height();b.scrollTop();const t=JQUERY_DIGIOH(r);t.mousemove((function(e){n=e.pageX,s=e.pageY,a>-1&&(u=Math.max(Math.abs(n-a),Math.abs(s-c)),_=n<a?"left":"right",d=s<c?"up":"down"),a=n,c=s})),t.mouseleave((function(){var t=b.scrollTop();("up"==d&&s<t+20&&u>3||"down"==d&&s>f+t-20&&u>3||"right"==_&&n>g-20&&u>3||"left"==_&&n<20&&u>3)&&pt(e)})),b.resize((function(){g=b.width(),f=b.height(),b.scrollTop()}))}if(N[e]?.iframe?.use_custom&&(DIGIOH_PREVIEW_GLOBALS.DigiohPreviewOnScriptLoaded(),DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_CLICK||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_HOVER||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_SCROLL||DIGIOH_PREVIEW_GLOBALS.IS_PREVIEW_EXIT||t.setTimeout((function(){pt(e)}),500)),l.isObj(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS)){const t=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[e];var p="",I=[];if(t)for(var h in t)t[h]&&h.indexOf("mobile")<0&&-1===JQUERY_DIGIOH.inArray(parseInt(h),I)&&I.push(parseInt(h));if(I.length>0){I.sort((function(e,t){return e-t}));var O="bottom";(ee(o)&&0===o.sidebar.position.indexOf("bottom-")||te(o)&&"bottom"===o.banner.placement)&&(O="top");var m=b.height(),v=0;for(i=0;i<I.length;i++)p=(p+="<a href='javascript:window.resizeTo([BP2], "+m+");' style='display:inline-block;cursor:pointer;float:left;width:[BP1]px;height:35px;line-height:35px;text-align:center;border-right:3px solid white;color:white;background-color:black;'>Breakpoint [BP2]px</a>").split("[BP2]").join(I[i].toString()).replace("[BP1]",(I[i]-v-3).toString()),v=I[i];p=(p+="<a href='javascript:window.resizeTo([BP2], "+m+");' style='display:inline-block;cursor:pointer;float:left;width:[BP1]px;height:35px;line-height:35px;text-align:center;color:white;background-color:black;'>Main &rarr;</a>").split("[BP2]").join((v+300).toString()).replace("[BP1]",280..toString()),JQUERY_DIGIOH("body").css("overflow-x","hidden").prepend("<div id='breakpoint_bar' style='min-width:"+(v+300)+"px;z-index:9998010;position:fixed;"+O+":0px;background-color:black;width:100%;height:35px;'>"+p+"<div style='float:none;clear:both;'></div></div>")}}}}(DIGIOH_PREVIEW_GLOBALS.LIGHTBOX_GUID_PREVIEW);else{const t=function(){var e=l.sanitizeQaParam(l.getUrlParam("box_test_id"))||l.sanitizeQaParam(l.getUrlParam("digioh_box_id"))||l.sanitizeQaParam(l.getUrlParam("DIGIOH_BOX_ID")),t=DIGIOH_API.getBoxGUID(e)||l.sanitizeQaParam(l.getUrlParam("DIGIOH_BOX_GUID"));if(!e&&!t)return null;var r=!!DIGIOH_LIGHTBOX_IDS[t];return r||t?(He(t,d).then((()=>{var o=N[t];if(o||(DIGIOH_LOG.log("Default Effects applied for Preview on Site"),o=z(t)),r||(DIGIOH_LIGHTBOX_IDS[t]=e),re(o)){var i,n,s=o.inline.position_using;if("jquery_selector"==s)i=o.inline.jquery_selector,n=`Unable to preview jQuery positioned inline box ${e||t}: no HTML element on this page matches selector ${i}. Preview on a page where this HTML exists, update your page HTML, or modify the selector in Digioh Box Editor > Box Settings`;else if("smart_tag"==s)i="#lightbox-inline-form-"+t,n=`Unable to preview box ${e||t}: Smart Tag not found on this page. Preview on a page where the Smart Tag is present, or add the Smart Tag to this page's HTML. You can get the Smart Tag in Digioh Box Editor > Box Settings`;else{if("universal_smart_tag"!=s)return void alert(`Digioh cannot preview inline box with positioning ${s}. Please contact Digioh Support.`);i=".digioh_universal_smart_tag",n=`Unable to preview box ${e||t}: Universal Smart Tag not found on this page. Preview on a page where the Universal Smart Tag is present, or add the Universal Smart Tag to this page's HTML. You can get the Smart Tag in Digioh Box Editor > Box Settings`}if(0==JQUERY_DIGIOH(i).length)return void alert(n);ct(t,d)}else pt(t,!0,d)})),t):(alert(`Can't preview unpublished Box ID ${e}. Previewing with URL parameter DIGIOH_BOX_ID alone requires that the Box is published, include both DIGIOH_BOX_ID= and DIGIOH_BOX_GUID= on the URL`),null)}(),r=!1===e;if(DIGIOH_CONFIG?.OVERRIDE_BOX_GUID?.length){let e=DIGIOH_CONFIG.OVERRIDE_BOX_GUID;He(e).then((function(){re(e)?ct(e,g,!0):pt(e,!0)}))}else r?ze(o,"All boxes suppressed due to Custom Page JS returning false"):t?ze([t],"Box is displaying as On-Site Preview and bypassed conditions"):ze()}DIGIOH_API.DIGIOH_IS_READY=!0,JQUERY_DIGIOH(r).trigger("DIGIOH_CONDITIONS_FINISHED",{})}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"customJsOnDocumentReadyComplete")}}(o)}}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"customJsOnDocumentReadyCallback")}}DIGIOH_API.LIGHTBOX={},(rr=DIGIOH_API.LIGHTBOX).loadLightbox=pt,rr.closeSidebar=Ot,rr.closeBanner=ht,rr.closeInline=mt,rr.closeAllInlineForms=ut,rr.getLightboxDomId=dt,rr.getActiveLightboxDomId=gt,rr.isPhone=Wt,rr.isTablet=Qt,rr.isMobile=qt,rr.isDesktop=Kt,rr.isiOs=$t,rr.isAndroid=zt,rr.getActualBoxWidthAndHeight=ce,rr.getBoxWidth=ae,rr.getBoxHeight=le,rr.getResponsiveBoxWidth=ue,rr.getResponsiveBoxHeight=_e,rr.getResponsiveBoxWidthPercent=de,rr.getResponsiveBoxHeightPercent=ge,rr.getResponsiveBoxWidthMax=fe,rr.getResponsiveBoxHeightMax=pe,rr.getResponsiveBoxWidthMin=Ie,rr.getResponsiveBoxHeightMin=he,rr.responsiveResizeCheck=Ne,rr.sendMessageToIframe=Bt,rr.receiveMessageFromIframe=jt,rr.relayMessageToIframe=Jt,rr.setLightboxID=function(e){LIGHTBOX_GUID=e},rr.hasOpenLightboxes=yt,rr.closeAllOpenLightboxes=vt,rr.initExistsSelectors=qe.initExistsSelectors,rr.recheckExistsSelectors=qe.recheckExistsSelectors,rr.addExistsSelector=qe.addExistsSelector,rr.removeExistsSelector=qe.removeExistsSelector,rr.getExistsSelectors=qe.getExistsSelectors,rr.checkConditions=qe.checkConditions,rr.checkConditionsHover=qe.checkConditionsHover,rr.checkConditionsScroll=qe.checkConditionsScroll,rr.checkConditionsExit=qe.checkConditionsExit,rr.checkConditionsTime=qe.checkConditionsTime,rr.checkConditionsLoad=qe.checkConditionsLoad,rr.loadEffects=He,rr.isInlineLightbox=De,rr.embedInlineLightboxForm=ct,rr.onInfiniteScrollPageChanged=tr,rr.onPageUrlChanged=tr,rr.isDigiohReady=er,rr.customJsOnDocumentReadyCallback=pr,rr.analyticsRunAfterIdentify=cr,rr.getUrlParam=l.getUrlParam,rr.getUrlParameter=l.getUrlParam,rr.cloneObj=DIGIOH_GUTIL.cloneObj,rr.getClientGuid=m,rr.generateGuid=l.generateGuid,rr.generateGuidWithTimestamp=l.generateGuidWithTimestamp,rr.keenLightboxDebug=Ce,rr.registerAnalyticsManualRedirect=Te,rr.runJquerySelectorGenerator=Q,rr.setBoxToScrollMode=Xe,rr.INTEGRATION_MAP={},rr.AB_BOXES_TAKE_MAP=j,rr.AB_BOXES_SKIP_MAP=J,rr.JQUERY_DIGIOH=JQUERY_DIGIOH,rr.DIGIOH_KEEN_WRITE_KEY=DIGIOH_KEEN_WRITE_KEY,rr.KEEN_CLIENT=v,rr.LZString=i,rr.DIGIOH_COOKIE=DIGIOH_COOKIE,rr.DIGIOH_LOCAL_STORAGE=DIGIOH_LOCAL_STORAGE,rr.DIGIOH_STORAGE=DIGIOH_STORAGE,rr.USE_LZ=DIGIOH_CONFIG.USE_LZ,DIGIOH_API.COMM={},DIGIOH_API.downloadQuizResultsTable=function(){var e=new Date,t=e.getFullYear()+"_"+(e.getMonth()+1)+"_"+e.getDate()+"_"+e.getHours()+"_"+e.getMinutes()+"_"+e.getSeconds(),o="Quiz_Results_Account"+DIGIOH_API.getAccountId()+"_"+t,i="<html><head><style id='quiz_test_styles' type='text/css'>"+JQUERY_DIGIOH("#quiz_test_styles").html()+"</style></head><body><div id='quiz_test_results'>"+JQUERY_DIGIOH("#quiz_test_results").html()+"</div></body></html>",n=r.createElement("a");if(n.setAttribute("href","data:text/html;charset=utf-8,"+encodeURIComponent(i)),n.setAttribute("download",o),r.createEvent){var s=r.createEvent("MouseEvents");s.initEvent("click",!0,!0),n.dispatchEvent(s)}else n.click()},"undefined"!=typeof module&&void 0!==module.exports&&(module.exports={addSdkApiModule:ir}),ir(DIGIOH_API,{DLOG:DIGIOH_LOG,UTIL:DIGIOH_GUTIL,DCOND:qe,JQUERY_DIGIOH:JQUERY_DIGIOH,DIGIOH_COOKIE:DIGIOH_COOKIE,DIGIOH_LOCAL_STORAGE:DIGIOH_LOCAL_STORAGE,IS_PREVIEW:g.isPreview,DIGIOH_VENDOR_SHORT_ID:DIGIOH_VENDOR_SHORT_ID,DIGIOH_PARTNER_NAME:DIGIOH_PARTNER_NAME,DIGIOH_VENDOR_GUID:DIGIOH_VENDOR_GUID,CLIENT_GUID:O,DIGIOH_LIGHTBOX_IDS:DIGIOH_LIGHTBOX_IDS,KEEN_SCHEMA:E,DIGIOH_KEEN_WRITE_KEY:DIGIOH_KEEN_WRITE_KEY,DIGIOH_CACHE_VERSION:DIGIOH_CACHE_VERSION,LZ_STRING:i,DIGIOH_SPLIT_TESTS_ARR:DIGIOH_SPLIT_TESTS_ARR,LOADED_LIGHTBOXES:G,ACCOUNT_METADATA:ACCOUNT_METADATA,updateKeenSchemaBeforeSending:Pe,getDigiohLightboxAnalytics:function(){return DIGIOH_LIGHTBOX_ANALYTICS}}),t.DIGIOH_API=DIGIOH_API,t.LIGHTBOX_API=DIGIOH_API,null!==(or=r.getElementById(DIGIOH_VENDOR_GUID))&&(or.style.display="none"),function(){const e=DIGIOH_CONFIG.BOX_BASE_URL;var t=r.head||r.getElementsByTagName("head")[0],o=r.createElement("link");o.type="text/css",o.rel="stylesheet",o.media="screen",o.href=`${e}/static/fb_lightbox.2.1.5.css?cb=20240725`,t.appendChild(o)}(),function(){Se();const e=g.isPreview||g.isQa;DIGIOH_LOG.init(e,!1),DIGIOH_STORAGE.initStorageType(),function(){try{v=new Keen({projectId:"53ab77e2c9e1637d8a000000",writeKey:DIGIOH_KEEN_WRITE_KEY})}catch(e){DIGIOH_LOG.tryShowError(e)&&(e.message="DIGIOH_ERROR: user.js -- "+e.message,console.error(e)),DIGIOH_LOG.logError(e,"initKeen")}}(),DIGIOH_LOG.log("STOPWATCH (afterScriptLoaded) - "+Math.ceil(((new Date).getTime()-a)/1e3)),"true"===localStorage.getItem("digioh_print_all")&&DIGIOH_LOG.printAll();JQUERY_DIGIOH(r).ready((function(){DIGIOH_LOG.log("STOPWATCH ($(document).ready) - "+Math.ceil(((new Date).getTime()-a)/1e3)),ur()})),ar(),"number"==typeof ClientJsDomMaxWaitSeconds&&ClientJsDomMaxWaitSeconds>0&&setTimeout((function(){DIGIOH_LOG.log("STOPWATCH (ClientJsDomMaxWaitSeconds) - "+Math.ceil(((new Date).getTime()-a)/1e3)),ur()}),1e3*ClientJsDomMaxWaitSeconds)}()}(DIGIOH_TOP_WINDOW_CONTEXT,DIGIOH_PARENT_WINDOW_CONTEXT,DIGIOH_PARENT_WINDOW_CONTEXT.document,window,LZString);let mainjsLoader=DIGIOH_LOADER?.loads?DIGIOH_LOADER.loads.main:null;mainjsLoader&&mainjsLoader.resolveCallback()})();